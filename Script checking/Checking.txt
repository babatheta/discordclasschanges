(this.webpackChunkdiscord_app = this.webpackChunkdiscord_app || []).push([["22099"], {
    102469: function(e, t, n) {
        "use strict";
        e.exports = n.p + "b63cfbc6f70d8de7588b.svg"
    },
    312438: function(e, t, n) {
        "use strict";
        e.exports = n.p + "fd8d1ab4401c09dda258.svg"
    },
    56512: function(e, t, n) {
        "use strict";
        e.exports = n.p + "055cf105c877d3339e8f.svg"
    },
    38983: function(e, t, n) {
        "use strict";
        e.exports = n.p + "a60d26976a508584634e.svg"
    },
    517474: function(e, t, n) {
        "use strict";
        e.exports = n.p + "afa7219fdbd3e6de8e95.svg"
    },
    720617: function(e, t, n) {
        "use strict";
        e.exports = n.p + "baae0fdb50aef3b9e645.png"
    },
    272162: function(e, t, n) {
        "use strict";
        e.exports = n.p + "33f73a2ba4fa3287e970.png"
    },
    632989: function(e, t, n) {
        "use strict";
        e.exports = n.p + "ca4fbb666ac8310add87.png"
    },
    376252: function(e, t, n) {
        "use strict";
        e.exports = n.p + "ca09e726240aa840aec9.png"
    },
    273226: function(e, t, n) {
        "use strict";
        e.exports = n.p + "3ceb22f3f08715ba342b.png"
    },
    922026: function(e, t, n) {
        "use strict";
        e.exports = n.p + "bc203f4cd41192d837df.png"
    },
    873180: function(e, t, n) {
        "use strict";
        e.exports = n.p + "e84707090dc27be30d49.png"
    },
    827926: function(e, t, n) {
        "use strict";
        e.exports = n.p + "33a79fb6e6f251ca8815.png"
    },
    450559: function(e, t, n) {
        "use strict";
        e.exports = n.p + "7d41f36b57e1dbeb3b18.svg"
    },
    454823: function(e, t, n) {
        "use strict";
        e.exports = n.p + "1786c63f77002f87af74.svg"
    },
    951099: function(e, t, n) {
        "use strict";
        e.exports = n.p + "bd6853519556160c43d7.svg"
    },
    136347: function(e, t, n) {
        "use strict";
        e.exports = n.p + "abdb69dd2bf1ea5d9985.svg"
    },
    977706: function(e, t, n) {
        "use strict";
        e.exports = n.p + "9cc46c9ca10d0328c3d3.svg"
    },
    403756: function(e, t, n) {
        "use strict";
        e.exports = n.p + "73a457cda6ff432d7d12.svg"
    },
    536404: function(e, t, n) {
        "use strict";
        e.exports = n.p + "afdfc30a622b196f4a32.svg"
    },
    569347: function(e, t, n) {
        "use strict";
        e.exports = n.p + "46ad820e0867516cb72d.svg"
    },
    915600: function(e, t, n) {
        "use strict";
        e.exports = n.p + "b2a30b85b0c06e21575c.svg"
    },
    670289: function(e, t, n) {
        "use strict";
        e.exports = n.p + "49fccf201b9c397aa1ec.svg"
    },
    988298: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            inviteChannel: function() {
                return i
            },
            inviteUser: function() {
                return r
            },
            openModal: function() {
                return a
            },
            updateQuery: function() {
                return s
            }
        });
        var l = n("570140");
        function a(e, t) {
            return new Promise(n=>{
                setTimeout(()=>{
                    l.default.dispatch({
                        type: "ACTIVITY_INVITE_MODAL_OPEN",
                        activity: e,
                        isPrivate: t,
                        resolve: n
                    })
                }
                , 0)
            }
            )
        }
        function s(e) {
            l.default.dispatch({
                type: "ACTIVITY_INVITE_MODAL_QUERY",
                query: e
            })
        }
        function i(e) {
            l.default.dispatch({
                type: "ACTIVITY_INVITE_MODAL_SEND",
                channelId: e
            })
        }
        function r(e) {
            l.default.dispatch({
                type: "ACTIVITY_INVITE_MODAL_SEND",
                userId: e
            })
        }
    },
    212093: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            clearSearch: function() {
                return T
            },
            createAlgoliaIndex: function() {
                return E
            },
            doAlgoliaSearch: function() {
                return function e(t, n) {
                    let l = !(arguments.length > 2) || void 0 === arguments[2] || arguments[2]
                      , {categoryId: a=m.DISCOVERY_ALL_CATEGORIES_ID, preferredLocale: s, offset: c, length: C, tag: p} = n
                      , E = d.default.getSearchIndex();
                    if (null == E)
                        return;
                    l && !function(e) {
                        let {query: t, preferredLocale: n, offset: l, limit: a, categoryId: s, tag: r} = e
                          , o = (0,
                        u.getHistory)()
                          , d = i.stringify({
                            query: t,
                            offset: l,
                            limit: a,
                            preferredLocale: n,
                            categoryId: s,
                            tag: r
                        })
                          , c = o.location.search;
                        (!(null != c && c.length > 0 && c.startsWith("?")) || c.startsWith("?") && c.split("?")[1] !== d) && (0,
                        u.transitionTo)(h.Routes.GUILD_DISCOVERY, {
                            search: d
                        })
                    }({
                        query: t,
                        preferredLocale: s,
                        offset: c,
                        limit: C,
                        categoryId: a,
                        tag: p
                    }),
                    o.default.dispatch({
                        type: "GUILD_DISCOVERY_SEARCH_FETCH_START",
                        section: h.GuildDiscoverySections.SEARCH,
                        query: t,
                        categoryId: a
                    });
                    let S = Object.assign({}, g, n.filters)
                      , _ = Object.keys(S).map(e=>"".concat(e).concat(S[e]));
                    a !== m.DISCOVERY_ALL_CATEGORIES_ID && _.push("(primary_category_id=".concat(a, " OR categories.id=").concat(a, ")"));
                    let I = _.join(" AND ");
                    try {
                        let i = E.search(t, {
                            filters: I,
                            optionalFilters: ["preferred_locale: ".concat(s)],
                            length: C,
                            offset: c,
                            restrictSearchableAttributes: ["name", "description", "keywords", "categories.name", "categories.name_localizations.".concat(s), "primary_category.name", "primary_category.name_localizations.".concat(s), "vanity_url_code"]
                        })
                          , u = r.HTTP.get({
                            url: h.Endpoints.GUILD_DISCOVERY_VALID_TERM,
                            query: {
                                term: t
                            },
                            oldFormErrors: !0
                        });
                        Promise.all([i, u]).then(e=>{
                            let[{hits: n, nbHits: l},{body: {valid: s}}] = e;
                            o.default.dispatch({
                                type: "GUILD_DISCOVERY_SEARCH_FETCH_SUCCESS",
                                section: h.GuildDiscoverySections.SEARCH,
                                query: t,
                                categoryId: a,
                                guilds: s ? [...n.map(e=>({
                                    ...e,
                                    id: e.objectID
                                }))] : [],
                                offset: c,
                                limit: C,
                                total: s ? Math.min(l, m.MAX_ALGOLIA_PAGINATOR_RESULTS) : 0
                            })
                        }
                        ).catch(s=>{
                            s.body.retry_after > 0 && E === d.default.getSearchIndex() ? setTimeout(()=>{
                                e(t, n, l)
                            }
                            , s.body.retry_after * f.default.Millis.SECOND) : o.default.dispatch({
                                type: "GUILD_DISCOVERY_SEARCH_FETCH_FAILURE",
                                section: h.GuildDiscoverySections.SEARCH,
                                categoryId: a,
                                query: t
                            })
                        }
                        )
                    } catch (e) {
                        o.default.dispatch({
                            type: "GUILD_DISCOVERY_SEARCH_FETCH_FAILURE",
                            section: h.GuildDiscoverySections.SEARCH,
                            categoryId: a,
                            query: t
                        })
                    }
                }
            },
            fetchFeaturedOrPopularGuilds: function() {
                return I
            },
            fetchGamesYouPlayGuilds: function() {
                return N
            },
            fetchPopularGuildsForCategory: function() {
                return _
            },
            getSearchResultsCount: function() {
                return S
            },
            selectCategory: function() {
                return A
            }
        }),
        n("653041"),
        n("47120");
        var l = n("807034")
          , a = n("837281")
          , s = n.n(a)
          , i = n("664751")
          , r = n("544891")
          , o = n("570140")
          , u = n("703656")
          , d = n("683301")
          , c = n("230307")
          , f = n("70956")
          , h = n("981631")
          , m = n("731455");
        let C = window.GLOBAL_ENV.ALGOLIA_KEY
          , p = "production" === window.GLOBAL_ENV.PROJECT_ENV ? "prod_discoverable_guilds" : "staging" === window.GLOBAL_ENV.PROJECT_ENV ? "stg_discoverable_guilds" : "dev_discoverable_guilds"
          , g = {
            "auto_removed:": !1,
            approximate_presence_count: "> 0",
            approximate_member_count: "> 0"
        };
        function E() {
            if (null == C)
                return;
            let e = s()("NKTZZ4AIZU", C, {
                responsesCache: (0,
                l.createNullCache)()
            }).initIndex(p);
            o.default.wait(()=>o.default.dispatch({
                type: "GUILD_DISCOVERY_SEARCH_INIT",
                index: e
            }))
        }
        function S(e, t) {
            let n = d.default.getSearchIndex();
            if (null == n)
                return;
            let l = Object.assign({}, g, t)
              , a = Object.keys(l).map(e=>"".concat(e).concat(l[e]));
            try {
                let t = n.search(e, {
                    filters: a.join(" AND "),
                    facets: ["categories.id"]
                })
                  , l = r.HTTP.get({
                    url: h.Endpoints.GUILD_DISCOVERY_VALID_TERM,
                    query: {
                        term: e
                    },
                    oldFormErrors: !0
                });
                Promise.all([t, l]).then(t=>{
                    let[{nbHits: n, facets: l},{body: {valid: a}}] = t;
                    o.default.dispatch({
                        type: "GUILD_DISCOVERY_SEARCH_UPDATE_COUNTS",
                        query: e,
                        nbHits: a ? n : 0,
                        facets: a ? l : void 0
                    })
                }
                )
            } catch (t) {
                o.default.dispatch({
                    type: "GUILD_DISCOVERY_SEARCH_COUNTS_FAIL",
                    query: e
                })
            }
        }
        async function _(e) {
            o.default.dispatch({
                type: "GUILD_DISCOVERY_POPULAR_FETCH_START",
                categoryId: e
            });
            try {
                let {guilds: t} = (await r.HTTP.get({
                    url: h.Endpoints.GUILD_DISCOVERY,
                    query: i.stringify({
                        categories: [e]
                    }),
                    oldFormErrors: !0
                })).body;
                o.default.dispatch({
                    type: "GUILD_DISCOVERY_POPULAR_FETCH_SUCCESS",
                    categoryId: e,
                    guilds: t
                })
            } catch (t) {
                o.default.dispatch({
                    type: "GUILD_DISCOVERY_POPULAR_FETCH_FAILURE",
                    categoryId: e
                })
            }
        }
        async function I(e, t) {
            o.default.dispatch({
                type: "GUILD_DISCOVERY_FETCH_START",
                section: h.GuildDiscoverySections.FEATURED
            });
            try {
                let n = await r.HTTP.get({
                    url: h.Endpoints.GUILD_DISCOVERY,
                    query: i.stringify({
                        offset: e,
                        limit: t
                    }),
                    oldFormErrors: !0
                });
                L(n.body, h.GuildDiscoverySections.FEATURED)
            } catch (e) {
                o.default.dispatch({
                    type: "GUILD_DISCOVERY_FETCH_FAILURE",
                    section: h.GuildDiscoverySections.FEATURED
                })
            }
        }
        async function N() {
            let e = Object.keys(c.default.applicationStatistics);
            o.default.dispatch({
                type: "GUILD_DISCOVERY_FETCH_START",
                section: h.GuildDiscoverySections.GAMES_YOU_PLAY
            });
            try {
                let t = await r.HTTP.get({
                    url: h.Endpoints.GUILD_DISCOVERY,
                    query: i.stringify({
                        application_ids: e
                    }),
                    oldFormErrors: !0
                });
                L(t.body, h.GuildDiscoverySections.GAMES_YOU_PLAY)
            } catch (e) {
                o.default.dispatch({
                    type: "GUILD_DISCOVERY_FETCH_FAILURE",
                    section: h.GuildDiscoverySections.GAMES_YOU_PLAY
                })
            }
        }
        function T() {
            let e = !(arguments.length > 0) || void 0 === arguments[0] || arguments[0];
            e && (0,
            u.transitionTo)(h.Routes.GUILD_DISCOVERY),
            o.default.dispatch({
                type: "GUILD_DISCOVERY_CLEAR_SEARCH"
            })
        }
        function A(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            o.default.dispatch({
                type: "GUILD_DISCOVERY_SELECT_CATEGORY",
                categoryId: e,
                isHomepage: t
            })
        }
        function L(e, t) {
            let {offset: n, limit: l, guilds: a, total: s} = e;
            o.default.dispatch({
                type: "GUILD_DISCOVERY_FETCH_SUCCESS",
                section: t,
                guilds: a,
                offset: n,
                limit: l,
                total: s
            })
        }
    },
    341382: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            closeModal: function() {
                return a
            }
        });
        var l = n("570140");
        function a(e) {
            l.default.dispatch({
                type: "PREMIUM_REQUIRED_MODAL_CLOSE",
                shouldContinue: e
            })
        }
        n("78839"),
        n("355467")
    },
    324315: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("761414")
          , o = n("590739")
          , u = n("792304")
          , d = n("319643")
          , c = n("481060")
          , f = n("873596")
          , h = n("72416")
          , m = n("476221")
          , C = n("981631")
          , p = n("854903");
        let g = {
            [C.RTCConnectionQuality.UNKNOWN]: c.Tooltip.Colors.BLACK,
            [C.RTCConnectionQuality.BAD]: c.Tooltip.Colors.RED,
            [C.RTCConnectionQuality.AVERAGE]: c.Tooltip.Colors.YELLOW,
            [C.RTCConnectionQuality.FINE]: c.Tooltip.Colors.GREEN
        }
          , E = {
            [C.ConnectionStatus.CONNECTED]: p.rtcConnectionStatusConnected,
            [C.ConnectionStatus.CONNECTING]: p.rtcConnectionStatusConnecting,
            [C.ConnectionStatus.ERROR]: p.rtcConnectionStatusError
        }
          , S = {
            [C.RTCConnectionQuality.FINE]: p.rtcConnectionQualityFine,
            [C.RTCConnectionQuality.AVERAGE]: p.rtcConnectionQualityAverage,
            [C.RTCConnectionQuality.BAD]: p.rtcConnectionQualityBad,
            [C.RTCConnectionQuality.UNKNOWN]: null
        };
        class _ extends a.PureComponent {
            renderPopoutTarget(e) {
                return (0,
                l.jsx)(c.Popout, {
                    renderPopout: this.renderPopout,
                    position: "top",
                    children: e
                })
            }
            renderStatus() {
                let {statusTextClassName: e, hasVideo: t, state: n} = this.props
                  , {connectionStatus: a, connectionStatusText: s} = m.default.getStatus(n, t);
                return this.renderPopoutTarget(t=>{
                    let {onClick: n} = t;
                    return (0,
                    l.jsx)(c.Button, {
                        look: c.Button.Looks.BLANK,
                        size: c.Button.Sizes.NONE,
                        className: i()(e, E[a]),
                        onClick: n,
                        children: s
                    })
                }
                )
            }
            render() {
                let e;
                let {quality: t, smallPing: n, lastPing: a, state: s, className: r, children: o} = this.props;
                return s === C.RTCConnectionStates.RTC_CONNECTED && (e = (0,
                l.jsx)(c.Tooltip, {
                    text: t !== C.RTCConnectionQuality.UNKNOWN && null != a ? "".concat(a.toFixed(0), " ms") : null,
                    color: g[t],
                    children: e=>(0,
                    l.jsx)(I, {
                        quality: t,
                        smallPing: n,
                        ...e
                    })
                })),
                (0,
                l.jsxs)("div", {
                    children: [(0,
                    l.jsxs)("div", {
                        className: i()(p.rtcConnectionStatus, S[t], r),
                        children: [e, (0,
                        l.jsx)("div", {
                            className: p.labelWrapper,
                            children: this.renderStatus()
                        })]
                    }), o]
                })
            }
            constructor(...e) {
                var t, n, a;
                super(...e),
                t = this,
                n = "renderPopout",
                a = e=>(0,
                l.jsx)(f.default, {
                    channelId: this.props.channelId,
                    ...e
                }),
                n in t ? Object.defineProperty(t, n, {
                    value: a,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : t[n] = a
            }
        }
        function I(e) {
            let {quality: t, smallPing: n, ...a} = e;
            if (!(0,
            c.useRedesignIconContext)().enabled)
                return (0,
                l.jsx)(h.default, {
                    className: i()(p.ping, {
                        [p.smallPing]: n
                    }),
                    foreground: p.pingForeground
                });
            {
                let e = {
                    [C.RTCConnectionQuality.FINE]: u.ConnectionFineIcon,
                    [C.RTCConnectionQuality.AVERAGE]: r.ConnectionAverageIcon,
                    [C.RTCConnectionQuality.BAD]: o.ConnectionBadIcon,
                    [C.RTCConnectionQuality.UNKNOWN]: d.ConnectionUnknownIcon
                }[t];
                return (0,
                l.jsx)(e, {
                    className: i()(p.ping, {
                        [p.smallPing]: n
                    }),
                    ...a
                })
            }
        }
        t.default = _
    },
    588705: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            InviteResolvingHeader: function() {
                return T
            }
        }),
        n("411104");
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("481060")
          , r = n("726745")
          , o = n("973616")
          , u = n("131704")
          , d = n("601964")
          , c = n("598077")
          , f = n("594174")
          , h = n("366695")
          , m = n("940627")
          , C = n("819570")
          , p = n("806519")
          , g = n("51144")
          , E = n("981631")
          , S = n("888592")
          , _ = n("245335")
          , I = n("689938")
          , N = n("493918");
        let T = ()=>(0,
        l.jsxs)(a.Fragment, {
            children: [(0,
            l.jsx)(C.Avatar, {
                src: null,
                size: i.AvatarSizes.DEPRECATED_SIZE_100,
                className: N.avatar
            }), (0,
            l.jsx)(C.SubTitle, {
                children: I.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN
            }), (0,
            l.jsx)(C.Title, {
                className: N.inviteResolvingGuildName,
                children: I.default.Messages.LOADING
            })]
        })
          , A = e=>{
            let {guild: t, user: n, application: a, compact: s} = e;
            if (null != a)
                return (0,
                l.jsx)(h.default, {
                    className: N.appIcon,
                    game: a,
                    size: N.appIconSize
                });
            if (null != n)
                return (0,
                l.jsx)(C.Avatar, {
                    src: null != n ? n.getAvatarURL(void 0, 80) : null,
                    size: i.AvatarSizes.SIZE_80,
                    className: s ? N.compactAvatar : N.avatar
                });
            if (null != t)
                return (0,
                l.jsx)(p.default, {
                    mask: p.default.Masks.SQUIRCLE,
                    width: 64,
                    height: 64,
                    className: N.guildIcon,
                    children: (0,
                    l.jsx)(C.GuildIcon, {
                        guild: t,
                        size: C.GuildIcon.Sizes.LARGER,
                        animate: !0
                    })
                });
            else
                return null
        }
        ;
        t.default = e=>{
            var t;
            let n, a, h, {invite: p, disableUser: T=!1, error: L, flatActivityCount: v=!1, isRegister: x=!1} = e, {currentUser: R, multiAccounts: M} = (0,
            s.useStateFromStoresObject)([r.default, f.default], ()=>({
                currentUser: f.default.getCurrentUser(),
                multiAccounts: r.default.getUsers()
            }));
            if (null == p)
                return null;
            let y = null != p.guild ? new d.default(p.guild) : null
              , O = null != p.channel ? (0,
            u.createChannelRecordFromInvite)(p.channel) : null
              , b = null != p.target_application ? new o.default(p.target_application) : null
              , D = T || null == p.inviter ? null : new c.default(p.inviter)
              , j = !(null != p.approximate_member_count && p.approximate_member_count > 100 || null != y && y.hasFeature(E.GuildFeatures.COMMUNITY)) && null != D
              , P = null
              , G = !1;
            if (null != y)
                P = null == D ? I.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN : I.default.Messages.AUTH_MESSAGE_INVITED_BY.format({
                    username: g.default.getFormattedName(D)
                }),
                p.target_type === _.InviteTargetTypes.STREAM && null != p.target_user && (P = I.default.Messages.AUTH_MESSAGE_INVITED_TO_STREAM.format({
                    username: g.default.getFormattedName(p.target_user)
                })),
                p.target_type === _.InviteTargetTypes.EMBEDDED_APPLICATION && null != p.target_application && (P = null != D ? I.default.Messages.AUTH_MESSAGE_INVITED_TO_PLAY_USERNAME.format({
                    username: g.default.getFormattedName(D)
                }) : I.default.Messages.AUTH_MESSAGE_INVITED_TO_PLAY),
                j && null == b && (n = (0,
                l.jsx)(C.GuildIcon, {
                    className: N.icon,
                    guild: y,
                    size: C.GuildIcon.Sizes.SMALL
                })),
                a = y.name,
                null != b && (a = b.name,
                h = (0,
                l.jsxs)("div", {
                    children: [(0,
                    l.jsx)(C.SubTitle, {
                        className: N.appIn,
                        children: I.default.Messages.EMBEDDED_ACTIVITIES_INVITE_IN
                    }), (0,
                    l.jsxs)("div", {
                        className: N.guildContainer,
                        children: [(0,
                        l.jsx)(C.GuildIcon, {
                            guild: y,
                            size: C.GuildIcon.Sizes.SMALL
                        }), (0,
                        l.jsx)(i.Text, {
                            tag: "span",
                            variant: "text-lg/normal",
                            color: "header-primary",
                            className: N.appGuildName,
                            children: y.name
                        })]
                    })]
                }));
            else if (null != O) {
                if (null == D)
                    throw Error("no inviter in group DM invite");
                let e = g.default.getFormattedName(D);
                null != O.name && "" !== O.name ? (P = I.default.Messages.AUTH_MESSAGE_INVITED_BY.format({
                    username: e
                }),
                a = O.name,
                null != O.icon && (n = (0,
                l.jsx)(C.ChannelIcon, {
                    channel: O,
                    size: i.AvatarSizes.SIZE_32
                }))) : (P = I.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_JOIN_GROUP_DM,
                a = e)
            } else if (null != D) {
                let e = g.default.getFormattedName(D, !0);
                a = I.default.Messages.INSTANT_INVITE_YOU_HAVE_BEEN_INVITED_TO_CHAT.format({
                    username: e
                }),
                G = !0,
                h = null != L ? null : (0,
                l.jsx)(C.SubTitle, {
                    className: N.directInviteSubTitle,
                    children: x ? I.default.Messages.INSTANT_INVITE_DIRECT_FRIEND_DESCRIPTION_REGISTER.format({
                        username: e
                    }) : I.default.Messages.INSTANT_INVITE_DIRECT_FRIEND_DESCRIPTION.format({
                        username: e
                    })
                })
            }
            return (0,
            l.jsxs)("div", {
                className: N.container,
                children: [(0,
                l.jsx)(A, {
                    application: b,
                    guild: y,
                    user: j ? D : null,
                    compact: G
                }), null != L ? (0,
                l.jsxs)(l.Fragment, {
                    children: [(0,
                    l.jsx)(C.SubTitle, {
                        children: I.default.Messages.INVITE_MODAL_ERROR_TITLE
                    }), (0,
                    l.jsx)(C.Title, {
                        children: L
                    })]
                }) : (0,
                l.jsxs)(l.Fragment, {
                    children: [(0,
                    l.jsx)(C.SubTitle, {
                        children: P
                    }), (0,
                    l.jsxs)(C.Title, {
                        className: N.title,
                        children: [null != y ? (0,
                        l.jsx)(m.default, {
                            guild: y,
                            className: N.guildBadge,
                            tooltipPosition: "left"
                        }) : null, n, a]
                    })]
                }), h, null != b || G || (null == p ? void 0 : null === (t = p.guild) || void 0 === t ? void 0 : t.id) === S.INVITE_ROUTING_HUB_GUILD_ID ? null : (0,
                l.jsx)(C.ActivityCount, {
                    className: N.activityCount,
                    online: p.approximate_presence_count,
                    total: p.approximate_member_count,
                    flat: v
                }), M.length > 1 ? (0,
                l.jsx)(C.JoiningAs, {
                    user: R
                }) : null]
            })
        }
    },
    515753: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            CloseButton: function() {
                return q
            },
            LinkButton: function() {
                return J
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("512722")
          , o = n.n(r)
          , u = n("613828")
          , d = n("924826")
          , c = n("873546")
          , f = n("442837")
          , h = n("481060")
          , m = n("493683")
          , C = n("239091")
          , p = n("420660")
          , g = n("702321")
          , E = n("201895")
          , S = n("43267")
          , _ = n("933557")
          , I = n("979264")
          , N = n("853856")
          , T = n("93687")
          , A = n("785232")
          , L = n("280234")
          , v = n("509275")
          , x = n("878857")
          , R = n("204197")
          , M = n("199902")
          , y = n("158776")
          , O = n("306680")
          , b = n("111583")
          , D = n("9156")
          , j = n("594174")
          , P = n("467679")
          , G = n("514342")
          , U = n("28718")
          , w = n("733880")
          , B = n("465670")
          , F = n("887208")
          , V = n("709054")
          , H = n("998502")
          , k = n("788307")
          , Y = n("960670")
          , K = n("981631")
          , W = n("689938")
          , z = n("577245");
        let Z = H.default.getEnableHardwareAcceleration() ? h.AnimatedAvatar : h.Avatar
          , X = {
            offset: {
                top: 2,
                bottom: 2,
                right: 4
            }
        }
          , q = e=>(0,
        l.jsx)(h.Clickable, {
            className: z.closeButton,
            ...e,
            focusProps: {
                offset: {
                    top: -2,
                    bottom: -2,
                    left: -2,
                    right: 6
                }
            },
            children: (0,
            l.jsx)(B.default, {
                className: z.closeIcon
            })
        })
          , Q = ()=>(0,
        l.jsx)(F.default, {
            className: z.favoriteIcon
        });
        class J extends a.Component {
            render() {
                let {route: e, selected: t, icon: n, iconClassName: a, interactiveClassName: s, text: r, children: o, locationState: d, onClick: f, className: m, role: C, "aria-posinset": p, "aria-setsize": g, ...E} = this.props;
                return (0,
                l.jsx)(w.default, {
                    className: i()(z.channel, {
                        [z.fullWidth]: c.isMobile
                    }, m),
                    onClick: f,
                    role: C,
                    focusProps: {
                        within: !0,
                        ...X
                    },
                    "aria-posinset": p,
                    "aria-setsize": g,
                    children: (0,
                    l.jsx)(h.Interactive, {
                        as: "div",
                        selected: t,
                        className: i()(s, z.interactive, z.linkButton, {
                            [z.interactiveSelected]: t
                        }),
                        children: (0,
                        l.jsxs)(u.Link, {
                            to: {
                                pathname: e,
                                state: d
                            },
                            className: z.link,
                            ...E,
                            children: [(0,
                            l.jsx)(U.default, {
                                selected: t,
                                muted: !1,
                                avatar: (0,
                                l.jsx)(n, {
                                    className: i()(z.linkButtonIcon, a)
                                }),
                                name: r,
                                innerClassName: z.avatarWithText
                            }), o]
                        })
                    })
                })
            }
        }
        function $(e) {
            let {channel: t, isGDMFacepileEnabled: s, selected: r=!1, user: c, activities: T, applicationStream: M, isTyping: y, status: b, isMobile: j, lastOnlineTimestamp: B, "aria-posinset": F, "aria-setsize": V} = e
              , [H,J] = a.useState(!1)
              , $ = a.useRef(null)
              , ee = a.useRef(null)
              , {avatarSrc: et, avatarDecorationSrc: en, eventHandlers: el} = (0,
            R.default)({
                user: c,
                size: h.AvatarSizes.SIZE_32,
                animateOnHover: !(r || H)
            })
              , ea = (0,
            f.useStateFromStores)([D.default], ()=>D.default.isChannelMuted(t.getGuildId(), t.id))
              , es = (0,
            f.useStateFromStores)([O.default], ()=>O.default.getMentionCount(t.id) > 0)
              , ei = (0,
            _.default)(t)
              , er = (0,
            f.useStateFromStores)([N.default], ()=>N.default.isFavorite(t.id))
              , eo = null != T && T.length > 0
              , {isRecentlyOnlineShowable: eu, isRecentlyOnlineTrackable: ed} = (0,
            L.getRecentlyOnlineStrategy)(B)
              , ec = !eo && b === K.StatusTypes.OFFLINE && null != B;
            a.useEffect(()=>{
                ed && ec && L.default.trackExposure({
                    location: "private_channel"
                })
            }
            , [ed, ec]);
            let ef = ()=>{
                J(!0)
            }
              , eh = ()=>{
                J(!1)
            }
              , em = function(e) {
                let n = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                null != e && (e.preventDefault(),
                e.stopPropagation()),
                m.default.closePrivateChannel(t.id, r, n)
            }
              , eC = ()=>{
                m.default.preload(K.ME, t.id)
            }
              , ep = e=>{
                e.stopPropagation()
            }
              , eg = e=>{
                if (e.target === e.currentTarget) {
                    var t;
                    null === (t = $.current) || void 0 === t || t.click()
                }
            }
              , eE = e=>{
                t.isMultiUserDM() ? (0,
                C.openContextMenuLazy)(e, async()=>{
                    let {default: e} = await Promise.all([n.e("99387"), n.e("25421")]).then(n.bind(n, "354741"));
                    return n=>(0,
                    l.jsx)(e, {
                        ...n,
                        channel: t,
                        selected: r
                    })
                }
                , {
                    noBlurEvent: !0
                }) : (0,
                C.openContextMenuLazy)(e, async()=>{
                    let {default: e} = await Promise.all([n.e("99387"), n.e("36441"), n.e("56826")]).then(n.bind(n, "131404"));
                    return n=>(0,
                    l.jsx)(e, {
                        ...n,
                        user: c,
                        channel: t,
                        channelSelected: r
                    })
                }
                )
            }
              , eS = e=>{
                e.preventDefault(),
                e.stopPropagation();
                let n = W.default.Messages.LEAVE_GROUP_DM_TITLE.format({
                    name
                })
                  , a = W.default.Messages.LEAVE_GROUP_DM_BODY.format({
                    name
                });
                t.isManaged() && (n = W.default.Messages.LEAVE_GROUP_DM_MANAGED_TITLE.format({
                    name
                }),
                a = W.default.Messages.LEAVE_GROUP_DM_MANAGED_BODY.format({
                    name
                })),
                (0,
                h.openModal)(e=>(0,
                l.jsx)(Y.default, {
                    header: n,
                    body: a,
                    onSubmit: em,
                    ...e
                }))
            }
              , e_ = ()=>{
                let e = {
                    className: z.activity,
                    textClassName: z.activityText,
                    emojiClassName: z.activityEmoji
                };
                if (t.isSystemDM())
                    return (0,
                    l.jsx)("div", {
                        className: z.subtext,
                        children: (0,
                        g.default)(t.id) ? W.default.Messages.SYSTEM_DM_CHANGELOG_STATUS : W.default.Messages.SYSTEM_DM_ACTIVITY_TEXT
                    });
                if (t.isMultiUserDM())
                    return (0,
                    l.jsx)("div", {
                        className: z.subtext,
                        children: W.default.Messages.MEMBERS_HEADER.format({
                            members: t.recipients.length + 1
                        })
                    });
                if (eo)
                    return (0,
                    l.jsx)(k.default, {
                        ...e,
                        activities: T,
                        applicationStream: M,
                        animate: H,
                        hideTooltip: !0,
                        user: c
                    });
                if (ec && eu) {
                    let e = (0,
                    v.formatRecentlyOnlineStatus)(B);
                    return (0,
                    l.jsx)("div", {
                        className: z.subtext,
                        children: e
                    })
                }
                return null
            }
              , eI = ()=>{
                let e = h.AvatarSizes.SIZE_32;
                if (t.isMultiUserDM())
                    return t.recipients.length >= 2 && s && null == t.icon ? (0,
                    l.jsx)(A.default, {
                        "aria-hidden": !0,
                        recipients: t.recipients,
                        size: e,
                        isTyping: y,
                        status: b
                    }) : (0,
                    l.jsx)(Z, {
                        ...el,
                        src: (0,
                        S.getChannelIconURL)(t),
                        "aria-hidden": !0,
                        size: e,
                        status: y ? K.StatusTypes.ONLINE : b,
                        isTyping: y
                    });
                o()(null != c, "PrivateChannel.renderAvatar: Invalid prop configuration - no user or channel");
                let n = null;
                return !c.isSystemUser() && (n = (0,
                p.default)(T) ? K.StatusTypes.STREAMING : b),
                (0,
                l.jsx)(Z, {
                    ...el,
                    size: h.AvatarSizes.SIZE_32,
                    src: et,
                    avatarDecoration: en,
                    status: n,
                    isMobile: j,
                    isTyping: y,
                    "aria-label": c.username,
                    statusTooltip: !0
                })
            }
              , eN = t.isMultiUserDM()
              , eT = t.isSystemDM()
              , eA = (0,
            x.systemDMRedesignEnabled)()
              , eL = eN || eT || t.type !== K.ChannelTypes.DM || (null == c ? void 0 : c.clan) == null ? ei : (0,
            l.jsxs)(l.Fragment, {
                children: [ei, (0,
                l.jsx)(I.default, {
                    clan: null == c ? void 0 : c.clan,
                    userId: null == c ? void 0 : c.id,
                    inline: !0,
                    disableGuildProfile: !0,
                    className: z.clanTag
                })]
            });
            return (0,
            l.jsx)(d.ListNavigatorItem, {
                id: t.id,
                children: e=>{
                    let {role: n, ...a} = e;
                    return (0,
                    l.jsx)(w.default, {
                        className: z.channel,
                        role: n,
                        focusProps: {
                            ...X,
                            focusTarget: $,
                            ringTarget: ee
                        },
                        ref: ee,
                        onMouseEnter: ef,
                        onMouseLeave: eh,
                        onMouseDown: eC,
                        onContextMenu: eE,
                        "aria-setsize": V,
                        "aria-posinset": F,
                        children: (0,
                        l.jsxs)(h.Interactive, {
                            className: i()(z.interactive, {
                                [z.interactiveSystemDM]: eA && eT,
                                [z.interactiveSelected]: r
                            }),
                            as: "div",
                            onClick: eg,
                            muted: ea,
                            selected: r,
                            children: [(0,
                            l.jsx)(u.Link, {
                                innerRef: $,
                                to: K.Routes.CHANNEL(K.ME, t.id),
                                className: z.link,
                                "aria-label": (0,
                                E.default)({
                                    channel: t,
                                    unread: es
                                }),
                                ...a,
                                children: (0,
                                l.jsx)(U.default, {
                                    avatar: eI(),
                                    selected: r,
                                    highlighted: es,
                                    muted: null != ea && ea,
                                    subText: e_(),
                                    name: (0,
                                    l.jsx)(G.default, {
                                        tooltipClassName: z.overflowTooltip,
                                        children: eL
                                    }),
                                    decorators: t.isSystemDM() ? (0,
                                    l.jsx)(P.default, {
                                        className: z.decorator,
                                        type: P.default.Types.SYSTEM_DM,
                                        verified: !0
                                    }) : null
                                })
                            }), er ? (0,
                            l.jsx)(Q, {}) : null, (0,
                            l.jsx)(q, {
                                "aria-label": eN ? W.default.Messages.LEAVE_GROUP_DM : W.default.Messages.CLOSE_DM,
                                onClick: eN ? eS : em,
                                onMouseDown: ep
                            })]
                        })
                    })
                }
            })
        }
        t.default = e=>{
            let {channel: t, selected: n, ...a} = e
              , s = (0,
            f.useStateFromStores)([j.default], ()=>j.default.getUser(t.getRecipientId()))
              , {isStatusIndicatorEnabled: i, isTypingIndicatorEnabled: r, isFacepileEnabled: o} = T.default.useExperiment({
                location: "private_channel"
            }, {
                autoTrackExposure: !0
            })
              , {isRecentlyOnlineEnabled: u} = L.default.useExperiment({
                location: "private_channel"
            }, {
                autoTrackExposure: !1
            })
              , d = null == s ? void 0 : s.id
              , c = (0,
            f.useStateFromStoresObject)([y.default, M.default], ()=>{
                let e, n;
                if (t.isMultiUserDM()) {
                    if (i) {
                        let n = y.default.getState().statuses;
                        t.recipients.some(e=>n[e] === K.StatusTypes.ONLINE) && (e = K.StatusTypes.ONLINE)
                    }
                } else
                    null != d && (e = y.default.getStatus(d),
                    n = y.default.getLastOnlineTimestamp(d));
                return {
                    status: e,
                    lastOnlineTimestamp: n,
                    activities: null != d ? y.default.getActivities(d) : null,
                    applicationStream: null != d ? M.default.getAnyStreamForUser(d) : null,
                    isMobile: null != d && y.default.isMobileOnline(d),
                    isRecentlyOnlineEnabled: u
                }
            }
            , [t, d, i, u])
              , h = (0,
            f.useStateFromStores)([j.default, b.default], ()=>{
                if (t.isMultiUserDM())
                    return !!r && V.default.keys(b.default.getTypingUsers(t.id)).some(e=>{
                        var t;
                        return e !== (null === (t = j.default.getCurrentUser()) || void 0 === t ? void 0 : t.id)
                    }
                    );
                if (null != s)
                    return b.default.isTyping(t.id, t.getRecipientId());
                return !1
            }
            , [t, s, r]);
            return t.isMultiUserDM() ? (0,
            l.jsx)($, {
                channel: t,
                selected: n,
                isTyping: h,
                status: c.status === K.StatusTypes.ONLINE ? K.StatusTypes.ONLINE : void 0,
                isGDMFacepileEnabled: o,
                ...a
            }) : (0,
            l.jsx)($, {
                channel: t,
                selected: n,
                user: s,
                isTyping: h,
                ...a,
                ...c
            })
        }
    },
    960670: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("481060")
          , i = n("689938")
          , r = n("81908");
        function o(e) {
            let {header: t, body: n, onSubmit: o, ...u} = e
              , [d,c] = a.useState(!1);
            return (0,
            l.jsxs)(s.ConfirmModal, {
                header: t,
                confirmText: i.default.Messages.LEAVE_GROUP_DM,
                cancelText: i.default.Messages.CANCEL,
                onConfirm: ()=>{
                    o(null, d)
                }
                ,
                ...u,
                children: [(0,
                l.jsx)(s.Text, {
                    variant: "text-md/normal",
                    children: n
                }), (0,
                l.jsx)(s.Checkbox, {
                    type: s.Checkbox.Types.INVERTED,
                    value: d,
                    onChange: ()=>c(e=>!e),
                    className: r.checkbox,
                    children: (0,
                    l.jsx)(s.Text, {
                        variant: "text-md/normal",
                        children: i.default.Messages.LEAVE_GROUP_DM_SILENTLY
                    })
                })]
            })
        }
    },
    831218: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l, a, s, i = n("735250"), r = n("470079"), o = n("299608"), u = n.n(o), d = n("924826"), c = n("442837"), f = n("902704"), h = n("481060"), m = n("925549"), C = n("607070"), p = n("367907"), g = n("453542"), E = n("762914"), S = n("702321"), _ = n("518311"), I = n("355298"), N = n("869404"), T = n("333984"), A = n("210887"), L = n("592125"), v = n("158776"), x = n("55589"), R = n("153124"), M = n("908773"), y = n("151827"), O = n("515753"), b = n("981631"), D = n("689938"), j = n("181235");
        function P(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        (s = l || (l = {}))[s.PAGES = 0] = "PAGES",
        s[s.DMS = 1] = "DMS";
        let G = r.memo(function() {
            return (0,
            i.jsxs)("svg", {
                width: "184",
                height: "428",
                viewBox: "0 0 184 428",
                className: j.empty,
                children: [(0,
                i.jsx)("rect", {
                    x: 40,
                    y: 6,
                    width: 144,
                    height: 20,
                    rx: 10
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 16,
                    r: 16
                }), (0,
                i.jsx)("rect", {
                    x: 40,
                    y: 50,
                    width: 144,
                    height: 20,
                    rx: 10,
                    opacity: .9
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 60,
                    r: 16,
                    opacity: .9
                }), (0,
                i.jsx)("rect", {
                    x: 40,
                    y: 94,
                    width: 144,
                    height: 20,
                    rx: 10,
                    opacity: .8
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 104,
                    r: 16,
                    opacity: .8
                }), (0,
                i.jsx)("rect", {
                    x: 40,
                    y: 138,
                    width: 144,
                    height: 20,
                    rx: 10,
                    opacity: .7
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 148,
                    r: 16,
                    opacity: .7
                }), (0,
                i.jsx)("rect", {
                    x: 40,
                    y: 182,
                    width: 144,
                    height: 20,
                    rx: 10,
                    opacity: .6
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 192,
                    r: 16,
                    opacity: .6
                }), (0,
                i.jsx)("rect", {
                    x: 40,
                    y: 226,
                    width: 144,
                    height: 20,
                    rx: 10,
                    opacity: .5
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 236,
                    r: 16,
                    opacity: .5
                }), (0,
                i.jsx)("rect", {
                    x: 40,
                    y: 270,
                    width: 144,
                    height: 20,
                    rx: 10,
                    opacity: .4
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 280,
                    r: 16,
                    opacity: .4
                }), (0,
                i.jsx)("rect", {
                    x: 40,
                    y: 314,
                    width: 144,
                    height: 20,
                    rx: 10,
                    opacity: .3
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 324,
                    r: 16,
                    opacity: .3
                }), (0,
                i.jsx)("rect", {
                    x: 40,
                    y: 358,
                    width: 144,
                    height: 20,
                    rx: 10,
                    opacity: .2
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 368,
                    r: 16,
                    opacity: .2
                }), (0,
                i.jsx)("rect", {
                    x: 40,
                    y: 402,
                    width: 144,
                    height: 20,
                    rx: 10,
                    opacity: .1
                }), (0,
                i.jsx)("circle", {
                    cx: 16,
                    cy: 412,
                    r: 16,
                    opacity: .1
                })]
            })
        });
        class U extends (a = r.Component) {
            static getDerivedStateFromProps(e) {
                let {children: t, privateChannelIds: n} = e;
                if (null == t)
                    return {
                        preRenderedChildren: 0,
                        nonNullChildren: [],
                        totalRowCount: n.length
                    };
                {
                    let e = t.filter(e=>null != e)
                      , l = e.length;
                    return {
                        preRenderedChildren: l,
                        nonNullChildren: e,
                        totalRowCount: l + n.length
                    }
                }
            }
            componentDidMount() {
                let {selectedChannelId: e, homeLink: t} = this.props;
                null != e && null != t && t.indexOf(e) >= 0 && this.scrollToChannel(e),
                this.reportAnalytics()
            }
            shouldComponentUpdate(e) {
                return !(0,
                f.default)(this.props, e, ["children"])
            }
            componentDidUpdate(e) {
                let {selectedChannelId: t, homeLink: n} = this.props;
                null != t && t !== e.selectedChannelId ? this.scrollToChannel(t) : null == t && n !== e.homeLink && this.scrollToChannel(null),
                this.reportAnalytics()
            }
            scrollToChannel(e) {
                if (null == this._list)
                    return;
                let {padding: t} = this.props
                  , {preRenderedChildren: n} = this.state
                  , l = null != e ? this.props.privateChannelIds.indexOf(e) : -1
                  , a = 0;
                l < 0 || null == e ? this._list.scrollTo({
                    to: a
                }) : (a += 44 * (l + n) + t,
                this._list.scrollIntoViewRect({
                    start: Math.max(a - 8, 0),
                    end: a + 44 + 8
                }))
            }
            render() {
                let {privateChannelIds: e, padding: t} = this.props
                  , {preRenderedChildren: n} = this.state;
                return (0,
                i.jsx)(d.ListNavigatorContainer, {
                    children: l=>{
                        let {ref: a, role: s, ...r} = l;
                        return (0,
                        i.jsx)(h.FocusJumpSection, {
                            children: l=>(0,
                            i.jsx)(h.List, {
                                fade: !0,
                                innerRole: s,
                                innerAriaLabel: D.default.Messages.DIRECT_MESSAGES,
                                innerTag: "ul",
                                ref: e=>{
                                    var t;
                                    this._list = e,
                                    this.props.listRef.current = e,
                                    a.current = null !== (t = null == e ? void 0 : e.getScrollerNode()) && void 0 !== t ? t : null
                                }
                                ,
                                onScroll: this.handleScroll,
                                className: j.scroller,
                                sectionHeight: this.getSectionHeight,
                                paddingTop: t,
                                paddingBottom: 8,
                                rowHeight: this.getRowHeight,
                                renderSection: this.renderSection,
                                renderRow: this.renderRow,
                                sections: [n, Math.max(e.length, 1)],
                                ...r,
                                ...l
                            })
                        })
                    }
                })
            }
            constructor(...e) {
                super(...e),
                P(this, "state", {
                    initialized: !1,
                    preRenderedChildren: 0,
                    totalRowCount: 0,
                    nonNullChildren: []
                }),
                P(this, "_list", null),
                P(this, "hasReportedAnalytics", !1),
                P(this, "reportAnalytics", ()=>{
                    var e;
                    if (this.hasReportedAnalytics)
                        return;
                    let t = null === (e = this._list) || void 0 === e ? void 0 : e.getScrollerState();
                    if (null == t)
                        return;
                    let {privateChannelIds: n, channels: l} = this.props;
                    if (0 === n.length)
                        return;
                    let a = r.Children.count(this.props.children);
                    if (null == t)
                        return;
                    let s = Math.round((t.offsetHeight - 44 * a) / 44)
                      , i = s > n.length ? n.slice(0, s + 1) : n
                      , o = i.map(e=>null != l[e] ? l[e].getRecipientId() : null)
                      , u = n.some(e=>(0,
                    S.default)(e))
                      , d = {
                        num_users_visible: i.length,
                        num_users_visible_with_mobile_indicator: o.filter(e=>null != e && v.default.isMobileOnline(e)).length
                    };
                    this.hasReportedAnalytics = !0,
                    p.default.trackWithMetadata(b.AnalyticEvents.DM_LIST_VIEWED, {
                        ...d,
                        ...(0,
                        g.getNowPlayingAnalytics)(),
                        changelog_dm_visible: u
                    })
                }
                ),
                P(this, "getSectionHeight", e=>{
                    let {showDMHeader: t} = this.props;
                    return 0 === e ? 0 : t ? 40 : 0
                }
                ),
                P(this, "handleScroll", u()(()=>{
                    if (null != this._list) {
                        let e = this._list.getScrollerNode();
                        null != e && m.default.updateChannelListScroll(b.ME, e.scrollTop)
                    }
                }
                , 100)),
                P(this, "renderDM", (e,t)=>{
                    let {privateChannelIds: n, channels: l, selectedChannelId: a} = this.props
                      , {totalRowCount: s, preRenderedChildren: r} = this.state
                      , o = l[n[t]];
                    return null == o ? null : (0,
                    i.jsx)(O.default, {
                        channel: o,
                        selected: o.id === a,
                        "aria-posinset": r + t + 1,
                        "aria-setsize": s
                    }, o.id)
                }
                ),
                P(this, "renderChild", e=>{
                    let {nonNullChildren: t, totalRowCount: n} = this.state
                      , l = t[e];
                    return r.isValidElement(l) ? r.cloneElement(l, {
                        "aria-setsize": n,
                        "aria-posinset": e + 1
                    }) : l
                }
                ),
                P(this, "renderRow", e=>{
                    let {section: t, row: n} = e
                      , {privateChannelIds: l} = this.props;
                    return 0 === t ? this.renderChild(n) : 0 === n && 0 === l.length ? (0,
                    i.jsx)(G, {}, "no-private-channels") : this.renderDM(t, n)
                }
                ),
                P(this, "renderSection", e=>{
                    let {section: t} = e
                      , {showDMHeader: n} = this.props;
                    return 0 !== t && n ? (0,
                    i.jsxs)(y.default, {
                        className: j.privateChannelsHeaderContainer,
                        children: [(0,
                        i.jsx)("span", {
                            className: j.headerText,
                            children: D.default.Messages.DIRECT_MESSAGES
                        }), (0,
                        i.jsx)(_.default, {
                            tooltip: D.default.Messages.CREATE_DM,
                            tooltipPosition: "top",
                            popoutAlign: "left",
                            iconClassName: j.privateChannelRecipientsInviteButtonIcon,
                            icon: M.default,
                            subscribeToGlobalHotkey: !0
                        })]
                    }, t) : null
                }
                ),
                P(this, "getRowHeight", (e,t)=>{
                    let {privateChannelIds: n} = this.props;
                    return 1 === e && 0 === t && 0 === n.length ? 428 : 44
                }
                )
            }
        }
        P(U, "defaultProps", {
            padding: 8
        });
        t.default = e=>{
            let {version: t, theme: n, children: l, showDMHeader: a} = e
              , s = r.Children.count(l)
              , o = L.default.getMutablePrivateChannels()
              , u = (0,
            N.filterOutMessageRequestsAndSpam)(o)
              , f = (0,
            c.useStateFromStoresArray)([x.default, I.default, T.default], ()=>{
                let e = x.default.getPrivateChannelIds()
                  , t = (0,
                N.filterOutMessageRequestsAndSpamById)(e, [I.default, T.default]);
                return (0,
                E.filterBroadcastingGDMs)(t)
            }
            , [])
              , h = (0,
            c.useStateFromStoresObject)([C.default, A.default, L.default], ()=>({
                theme: A.default.darkSidebar ? b.ThemeTypes.DARK : n,
                keyboardModeEnabled: C.default.keyboardModeEnabled,
                version: null != t ? "".concat(t, ":").concat(L.default.getPrivateChannelsVersion()) : L.default.getPrivateChannelsVersion()
            }))
              , m = r.useRef(null)
              , p = r.useCallback(e=>{
                let t = m.current
                  , n = document.querySelector(e);
                null != t && null != n && t.scrollIntoViewNode({
                    node: n,
                    callback: ()=>{
                        requestAnimationFrame(()=>{
                            var t;
                            return null === (t = document.querySelector(e)) || void 0 === t ? void 0 : t.focus({
                                preventScroll: !0
                            })
                        }
                        )
                    }
                })
            }
            , [])
              , g = r.useCallback(()=>new Promise(e=>{
                let t = m.current;
                if (null == t)
                    return e();
                t.scrollToTop({
                    callback: ()=>requestAnimationFrame(()=>e())
                })
            }
            ), [])
              , S = r.useCallback(()=>new Promise(e=>{
                let t = m.current;
                if (null == t)
                    return e();
                t.scrollToBottom({
                    callback() {
                        requestAnimationFrame(()=>setTimeout(e, 100))
                    }
                })
            }
            ), [])
              , _ = (0,
            R.useUID)()
              , v = (0,
            d.default)({
                id: "private-channels-".concat(_),
                isEnabled: h.keyboardModeEnabled,
                scrollToStart: g,
                scrollToEnd: S,
                defaultFocused: (s + (a ? 1 : 0)).toString(),
                setFocus: p
            });
            return (0,
            i.jsx)(d.ListNavigatorProvider, {
                navigator: v,
                children: (0,
                i.jsx)(U, {
                    channels: u,
                    privateChannelIds: f,
                    listRef: m,
                    theme: n,
                    version: t,
                    ...e,
                    children: l,
                    ...h
                })
            })
        }
    },
    353042: function(e, t, n) {
        "use strict";
        n.r(t),
        n("653041"),
        n("47120");
        var l, a = n("470079"), s = n("846519");
        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        class r extends (l = a.Component) {
            componentDidMount() {
                this.update(),
                this._interval.start(this.props.updateInterval, this.update)
            }
            componentWillUnmount() {
                this._interval.stop()
            }
            calculateInitialDeltaBytes(e) {
                let {numUpdatesToShow: t, updateInterval: n, pointsToSmooth: l} = this.props
                  , a = Date.now()
                  , s = 0
                  , i = 0
                  , r = []
                  , o = null != e[0] ? e[0].bytes : 0;
                for (; s < t + l; s++) {
                    let t;
                    let l = a - (s + 1) * n;
                    for (; i < e.length; )
                        if ((t = e[i]).timestamp > l)
                            i++;
                        else
                            break;
                    if (i === e.length)
                        break;
                    null != t && (r.push(o - t.bytes),
                    o = t.bytes)
                }
                for (; s < t + l; s++)
                    r.push(0);
                return r.reverse(),
                r
            }
            smoothDeltaBytes(e) {
                let {pointsToSmooth: t} = this.props
                  , n = [];
                for (let l = 0; l < e.length - t; l++) {
                    let a = 0;
                    for (let n = 0; n < t; n++)
                        a += e[l + n];
                    n.push(a / t)
                }
                return n
            }
            render() {
                let {numUpdatesToShow: e, updateInterval: t, children: n} = this.props;
                return n(this.state.smoothedDeltaBytes, t, e)
            }
            constructor(e) {
                super(e),
                i(this, "_interval", new s.Interval),
                i(this, "update", ()=>{
                    let {onUpdate: e, numUpdatesToShow: t, pointsToSmooth: n, updateInterval: l} = this.props
                      , a = this.props.getHistoricalTotalBytes()
                      , s = null != a[0] ? a[0].bytes : 0
                      , i = [...this.state.deltaBytes.slice(1, t + n), s - this.state.lastTotalBytes];
                    this.setState({
                        deltaBytes: i,
                        smoothedDeltaBytes: this.smoothDeltaBytes(i),
                        lastTotalBytes: s
                    }, ()=>null != e && e(l))
                }
                );
                let t = this.props.getHistoricalTotalBytes()
                  , n = this.calculateInitialDeltaBytes(t);
                this.state = {
                    deltaBytes: n,
                    smoothedDeltaBytes: this.smoothDeltaBytes(n),
                    lastTotalBytes: null != t[0] ? t[0].bytes : 0
                }
            }
        }
        i(r, "defaultProps", {
            numUpdatesToShow: 30,
            updateInterval: 500,
            pointsToSmooth: 10
        }),
        t.default = r
    },
    339149: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            getDispatchApplicationStates: function() {
                return R
            }
        }),
        n("47120"),
        n("724458"),
        n("653041");
        var l, a = n("735250"), s = n("470079"), i = n("120356"), r = n.n(i), o = n("748780"), u = n("442837"), d = n("692547"), c = n("215569"), f = n("481060"), h = n("812206"), m = n("703656"), C = n("417363"), p = n("941128"), g = n("366966"), E = n("943461"), S = n("780570"), _ = n("353042"), I = n("981631"), N = n("689938"), T = n("151067");
        function A(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let L = {
            [I.LocalDispatchApplicationStates.INSTALLING]: {
                [g.TimeUnits.NONE]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({
                    name: e
                }),
                [g.TimeUnits.SECONDS]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({
                    name: e,
                    timeRemaining: t
                }),
                [g.TimeUnits.MINUTES]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({
                    name: e,
                    timeRemaining: t
                }),
                [g.TimeUnits.HOURS]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({
                    name: e,
                    timeRemaining: t
                })
            },
            [I.LocalDispatchApplicationStates.UPDATING]: {
                [g.TimeUnits.NONE]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING.format({
                    name: e
                }),
                [g.TimeUnits.SECONDS]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_SECONDS.format({
                    name: e,
                    timeRemaining: t
                }),
                [g.TimeUnits.MINUTES]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_MINUTES.format({
                    name: e,
                    timeRemaining: t
                }),
                [g.TimeUnits.HOURS]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_UPDATING_HOURS.format({
                    name: e,
                    timeRemaining: t
                })
            },
            [I.LocalDispatchApplicationStates.REPAIRING]: {
                [g.TimeUnits.NONE]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING.format({
                    name: e
                }),
                [g.TimeUnits.SECONDS]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_SECONDS.format({
                    name: e,
                    timeRemaining: t
                }),
                [g.TimeUnits.MINUTES]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_MINUTES.format({
                    name: e,
                    timeRemaining: t
                }),
                [g.TimeUnits.HOURS]: (e,t)=>N.default.Messages.APPLICATION_PROGRESS_INDICATOR_INSTALLING_HOURS.format({
                    name: e,
                    timeRemaining: t
                })
            }
        };
        class v extends s.PureComponent {
            renderText() {
                let {state: e, isPaused: t} = this.props;
                if (e.type === I.LocalDispatchApplicationStates.UPDATING || e.type === I.LocalDispatchApplicationStates.REPAIRING || e.type === I.LocalDispatchApplicationStates.INSTALLING) {
                    if (t)
                        return N.default.Messages.APPLICATION_PROGRESS_INDICATOR_PAUSED;
                    if (e.stage === I.DispatchApplicationStages.PATCHING || e.stage === I.DispatchApplicationStages.REPAIRING)
                        return (0,
                        a.jsx)(_.default, {
                            getHistoricalTotalBytes: C.default.getHistoricalTotalBytesWritten,
                            updateInterval: 5e3,
                            children: this.renderProgressBody
                        })
                }
                return null
            }
            render() {
                let e = this.renderText();
                return null != e ? e : N.default.Messages.LIBRARY
            }
            constructor(...e) {
                super(...e),
                A(this, "renderProgressBody", (e,t)=>{
                    let {state: n, application: l} = this.props
                      , {stage: a, progress: s, total: i, type: r} = n;
                    if (null == s || null == i || null == a)
                        return null;
                    let o = e[e.length - 1] / t * 1e3
                      , u = 0 !== o ? Math.max(1, (i - s) / o) : null
                      , d = L[r]
                      , c = null != d ? Object.keys(d) : []
                      , {unit: f, time: h} = (0,
                    g.getTimeAndUnit)(null != u ? u / 60 : null, c);
                    if (null != d && null != f) {
                        let e = d[f];
                        return null != e ? e(l.name, h) : null
                    }
                    return null
                }
                )
            }
        }
        class x extends (l = s.PureComponent) {
            componentWillAppear(e) {
                this.state.animationScale.setValue(1),
                e()
            }
            componentWillEnter(e) {
                o.default.spring(this.state.animationScale, {
                    toValue: 1,
                    duration: 200
                }).start(e)
            }
            componentWillLeave(e) {
                o.default.spring(this.state.animationScale, {
                    toValue: 0,
                    duration: 200
                }).start(e)
            }
            getTooltipText() {
                let {firstApplication: e, firstState: t, isPaused: n} = this.props;
                return null == e || null == t ? N.default.Messages.LIBRARY : (0,
                a.jsx)(v, {
                    application: e,
                    state: t,
                    isPaused: n
                })
            }
            render() {
                let {percent: e, isPaused: t, className: n} = this.props;
                return (0,
                a.jsx)(o.default.div, {
                    style: {
                        transform: [{
                            scale: this.state.animationScale
                        }]
                    },
                    className: r()(n, T.progressContainer),
                    onClick: this.handleOnClick,
                    children: (0,
                    a.jsx)(f.Tooltip, {
                        text: this.getTooltipText(),
                        position: "right",
                        "aria-label": !1,
                        children: n=>(0,
                        a.jsx)("div", {
                            ...n,
                            children: (0,
                            a.jsx)(f.ProgressCircle, {
                                percent: e,
                                colorOverride: t ? d.default.unsafe_rawColors.PRIMARY_500.css : null,
                                children: (0,
                                a.jsx)(E.default, {
                                    className: T.downloadIcon
                                })
                            })
                        })
                    })
                })
            }
            constructor(...e) {
                super(...e),
                A(this, "state", {
                    animationScale: new o.default.Value(0)
                }),
                A(this, "handleOnClick", e=>{
                    let {onClick: t} = this.props;
                    e.preventDefault(),
                    e.stopPropagation(),
                    null != t && t(e),
                    (0,
                    m.transitionTo)(I.Routes.APPLICATION_LIBRARY)
                }
                )
            }
        }
        A(x, "defaultProps", {
            strokeSize: f.ProgressCircle.StrokeSizes.MEDIUM
        });
        function R(e, t) {
            return e.reduce((e,n)=>{
                let {applicationId: l, branchId: a} = n
                  , s = t.getState(l, a);
                return null != s && e.push(s),
                e
            }
            , [])
        }
        t.default = u.default.connectStores([p.default, C.default, h.default], ()=>{
            let e = p.default.activeItems
              , t = R(e, C.default)
              , {total: n, progress: l} = S.getCombinedProgress(t);
            return {
                percent: S.calculateProgressPercentage(l, n),
                isPaused: p.default.paused,
                firstApplication: e.length > 0 ? h.default.getApplication(e[0].applicationId) : null,
                firstState: t.length > 0 ? t[0] : null
            }
        }
        )(e=>{
            let {determineOwnVisibility: t=!0, ...n} = e;
            return t ? (0,
            a.jsx)(c.TransitionGroup, {
                component: s.Fragment,
                children: n.percent > 0 && n.percent < 100 ? (0,
                a.jsx)(x, {
                    ...n
                }) : null
            }) : (0,
            a.jsx)(x, {
                ...n
            })
        }
        )
    },
    170509: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("481060")
          , s = n("933557")
          , i = n("689938")
          , r = n("924576");
        function o(e) {
            let {channel: t, category: n, ...o} = e
              , u = (0,
            s.default)(t, !0)
              , d = (0,
            s.default)(n);
            return (0,
            l.jsx)(a.ConfirmModal, {
                header: i.default.Messages.CONFIRM_CHANNEL_DRAG_TITLE,
                confirmText: i.default.Messages.SYNC_PERMISSIONS,
                cancelText: i.default.Messages.KEEP_PERMISSIONS,
                confirmButtonColor: a.Button.Colors.BRAND,
                ...o,
                children: (0,
                l.jsx)(a.Text, {
                    variant: "text-md/normal",
                    className: r.message,
                    selectable: !1,
                    children: i.default.Messages.SYNC_PERMISSIONS_EXPLANATION.format({
                        channelName: u,
                        categoryName: d
                    })
                })
            })
        }
    },
    146773: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            makeChannelSortable: function() {
                return A
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("176617")
          , s = n("433517")
          , i = n("481060")
          , r = n("749210")
          , o = n("170509")
          , u = n("740504")
          , d = n("117984")
          , c = n("398758")
          , f = n("680089")
          , h = n("592125")
          , m = n("324067")
          , C = n("984933")
          , p = n("430824")
          , g = n("496675")
          , E = n("914010")
          , S = n("281029")
          , _ = n("700785")
          , I = n("981631");
        let N = "DRAGGABLE_GUILD_CHANNEL";
        function T(e, t) {
            var n, l;
            if (null == e || null == t)
                return null;
            if (e !== I.FAVORITES)
                return h.default.getChannel(t);
            let a = C.default.getChannels(e)
              , s = null !== (l = null !== (n = a[0,
            C.GUILD_SELECTABLE_CHANNELS_KEY].find(e=>e.channel.id === t)) && void 0 !== n ? n : a[0,
            C.GUILD_VOCAL_CHANNELS_KEY].find(e=>e.channel.id === t)) && void 0 !== l ? l : a[I.ChannelTypes.GUILD_CATEGORY].find(e=>e.channel.id === t);
            return null == s ? void 0 : s.channel
        }
        function A(e) {
            return (0,
            a.DropTarget)(N, {
                drop(e, t) {
                    let n;
                    let a = E.default.getGuildId()
                      , s = t.getItem()
                      , u = (0,
                    S.getDropData)(T(a, s.id), s.position, e.channel, e.position, s.channelList);
                    if (null == u)
                        return;
                    let c = T(a, s.id);
                    if (null == c)
                        return;
                    let f = m.default.getCategories(a)
                      , C = p.default.getGuild(a);
                    if (null == C)
                        return;
                    let N = (0,
                    S.getDnDUpdates)(c, T(a, u.referenceId), u.parentId, f);
                    if (0 !== N.length) {
                        if (a === I.FAVORITES) {
                            (0,
                            d.updateFavoriteChannels)(N);
                            return
                        }
                        if (N = N.filter(e=>{
                            let {id: t} = e
                              , n = h.default.getChannel(t);
                            if (null == n)
                                return !1;
                            let l = h.default.getChannel(n.parent_id);
                            return n.type === I.ChannelTypes.GUILD_CATEGORY || null == l ? g.default.can(I.Permissions.MANAGE_CHANNELS, C) : g.default.can(I.Permissions.MANAGE_CHANNELS, l)
                        }
                        ),
                        c.parent_id !== u.parentId && N.find(e=>{
                            if (e.id !== c.id)
                                return !1;
                            let t = h.default.getChannel(e.parent_id);
                            if (!(null != t && g.default.can(I.Permissions.MANAGE_ROLES, c) && g.default.can(I.Permissions.MANAGE_ROLES, t)))
                                return !0;
                            let l = _.areChannelsLocked(c, t)
                              , a = _.areChannelsLocked(c, h.default.getChannel(c.parent_id));
                            return (null == c.parent_id && !l || a && !l) && (n = e),
                            !0
                        }
                        ),
                        null != n) {
                            let e = h.default.getChannel(n.parent_id);
                            null != e && (0,
                            i.openModal)(t=>(0,
                            l.jsx)(o.default, {
                                ...t,
                                channel: c,
                                category: e,
                                onConfirm: ()=>{
                                    null != n && (n.lock_permissions = !0,
                                    r.default.batchChannelUpdate(a, N))
                                }
                                ,
                                onCancel: ()=>{
                                    null != n && r.default.batchChannelUpdate(a, N)
                                }
                            }))
                        } else
                            r.default.batchChannelUpdate(a, N)
                    }
                },
                canDrop(e, t) {
                    let n = t.getItem()
                      , l = h.default.getChannel(n.id);
                    if (null == l)
                        return !1;
                    let a = (0,
                    S.getDropData)(h.default.getChannel(n.id), n.position, e.channel, e.position, n.channelList);
                    if (null == a)
                        return !1;
                    if (E.default.getGuildId() === I.FAVORITES)
                        return !0;
                    let s = p.default.getGuild(n.guildId);
                    if (null == s)
                        return !1;
                    let i = h.default.getChannel(a.parentId)
                      , r = h.default.getChannel(l.parent_id)
                      , o = g.default.can(I.Permissions.MANAGE_CHANNELS, s)
                      , u = null != r ? g.default.can(I.Permissions.MANAGE_CHANNELS, r) : o
                      , d = null != i ? g.default.can(I.Permissions.MANAGE_CHANNELS, i) : o;
                    return u && d
                }
            }, (e,t)=>{
                let n = t.getItem();
                return null == n || null == n.isChannelDrag ? {
                    connectChannelDropTarget: e.dropTarget(),
                    sorting: !1,
                    sortingType: null,
                    sortingPosition: null,
                    sortingParent: null
                } : {
                    connectChannelDropTarget: e.dropTarget(),
                    sorting: !0,
                    sortingType: n.type,
                    sortingPosition: t.isOver() && t.canDrop() ? n.position : null,
                    sortingParent: t.isOver() && t.canDrop() ? n.parentId : null
                }
            }
            )((0,
            a.DragSource)(N, {
                canDrag(e) {
                    let {channel: t} = e;
                    if (E.default.getGuildId() === I.FAVORITES)
                        return !0;
                    let a = p.default.getGuild(t.getGuildId());
                    if (null == a)
                        return !1;
                    if ((0,
                    c.isOptInEnabledForGuild)(a.id) && g.default.can(I.Permissions.MANAGE_CHANNELS, a))
                        return "true" !== s.Storage.get("doNotShowReorderModal") && (0,
                        i.openModalLazy)(async()=>{
                            let {default: e} = await Promise.all([n.e("99387"), n.e("82560")]).then(n.bind(n, "391312"));
                            return t=>(0,
                            l.jsx)(e, {
                                ...t
                            })
                        }
                        ),
                        !1;
                    if (t.type === I.ChannelTypes.GUILD_CATEGORY)
                        return g.default.can(I.Permissions.MANAGE_CHANNELS, a) && !(0,
                        c.isOptInEnabledForGuild)(a.id);
                    let r = h.default.getChannel(t.parent_id);
                    return null != r && g.default.can(I.Permissions.MANAGE_CHANNELS, r) || null == r && g.default.can(I.Permissions.MANAGE_CHANNELS, a)
                },
                beginDrag(e) {
                    let {channel: {id: t, parent_id: n, guild_id: l, type: a}, position: s} = e
                      , i = E.default.getGuildId()
                      , r = m.default.getCategories(i);
                    return {
                        isChannelDrag: !0,
                        id: t,
                        position: s,
                        parentId: n,
                        type: a,
                        channelList: (0,
                        u.default)(r._categories, r, e=>{
                            let {channel: t} = e;
                            if (t.type === I.ChannelTypes.GUILD_CATEGORY && null != r[t.id] && 0 === r[t.id].length)
                                return i === I.FAVORITES || g.default.can(I.Permissions.MANAGE_CHANNELS, t) && g.default.can(I.Permissions.VIEW_CHANNEL, t);
                            return !f.default.isCollapsed(t.parent_id)
                        }
                        ),
                        guildId: l
                    }
                }
            }, e=>({
                connectChannelDragSource: e.dragSource(),
                connectDragPreview: e.dragPreview()
            }))(e))
        }
    },
    761414: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("567453");
        n.es(l, t)
    },
    590739: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("486081");
        n.es(l, t)
    },
    792304: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("135616");
        n.es(l, t)
    },
    319643: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("34104");
        n.es(l, t)
    },
    184726: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("393548");
        n.es(l, t)
    },
    93582: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            getNodeText: function() {
                return function e(t) {
                    return "string" == typeof t || "number" == typeof t ? t : t instanceof Array ? t.map(e).join("") : l.isValidElement(t) ? e(t.props.children) : void 0
                }
            }
        });
        var l = n("470079")
    },
    589440: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            getNodeText: function() {
                return l.getNodeText
            }
        });
        var l = n("93582")
    },
    167042: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            QUICKSWITCHER_SHOW: function() {
                return a
            }
        });
        var l = n("51596");
        let a = {
            binds: ["mod+k", "mod+t"],
            comboKeysBindGlobal: !0,
            action: ()=>((0,
            l.show)("KEYBIND", ""),
            !1)
        }
    },
    951483: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            OVERLAY_LAYOUT: function() {
                return T
            },
            OVERLAY_LOCKED_LAYOUT: function() {
                return A
            },
            getOverlayLayoutContent: function() {
                return L
            }
        }),
        n("411104");
        var l = n("186070")
          , a = n("185514")
          , s = n("360038")
          , i = n("175724")
          , r = n("705371")
          , o = n("138976")
          , u = n("167042")
          , d = n("239748")
          , c = n("337482")
          , f = n("679080")
          , h = n("510761")
          , m = n("189509")
          , C = n("673553")
          , p = n("280492")
          , g = n("746887")
          , E = n("721383")
          , S = n("743810")
          , _ = n("981631")
          , I = n("689938");
        function N() {
            for (var e = arguments.length, t = Array(e), n = 0; n < e; n++)
                t[n] = arguments[n];
            return t.map(e=>{
                let t = T[e];
                if (null == t)
                    throw Error("getBindsFor(...): No bind for ".concat(t));
                return t.binds[0]
            }
            )
        }
        let T = {
            [_.KeybindActions.SERVER_NEXT]: h.SERVER_NEXT,
            [_.KeybindActions.SERVER_PREV]: h.SERVER_PREV,
            [_.KeybindActions.CHANNEL_NEXT]: a.CHANNEL_NEXT,
            [_.KeybindActions.CHANNEL_PREV]: a.CHANNEL_PREV,
            [_.KeybindActions.NAVIGATE_BACK]: a.NAVIGATE_BACK,
            [_.KeybindActions.NAVIGATE_FORWARD]: a.NAVIGATE_FORWARD,
            [_.KeybindActions.UNREAD_NEXT]: S.UNREAD_NEXT,
            [_.KeybindActions.UNREAD_PREV]: S.UNREAD_PREV,
            [_.KeybindActions.MENTION_CHANNEL_NEXT]: S.MENTION_NEXT,
            [_.KeybindActions.MENTION_CHANNEL_PREV]: S.MENTION_PREV,
            [_.KeybindActions.TOGGLE_PREVIOUS_GUILD]: a.TOGGLE_PREVIOUS_GUILD,
            [_.KeybindActions.JUMP_TO_GUILD]: s.JUMP_TO_GUILD,
            [_.KeybindActions.SUBMIT]: m.SUBMIT,
            [_.KeybindActions.TEXTAREA_FOCUS]: C.TEXTAREA_FOCUS,
            [_.KeybindActions.MARK_CHANNEL_READ]: i.MARK_CHANNEL_READ,
            [_.KeybindActions.MARK_SERVER_READ]: r.MARK_SERVER_READ,
            [_.KeybindActions.TOGGLE_MUTE]: p.TOGGLE_MUTE,
            [_.KeybindActions.TOGGLE_DEAFEN]: p.TOGGLE_DEAFEN,
            [_.KeybindActions.TOGGLE_CATEGORY_COLLAPSED]: g.TOGGLE_CATEGORY_COLLAPSED,
            [_.KeybindActions.SCROLL_UP]: c.SCROLL_UP,
            [_.KeybindActions.SCROLL_DOWN]: c.SCROLL_DOWN,
            [_.KeybindActions.SEARCH_EMOJIS]: f.SEARCH_EMOJIS,
            [_.KeybindActions.TOGGLE_HOTKEYS]: E.TOGGLE_HOTKEYS,
            [_.KeybindActions.JUMP_TO_FIRST_UNREAD]: o.JUMP_TO_FIRST_UNREAD,
            [_.KeybindActions.RETURN_TO_AUDIO_CHANNEL]: d.RETURN_TO_AUDIO_CHANNEL,
            [_.KeybindActions.CALL_ACCEPT]: l.CALL_ACCEPT,
            [_.KeybindActions.CALL_START]: l.CALL_START,
            [_.KeybindActions.QUICKSWITCHER_SHOW]: u.QUICKSWITCHER_SHOW
        }
          , A = {
            [_.KeybindActions.QUICKSWITCHER_SHOW]: u.QUICKSWITCHER_SHOW
        };
        function L() {
            return [{
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_SERVERS,
                binds: N(_.KeybindActions.SERVER_PREV, _.KeybindActions.SERVER_NEXT)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_CHANNELS,
                binds: N(_.KeybindActions.CHANNEL_PREV, _.KeybindActions.CHANNEL_NEXT)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_NAVIGATE_BACK_FORWARD,
                binds: N(_.KeybindActions.NAVIGATE_BACK, _.KeybindActions.NAVIGATE_FORWARD)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_CHANNELS,
                binds: N(_.KeybindActions.UNREAD_PREV, _.KeybindActions.UNREAD_NEXT)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_UNREAD_MENTION_CHANNELS,
                binds: N(_.KeybindActions.MENTION_CHANNEL_PREV, _.KeybindActions.MENTION_CHANNEL_NEXT),
                groupEnd: !0
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_PREVIOUS_GUILD,
                binds: N(_.KeybindActions.TOGGLE_PREVIOUS_GUILD)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_SERVER_READ,
                binds: N(_.KeybindActions.MARK_SERVER_READ)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_MARK_CHANNEL_READ,
                binds: N(_.KeybindActions.MARK_CHANNEL_READ)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_SEARCH_EMOJIS,
                binds: N(_.KeybindActions.SEARCH_EMOJIS),
                groupEnd: !0
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_MUTE,
                binds: N(_.KeybindActions.TOGGLE_MUTE)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_TOGGLE_DEAFEN,
                binds: N(_.KeybindActions.TOGGLE_DEAFEN)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_ACCEPT,
                binds: N(_.KeybindActions.CALL_ACCEPT)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_DECLINE,
                binds: N(_.KeybindActions.MARK_CHANNEL_READ)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_CALL_START,
                binds: N(_.KeybindActions.CALL_START),
                groupEnd: !0
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_SCROLL_CHAT,
                binds: N(_.KeybindActions.SCROLL_UP, _.KeybindActions.SCROLL_DOWN)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_JUMP_TO_FIRST_UNREAD,
                binds: N(_.KeybindActions.JUMP_TO_FIRST_UNREAD)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_FOCUS_TEXT_AREA,
                binds: N(_.KeybindActions.TEXTAREA_FOCUS)
            }, {
                description: I.default.Messages.KEYBIND_DESCRIPTION_MODAL_QUICKSWITCHER,
                binds: N(_.KeybindActions.QUICKSWITCHER_SHOW)
            }]
        }
    },
    134616: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            SETTINGS_LAYERS_LAYOUT: function() {
                return d
            }
        });
        var l = n("374470")
          , a = n("481060")
          , s = n("40851")
          , i = n("574254")
          , r = n("585483")
          , o = n("547420")
          , u = n("981631");
        let d = {
            POP_LAYER: {
                binds: ["esc"],
                comboKeysBindGlobal: !0,
                action(e) {
                    if ((0,
                    a.isInDndMode)())
                        return !1;
                    if (r.ComponentDispatch.hasSubscribers(u.ComponentActions.CALL_DECLINE))
                        return r.ComponentDispatch.dispatch(u.ComponentActions.CALL_DECLINE),
                        !1;
                    if (i.default.close())
                        return !1;
                    if ((0,
                    l.isElement)(e.target)) {
                        let t = (0,
                        s.getWindowDispatchForElement)(e.target);
                        if (null == t ? void 0 : t.hasSubscribers(u.ComponentActions.POPOUT_CLOSE))
                            return t.dispatch(u.ComponentActions.POPOUT_CLOSE),
                            !1
                    }
                    if (r.ComponentDispatch.hasSubscribers(u.ComponentActions.MODAL_CLOSE))
                        return r.ComponentDispatch.dispatch(u.ComponentActions.MODAL_CLOSE),
                        !1;
                    r.ComponentDispatch.dispatch(u.ComponentActions.LAYER_POP_ESCAPE_KEY)
                }
            },
            ...o.default
        }
    },
    472365: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return B
            }
        }),
        n("411104");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("399606")
          , o = n("481060")
          , u = n("588705")
          , d = n("100527")
          , c = n("906732")
          , f = n("792766")
          , h = n("451603")
          , m = n("885714")
          , C = n("973616")
          , p = n("594174")
          , g = n("285952")
          , E = n("672752")
          , S = n("153124")
          , _ = n("819570")
          , I = n("757698")
          , N = n("466111")
          , T = n("855981")
          , A = n("55543")
          , L = n("626135")
          , v = n("768581")
          , x = n("358085")
          , R = n("998502")
          , M = n("379164")
          , y = n("590965")
          , O = n("981631")
          , b = n("474936")
          , D = n("689938")
          , j = n("379189")
          , P = n("611273");
        function G() {
            let {analyticsLocations: e, sourceAnalyticsLocations: t} = (0,
            c.default)(d.default.PREMIUM_UPSELL_TOOLTIP);
            return a.useEffect(()=>{
                L.default.track(O.AnalyticEvents.PREMIUM_UPSELL_VIEWED, {
                    type: b.PremiumUpsellTypes.GUILD_CAP_INLINE_INVITE_MODAL,
                    location: {
                        page: O.AnalyticsPages.NATIVE_INVITE_MODAL
                    },
                    location_stack: t
                })
            }
            , [t]),
            (0,
            l.jsxs)(o.Clickable, {
                onClick: ()=>(0,
                m.default)({
                    analyticsSource: {
                        page: O.AnalyticsLocations.EXTERNAL_INVITE_LINK_MODAL
                    },
                    analyticsLocation: {
                        page: O.AnalyticsLocations.EXTERNAL_INVITE_LINK_MODAL,
                        section: O.AnalyticsSections.GUILD_CAP_UPSELL_MODAL
                    },
                    analyticsLocations: e
                }),
                className: j.experimentUpsellError,
                children: [(0,
                l.jsx)(N.default, {
                    width: 24,
                    height: 24,
                    className: j.experimentUpsellIcon,
                    color: E.GradientCssUrls.PREMIUM_TIER_2
                }), (0,
                l.jsx)("span", {
                    className: j.experimentUpsellText,
                    children: D.default.Messages.GUILD_CAP_UPSELL_TOOLTIP
                }), (0,
                l.jsx)("span", {
                    className: j.experimentGetNitro,
                    children: D.default.Messages.GUILD_CAP_UPSELL_GET_NITRO
                })]
            })
        }
        function U(e) {
            let {className: t} = e;
            return (0,
            l.jsxs)("div", {
                "aria-hidden": "true",
                className: i()(j.iconContainer, t),
                children: [(0,
                l.jsx)(T.default, {
                    className: j.iconSparklePlus
                }), (0,
                l.jsx)(I.default, {
                    className: j.iconLink,
                    width: 40,
                    height: 40
                }), (0,
                l.jsx)(A.default, {
                    className: j.iconSparkleStar
                })]
            })
        }
        function w(e) {
            let {transitionState: t} = e
              , n = (0,
            S.useUID)()
              , {analyticsLocations: a} = (0,
            c.default)(d.default.INVITE_MODAL);
            return (0,
            l.jsx)(c.AnalyticsLocationProvider, {
                value: a,
                children: (0,
                l.jsx)(o.ModalRoot, {
                    size: o.ModalSize.DYNAMIC,
                    "aria-labelledby": n,
                    transitionState: t,
                    children: (0,
                    l.jsxs)(o.ModalContent, {
                        className: j.errorContent,
                        children: [(0,
                        l.jsx)(U, {
                            className: j.errorImage
                        }), (0,
                        l.jsx)(o.Heading, {
                            id: n,
                            variant: "heading-xl/semibold",
                            color: "header-primary",
                            children: D.default.Messages.INVITE_MODAL_ERROR_INVALID_TITLE
                        }), (0,
                        l.jsx)("div", {
                            className: j.errorBody,
                            children: D.default.Messages.INVITE_MODAL_ERROR_INVALID_BODY
                        }), (0,
                        l.jsx)(_.Button, {
                            size: _.Button.Sizes.LARGE,
                            onClick: ()=>M.default.close(),
                            color: _.Button.Colors.BRAND,
                            children: D.default.Messages.INVITE_MODAL_ERROR_BUTTON_TEXT
                        })]
                    })
                })
            })
        }
        function B(e) {
            let t, n, {transitionState: s} = e;
            (0,
            r.useStateFromStores)([p.default], ()=>{
                var e;
                return null === (e = p.default.getCurrentUser()) || void 0 === e ? void 0 : e.premiumType
            }
            );
            let {invite: m, error: E, submitting: I} = (0,
            r.useStateFromStoresObject)([y.default], ()=>y.default.getProps());
            a.useEffect(()=>{
                !__OVERLAY__ && x.isPlatformEmbedded && ((0,
                x.isWindows)() ? R.default.minimize() : R.default.restore(),
                R.default.focus())
            }
            , []);
            let N = (0,
            S.useUID)()
              , {analyticsLocations: T} = (0,
            c.default)(d.default.INVITE_MODAL);
            if (null == m)
                return null;
            if (m.state === O.InviteStates.EXPIRED || m.state === O.InviteStates.BANNED || m.state === O.InviteStates.ERROR)
                return (0,
                l.jsx)(w, {
                    transitionState: s
                });
            if (null == m.channel)
                return null;
            function A() {
                null != m && M.default.acceptInvite(m)
            }
            let {guild: L, channel: b, inviter: U, target_application: B} = m
              , F = null != m.stage_instance
              , V = null == m.guild && null == m.channel && null != m.inviter;
            if (null != B)
                t = null == L ? void 0 : L.name,
                n = C.default.createFromServer(B).getCoverImageURL(1024);
            else if (null != L)
                t = L.name,
                n = v.default.getGuildSplashURL({
                    id: L.id,
                    splash: L.splash
                });
            else if ((null == (t = b.name) || "" === t) && null != U && (t = U.username),
            null == t)
                throw Error("no name for group DM invite");
            let H = (0,
            h.isAtGuildCapAndNonPremium)()
              , k = F ? D.default.Messages.INSTANT_INVITE_ACCEPT_STAGE : D.default.Messages.INVITE_MODAL_BUTTON.format({
                guildName: t
            });
            return V && (k = D.default.Messages.ACCEPT_INVITE_MODAL_BUTTON),
            (0,
            l.jsx)(c.AnalyticsLocationProvider, {
                value: T,
                children: (0,
                l.jsxs)(o.ModalRoot, {
                    size: o.ModalSize.DYNAMIC,
                    "aria-labelledby": N,
                    transitionState: s,
                    className: j.container,
                    children: [(0,
                    l.jsx)("div", {
                        className: j.contentWrapper,
                        children: (0,
                        l.jsx)(o.Scroller, {
                            className: j.scroller,
                            children: (0,
                            l.jsxs)(g.default, {
                                className: j.inviteContent,
                                direction: g.default.Direction.VERTICAL,
                                justify: g.default.Justify.BETWEEN,
                                children: [(0,
                                l.jsx)("div", {
                                    id: N,
                                    className: P.marginBottom20,
                                    children: (0,
                                    l.jsx)(u.default, {
                                        invite: m,
                                        disableUser: null != L,
                                        error: E
                                    })
                                }), F && null != L ? (0,
                                l.jsx)("div", {
                                    className: i()(P.marginBottom20, j.stage),
                                    children: (0,
                                    l.jsx)(f.default, {
                                        isCard: !0,
                                        stageInstance: m.stage_instance,
                                        guild: L
                                    })
                                }) : null, (0,
                                l.jsxs)("div", {
                                    children: [H ? (0,
                                    l.jsx)(G, {}) : null, null == B ? (0,
                                    l.jsx)(o.Tooltip, {
                                        text: H ? D.default.Messages.TOO_MANY_USER_GUILDS_DESCRIPTION : null,
                                        position: "bottom",
                                        children: e=>{
                                            let {onMouseEnter: t, onMouseLeave: n} = e;
                                            return (0,
                                            l.jsx)(_.Button, {
                                                size: _.Button.Sizes.LARGE,
                                                onClick: A,
                                                submitting: I,
                                                disabled: H,
                                                color: F ? _.Button.Colors.GREEN : _.Button.Colors.BRAND,
                                                onMouseEnter: t,
                                                onMouseLeave: n,
                                                children: H ? D.default.Messages.GUILD_CAP_INVITE_MODAL_BUTTON : k
                                            })
                                        }
                                    }) : (0,
                                    l.jsxs)("div", {
                                        className: j.buttonGroup,
                                        children: [(0,
                                        l.jsx)(_.Button, {
                                            size: _.Button.Sizes.LARGE,
                                            onClick: A,
                                            submitting: I,
                                            children: D.default.Messages.PLAY
                                        }), (0,
                                        l.jsx)(_.Button, {
                                            color: _.Button.Colors.PRIMARY,
                                            size: _.Button.Sizes.LARGE,
                                            onClick: A,
                                            submitting: I,
                                            children: D.default.Messages.SPECTATE
                                        })]
                                    }), (0,
                                    l.jsx)(g.default, {
                                        justify: g.default.Justify.CENTER,
                                        className: P.marginTop8,
                                        children: (0,
                                        l.jsx)(_.Button, {
                                            look: _.Button.Looks.LINK,
                                            className: j.noThanksButton,
                                            onClick: function() {
                                                M.default.close()
                                            },
                                            color: _.Button.Colors.TRANSPARENT,
                                            children: D.default.Messages.INIVTE_MODAL_NO_THANKS
                                        })
                                    })]
                                })]
                            })
                        })
                    }), null != n && (0,
                    l.jsx)("div", {
                        className: j.inviteSplash,
                        style: {
                            backgroundImage: "url(".concat(n, ")")
                        }
                    })]
                })
            })
        }
    },
    379164: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("570140")
          , a = n("447543")
          , s = n("782605");
        t.default = {
            acceptInvite(e) {
                let t = a.default.getInviteContext("Desktop Invite Modal", e);
                a.default.acceptInvite({
                    inviteKey: e.code,
                    context: t,
                    callback: e=>{
                        null != e && null != e.guild && null != e.channel && !__OVERLAY__ && a.default.transitionToInvite(e)
                    }
                }).then(()=>this.close(), e=>{
                    l.default.dispatch({
                        type: "INVITE_MODAL_ERROR",
                        message: (0,
                        s.getInviteError)(e.code)
                    })
                }
                )
            },
            close() {
                l.default.dispatch({
                    type: "INVITE_MODAL_CLOSE"
                })
            }
        }
    },
    185666: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250");
        n("470079");
        var a = n("481060")
          , s = n("570140")
          , i = n("317770")
          , r = n("472365")
          , o = n("590965");
        let u = "INVITE_MODAL_KEY";
        class d extends i.default {
            _initialize() {
                s.default.subscribe("INVITE_MODAL_OPEN", this.handleOpenModal),
                s.default.subscribe("INVITE_MODAL_CLOSE", this.handleCloseModal)
            }
            _terminate() {
                (0,
                a.closeModal)(u),
                s.default.unsubscribe("INVITE_MODAL_OPEN", this.handleOpenModal),
                s.default.unsubscribe("INVITE_MODAL_CLOSE", this.handleCloseModal)
            }
            handleOpenModal() {
                o.default.isOpen() && !(0,
                a.hasModalOpen)(u) && (0,
                a.openModal)(e=>(0,
                l.jsx)(r.default, {
                    ...e
                }), {
                    modalKey: u,
                    onCloseRequest: ()=>s.default.dispatch({
                        type: "INVITE_MODAL_CLOSE"
                    })
                })
            }
            handleCloseModal() {
                (0,
                a.closeModal)(u)
            }
        }
        t.default = new d
    },
    590965: function(e, t, n) {
        "use strict";
        let l;
        n.r(t),
        n("47120"),
        n("653041");
        var a, s, i, r, o = n("442837"), u = n("570140"), d = n("413605"), c = n("703656"), f = n("131704"), h = n("601964"), m = n("592125"), C = n("430824"), p = n("701190"), g = n("496675"), E = n("594174"), S = n("998502"), _ = n("981631"), I = n("176505");
        let N = _.AppContext.APP
          , T = !1
          , A = !1
          , L = [];
        function v() {
            T = !0
        }
        class x extends (a = o.default.Store) {
            initialize() {
                this.waitFor(C.default, p.default, E.default)
            }
            isOpen() {
                let e = __OVERLAY__ ? _.AppContext.OVERLAY : _.AppContext.APP;
                return !!(T && L.length > 0 && N === e)
            }
            getProps() {
                return {
                    invite: L.length > 0 ? L[0][0] : null,
                    error: null != l && "" !== l ? l : null,
                    submitting: A
                }
            }
        }
        r = "InviteModalStore",
        (i = "displayName")in (s = x) ? Object.defineProperty(s, i, {
            value: r,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : s[i] = r,
        t.default = new x(u.default,{
            OVERLAY_INITIALIZE: v,
            CONNECTION_OPEN: v,
            CONNECTION_CLOSED: function() {
                T = !1
            },
            INVITE_MODAL_OPEN: function(e) {
                let t = e.invite;
                if (null == t)
                    return !1;
                if (!(t.state === _.InviteStates.EXPIRED || t.state === _.InviteStates.BANNED || t.state === _.InviteStates.ERROR)) {
                    let {channel: e, guild: n} = t;
                    if (null == e)
                        return !1;
                    if ((0,
                    f.isMultiUserDM)(e.type)) {
                        if (null != m.default.getChannel(e.id))
                            return (0,
                            c.transitionToGuild)(_.ME, e.id),
                            S.default.focus(),
                            !1
                    } else {
                        if (null == n)
                            return !1;
                        if (null != C.default.getGuild(n.id) && !(0,
                        d.isStreamInvite)(t)) {
                            let e = function(e) {
                                if ((0,
                                d.isRoleSubscriptionInvite)(e))
                                    return I.StaticChannelRoute.ROLE_SUBSCRIPTIONS;
                                let {channel: t} = e;
                                if (null != t) {
                                    let e = m.default.getChannel(t.id);
                                    if (g.default.can(_.Permissions.VIEW_CHANNEL, e))
                                        return t.id
                                }
                                return null
                            }(t);
                            return (0,
                            c.transitionToGuild)(n.id, e),
                            S.default.focus(),
                            !1
                        }
                    }
                }
                if (L.some(e=>{
                    let[n] = e;
                    return n.code === t.code
                }
                ))
                    return !1;
                N = e.context,
                A = !1;
                let n = function(e) {
                    let {approximate_member_count: t, approximate_presence_count: n, code: l, state: a, target_type: s, target_user: i, target_application: r, stage_instance: o, type: u, channel: d, guild: c} = e
                      , f = {
                        code: l,
                        state: a,
                        approximate_member_count: t,
                        approximate_presence_count: n,
                        target_type: s,
                        target_user: i,
                        target_application: r,
                        stage_instance: o,
                        type: u
                    };
                    return null != d && (f.channel = {
                        ...d
                    }),
                    null != c && (f.guild = new h.default(c)),
                    null != e.inviter && (f.inviter = {
                        ...e.inviter
                    }),
                    f
                }(t);
                L.push([n, e.resolve])
            },
            INVITE_MODAL_CLOSE: function() {
                if (l = null,
                A = !1,
                L.length > 0) {
                    let[,e] = L.shift();
                    null != e && e()
                }
            },
            INVITE_ACCEPT: function() {
                A = !0
            },
            INVITE_MODAL_ERROR: function(e) {
                let {message: t} = e;
                l = t,
                A = !1
            }
        })
    },
    503737: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250");
        n("470079");
        var a = n("481060")
          , s = n("570140")
          , i = n("468026")
          , r = n("317770")
          , o = n("689938");
        let u = "ActivityInviteManager"
          , d = ()=>{
            s.default.dispatch({
                type: "ACTIVITY_INVITE_MODAL_CLOSE"
            })
        }
        ;
        class c extends r.default {
            _initialize() {
                s.default.subscribe("ACTIVITY_INVITE_MODAL_OPEN", this.handleModalOpen),
                s.default.subscribe("ACTIVITY_INVITE_MODAL_CLOSE", this.handleModalClose)
            }
            _terminate() {
                s.default.unsubscribe("ACTIVITY_INVITE_MODAL_OPEN", this.handleModalOpen),
                s.default.unsubscribe("ACTIVITY_INVITE_MODAL_CLOSE", this.handleModalClose)
            }
            handleModalOpen(e) {
                let {activity: t, isPrivate: s} = e;
                s ? (0,
                a.openModal)(e=>(0,
                l.jsx)(i.default, {
                    title: o.default.Messages.ACTIVITY_INVITE_MODAL_HEADER.format({
                        name: t.name
                    }),
                    body: o.default.Messages.ACTIVITY_INVITE_PRIVATE,
                    confirmText: o.default.Messages.OKAY,
                    ...e
                }), {
                    onCloseCallback: d,
                    modalKey: u
                }) : (0,
                a.openModalLazy)(async()=>{
                    let {default: e} = await Promise.all([n.e("99387"), n.e("79921")]).then(n.bind(n, "699099"));
                    return t=>(0,
                    l.jsx)(e, {
                        ...t
                    })
                }
                , {
                    onCloseCallback: d,
                    modalKey: u
                })
            }
            handleModalClose(e) {
                (0,
                a.closeModal)(u)
            }
        }
        t.default = new c
    },
    453542: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            getNowPlayingAnalytics: function() {
                return i
            }
        }),
        n("724458"),
        n("442837");
        var l = n("868854")
          , a = n("801077")
          , s = n("674563");
        function i() {
            let e = (0,
            l.getNowPlayingVisible)();
            return function(e, t) {
                let n = e.reduce((e,t)=>{
                    var n;
                    let l = null !== (n = t.party.currentActivities.filter(e=>null != e.game.name && e.game.type === s.ApplicationTypes.GAME).map(e=>e.game.name)) && void 0 !== n ? n : [];
                    return e.concat(l)
                }
                , []);
                return {
                    now_playing_visible: t,
                    now_playing_num_cards: e.length,
                    now_playing_games_detected: n
                }
            }(a.default.nowPlayingCards, e)
        }
    },
    864682: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return h
            }
        }),
        n("47120");
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("481060")
          , i = n("594174")
          , r = n("68972")
          , o = n("74538")
          , u = n("327943")
          , d = n("997945")
          , c = n("630117")
          , f = n("441319");
        function h() {
            let[e,t,n] = (0,
            a.useStateFromStoresArray)([i.default, u.default], ()=>[u.default.getCurrentDesktopIcon(), u.default.isEditorOpen, o.default.isPremium(i.default.getCurrentUser())])
              , h = f.ICONS_BY_ID[e]
              , m = e !== d.FreemiumAppIconIds.DEFAULT && (n || t)
              , C = (0,
            s.useRedesignIconContext)().enabled
              , p = (0,
            l.jsx)(r.default, {
                width: 30,
                height: C ? 30 : 22
            });
            return null != h && m ? (0,
            l.jsx)(c.default, {
                id: e,
                width: 48
            }) : p
        }
    },
    835865: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return r
            }
        });
        var l = n("470079")
          , a = n("442837")
          , s = n("67212")
          , i = n("292584");
        function r() {
            let e = (0,
            a.useStateFromStores)([i.default], ()=>i.default.getBroadcastsToValidateChannels());
            (0,
            l.useEffect)(()=>{
                e.length > 0 && (0,
                s.maybeFetchBroadcastChannels)()
            }
            , [e])
        }
    },
    456541: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            useTrackNewBroadcastDetected: function() {
                return f
            }
        }),
        n("47120");
        var l = n("470079")
          , a = n("392711")
          , s = n.n(a)
          , i = n("367907")
          , r = n("770471")
          , o = n("158631")
          , u = n("143614")
          , d = n("981631");
        let c = (e,t)=>[...t].filter(t=>!e.has(t))
          , f = ()=>{
            let e = (0,
            u.default)()
              , t = (0,
            o.default)()
              , {canViewBroadcasts: n} = r.default.useExperiment({
                location: "Home Button"
            }, {
                autoTrackExposure: !1
            })
              , a = l.useRef(t)
              , f = l.useRef(new Set);
            l.useEffect(()=>{
                let l = new Set(e.map(e=>e.channelId))
                  , r = !s().isEqual(f.current, l);
                if (n && r) {
                    let n = c(f.current, l);
                    i.default.trackWithMetadata(d.AnalyticEvents.NEW_BROADCAST_DETECTED, {
                        active_broadcast_highlight: e.length > 0,
                        num_active_broadcasts: e.length,
                        is_broadcasting: t,
                        prev_is_broadcasting: a.current,
                        prev_num_active_broadcasts: f.current.size,
                        new_broadcast_channel_ids: n,
                        broadcast_channel_ids: [...l]
                    }),
                    f.current = l,
                    a.current = t
                }
            }
            , [e, t, n])
        }
    },
    143614: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return i
            }
        });
        var l = n("442837")
          , a = n("885110")
          , s = n("292584");
        function i() {
            let e = (0,
            l.useStateFromStores)([a.default], ()=>a.default.getBroadcast())
              , t = (0,
            l.useStateFromStores)([s.default], ()=>s.default.getBroadcasts());
            return null != e ? [e].concat(t) : t
        }
    },
    544803: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return T
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("692547")
          , r = n("481060")
          , o = n("758059")
          , u = n("367907")
          , d = n("835473")
          , c = n("703656")
          , f = n("594174")
          , h = n("366695")
          , m = n("436088")
          , C = n("51144")
          , p = n("158631")
          , g = n("143614")
          , E = n("787740")
          , S = n("981631")
          , _ = n("689938")
          , I = n("637861");
        function N(e) {
            var t;
            let {userId: n, applicationId: a} = e
              , i = (0,
            s.useStateFromStores)([f.default], ()=>f.default.getUser(n))
              , o = null !== (t = C.default.getGlobalName(i)) && void 0 !== t ? t : C.default.getUserTag(i)
              , u = (0,
            d.useGetOrFetchApplication)(a);
            return null == i ? null : (0,
            l.jsxs)("div", {
                className: I.broadcast,
                children: [(0,
                l.jsxs)("div", {
                    children: [(0,
                    l.jsxs)("div", {
                        className: I.inline,
                        children: [(0,
                        l.jsx)(r.Avatar, {
                            size: r.AvatarSizes.SIZE_16,
                            src: i.getAvatarURL(null, 16),
                            "aria-label": o
                        }), (0,
                        l.jsx)(r.Text, {
                            variant: "text-sm/semibold",
                            children: o
                        })]
                    }), (0,
                    l.jsx)(r.Text, {
                        variant: "text-xs/medium",
                        color: "header-secondary",
                        children: (null == u ? void 0 : u.name) != null ? _.default.Messages.STREAMING.format({
                            name: u.name
                        }) : _.default.Messages.STREAMING_A_GAME
                    })]
                }), (0,
                l.jsx)(h.default, {
                    game: u
                })]
            })
        }
        function T(e) {
            let {closePopout: t} = e
              , n = (0,
            g.default)()
              , s = n.slice(0, 3)
              , d = (0,
            p.default)()
              , f = n.length - s.length;
            return a.useEffect(()=>{
                u.default.trackWithMetadata(S.AnalyticEvents.BROADCAST_POPOUT_VIEWED, {
                    num_broadcasts_shown: s.length,
                    num_active_broadcasts: n.length,
                    is_broadcasting: d
                })
            }
            , [n.length, s.length, d]),
            (0,
            l.jsxs)("div", {
                className: I.container,
                children: [(0,
                l.jsxs)("div", {
                    className: I.header,
                    children: [(0,
                    l.jsxs)("div", {
                        className: I.inline,
                        children: [(0,
                        l.jsx)(m.default, {
                            color: i.default.colors.HEADER_PRIMARY.css,
                            height: 16,
                            width: 16
                        }), (0,
                        l.jsx)(r.Heading, {
                            variant: "heading-md/semibold",
                            color: "header-primary",
                            children: _.default.Messages.LIVE_BROADCASTS
                        })]
                    }), (0,
                    l.jsx)(E.default, {})]
                }), s.map((e,t)=>(0,
                l.jsxs)(l.Fragment, {
                    children: [(0,
                    l.jsx)(N, {
                        ...e
                    }, e.userId), t !== s.length - 1 && (0,
                    l.jsx)("hr", {
                        className: I.separator
                    })]
                })), f > 0 && (0,
                l.jsxs)(l.Fragment, {
                    children: [(0,
                    l.jsx)("hr", {
                        className: I.separator
                    }), (0,
                    l.jsx)(r.Text, {
                        variant: "text-xs/medium",
                        color: "header-secondary",
                        children: _.default.Messages.MORE_OPEN_BROADCASTS.format({
                            count: f
                        })
                    })]
                }), (0,
                l.jsx)(r.Button, {
                    onClick: ()=>{
                        (0,
                        c.transitionTo)(S.Routes.ME),
                        o.default.setSection(S.FriendsSections.ONLINE),
                        u.default.trackWithMetadata(S.AnalyticEvents.BROADCAST_LIST_VISITED, {
                            num_active_broadcasts: n.length,
                            friends_tab_clicked: !1,
                            is_broadcasting: d
                        }),
                        t()
                    }
                    ,
                    className: I.button,
                    children: _.default.Messages.VIEW_OPEN_BROADCASTS
                })]
            })
        }
    },
    286328: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("970731")
          , s = n("689938")
          , i = n("51473")
          , r = n("56512");
        function o(e) {
            let {markAsDismissed: t} = e;
            return (0,
            l.jsx)(a.default, {
                header: s.default.Messages.BROADCASTING_BROADCASTER_TOOLTIP_HEADER,
                content: s.default.Messages.BROADCASTING_BROADCASTER_TOOLTIP_BODY,
                buttonCTA: s.default.Messages.GOT_IT,
                onClick: ()=>{}
                ,
                markAsDismissed: t,
                caretPosition: a.default.CaretPosition.BOTTOM_CENTER,
                asset: (0,
                l.jsx)("img", {
                    src: r,
                    alt: "",
                    className: i.image
                }),
                className: i.content
            })
        }
    },
    718589: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return s
            }
        });
        var l = n("981631")
          , a = n("689938");
        function s(e) {
            let {channel: t, embeddedApps: n} = e;
            if (t.type === l.ChannelTypes.GUILD_VOICE) {
                if (null == n || !(n.length > 0))
                    return;
                {
                    let e = n.map(e=>e.application.name);
                    return a.default.Messages.GUILD_SIDEBAR_VOICE_CHANNEL_DESCRIBED_BY_LABEL_ACTIVITIES.format({
                        activeActivities: e.join(", ")
                    })
                }
            }
        }
    },
    873696: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            getChannelSubtitle: function() {
                return a
            }
        });
        var l = n("689938");
        function a(e) {
            if (null == e)
                return null;
            switch (e.type) {
            case "embedded-activities":
            case "event":
                return {
                    subtitle: e.name
                };
            case "go-live":
                return {
                    subtitle: l.default.Messages.GO_LIVE_SUBTITLE
                }
            }
            return null
        }
    },
    566840: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            useChannelListUpsellLocationTrackerRef: function() {
                return u
            },
            useChannelListUpsells: function() {
                return r
            }
        });
        var l = n("470079")
          , a = n("652874")
          , s = n("143927");
        let i = (0,
        a.default)(e=>({
            upsellsByGuildId: {}
        }));
        function r(e) {
            return i(t=>{
                var n;
                let l = {};
                return null == e ? l : null !== (n = t.upsellsByGuildId[e]) && void 0 !== n ? n : l
            }
            , s.default)
        }
        function o(e) {
            if (null == e)
                return !1;
            try {
                return window.getComputedStyle(e).overflow.includes("scroll")
            } catch (e) {
                return !1
            }
        }
        function u(e, t) {
            let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
              , a = l.useRef(null);
            return l.useLayoutEffect(()=>{
                let l = a.current
                  , s = ()=>{
                    requestAnimationFrame(()=>{
                        var l, s, r;
                        let o = null !== (s = null === (l = a.current) || void 0 === l ? void 0 : l.getBoundingClientRect()) && void 0 !== s ? s : null;
                        r = {
                            name: t,
                            guildId: e,
                            disabled: n,
                            boundingRect: null != o ? o : null
                        },
                        i.setState(e=>{
                            var t, n;
                            return {
                                upsellsByGuildId: {
                                    ...null !== (t = e.upsellsByGuildId) && void 0 !== t ? t : {},
                                    [r.guildId]: {
                                        ...null !== (n = e.upsellsByGuildId[r.guildId]) && void 0 !== n ? n : {},
                                        [r.name]: r
                                    }
                                }
                            }
                        }
                        )
                    }
                    )
                }
                ;
                if (null == l)
                    return s(),
                    ()=>{}
                    ;
                let r = function(e) {
                    let t = e.parentNode;
                    for (; null != t && t !== document.body && !o(t); )
                        t = t.parentNode;
                    return o(t) ? t : null
                }(l);
                return s(),
                null == r || r.addEventListener("scroll", s, {
                    passive: !0
                }),
                ()=>{
                    null == r || r.removeEventListener("scroll", s)
                }
            }
            , [e, t, n]),
            a
        }
    },
    428695: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("392711")
          , o = n("481060")
          , u = n("367907")
          , d = n("465670")
          , c = n("626135")
          , f = n("981631")
          , h = n("689938")
          , m = n("53116");
        let C = (0,
        r.debounce)(u.default.trackWithMetadata, 500);
        t.default = function(e) {
            let {guild: t, title: n, message: s, image: r, type: p, imageStyles: g, imageMarginX: E, imageMarginTop: S, trackingSource: _, undismissable: I, onDismissed: N, onClick: T, cta: A, ctaColor: L, centerText: v, className: x} = e;
            a.useEffect(()=>{
                C(f.AnalyticEvents.CHANNEL_NOTICE_VIEWED, {
                    notice_type: p,
                    guild_id: t.id
                })
            }
            , [t.id, p]);
            let R = null;
            "function" == typeof A ? R = A() : null != A && (R = (0,
            l.jsx)(o.Button, {
                className: m.button,
                size: o.Button.Sizes.SMALL,
                onClick: ()=>{
                    null != p && c.default.track(f.AnalyticEvents.CHANNEL_NOTICE_CTA_CLICKED, {
                        source: _,
                        guild_id: t.id,
                        notice_type: p
                    }),
                    null == T || T()
                }
                ,
                fullWidth: !0,
                color: L,
                children: A
            }));
            let M = null;
            "function" == typeof n ? M = n() : null != n && (M = (0,
            l.jsx)(o.Text, {
                variant: "text-md/medium",
                color: "header-primary",
                className: i()(m.title, {
                    [m.noImageTitle]: null == r
                }, {
                    [m.center]: v
                }),
                children: n
            }));
            let y = null;
            "function" == typeof s ? y = s() : null != s && (y = (0,
            l.jsx)(o.Text, {
                className: i()({
                    [m.center]: v
                }),
                variant: "text-sm/normal",
                color: "text-muted",
                children: s
            }));
            let O = null != E ? "".concat(E, "px") : "16px";
            return (0,
            l.jsxs)("div", {
                className: i()(m.container, x),
                children: [!0 === I ? null : (0,
                l.jsx)(o.Clickable, {
                    onClick: ()=>{
                        u.default.trackWithMetadata(f.AnalyticEvents.CHANNEL_NOTICE_CLOSED, {
                            notice_type: p
                        }),
                        null == N || N()
                    }
                    ,
                    className: m.close,
                    "aria-label": h.default.Messages.DISMISS,
                    children: (0,
                    l.jsx)(d.default, {
                        className: m.closeIcon
                    })
                }), null != r && (0,
                l.jsx)("div", {
                    className: m.imageContainer,
                    style: {
                        marginTop: "".concat(S, "px"),
                        marginLeft: O,
                        marginRight: O
                    },
                    children: (0,
                    l.jsx)("img", {
                        className: m.image,
                        style: g,
                        src: r,
                        alt: ""
                    })
                }), (0,
                l.jsxs)("div", {
                    className: m.message,
                    children: [M, y, R]
                })]
            })
        }
    },
    824991: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            ClanUpsellButton: function() {
                return S
            },
            ClanUpsellInviteByline: function() {
                return p
            },
            ClanUpsellMessage: function() {
                return E
            },
            ClanUpsellTitle: function() {
                return g
            },
            default: function() {
                return _
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("658252")
          , i = n("481060")
          , r = n("100527")
          , o = n("428695")
          , u = n("703656")
          , d = n("970606")
          , c = n("308083")
          , f = n("981631")
          , h = n("921944")
          , m = n("689938")
          , C = n("207030");
        function p() {
            return (0,
            l.jsxs)("div", {
                className: C.inviteContainer,
                children: [(0,
                l.jsx)(s.EnvelopeIcon, {
                    color: "currentColor",
                    height: 12,
                    width: 12,
                    className: C.envelope
                }), (0,
                l.jsx)(i.Text, {
                    variant: "text-xs/bold",
                    className: C.invite,
                    children: m.default.Messages.CLAN_UPSELL_INVITE
                })]
            })
        }
        function g(e) {
            let {title: t} = e;
            return (0,
            l.jsx)(l.Fragment, {
                children: (0,
                l.jsx)(i.Heading, {
                    variant: "heading-md/semibold",
                    color: "header-primary",
                    className: C.title,
                    children: t
                })
            })
        }
        function E(e) {
            let {message: t} = e;
            return (0,
            l.jsx)(i.Text, {
                variant: "text-xs/normal",
                color: "text-muted",
                className: C.message,
                children: t
            })
        }
        function S(e) {
            let {onClick: t} = e;
            return (0,
            l.jsx)(i.Button, {
                fullWidth: !0,
                look: i.ButtonLooks.FILLED,
                size: i.ButtonSizes.SMALL,
                color: i.ButtonColors.BRAND,
                className: C.button,
                onClick: t,
                children: (0,
                l.jsx)(i.Text, {
                    variant: "text-sm/semibold",
                    color: "always-white",
                    children: m.default.Messages.CHECK_IT_OUT
                })
            })
        }
        function _(e) {
            let {guild: t, markAsDismissed: n, defaultGameId: s} = e;
            a.useEffect(()=>{
                (0,
                d.trackClanAdminInviteViewed)({
                    guildId: t.id,
                    location: r.default.GUILD_CHANNEL_LIST
                })
            }
            , [t.id]);
            let i = s === c.GENSHIN_ID ? m.default.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_GENSHIN_TITLE : s === c.VALORANT_ID ? m.default.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_VALORANT_TITLE : m.default.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_TITLE
              , p = a.useCallback(()=>(0,
            l.jsx)(E, {
                message: m.default.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_MESSAGE
            }), [])
              , _ = a.useCallback(()=>(0,
            l.jsx)(g, {
                title: i
            }), [i])
              , I = a.useCallback(()=>{
                (0,
                d.trackClanAdminInviteClicked)({
                    guildId: t.id,
                    location: r.default.GUILD_CHANNEL_LIST
                }),
                (0,
                u.transitionTo)(f.Routes.GUILD_DISCOVERY)
            }
            , [t.id])
              , N = a.useCallback(()=>(0,
            l.jsx)(S, {
                onClick: I
            }), [I]);
            return (0,
            l.jsx)(o.default, {
                className: C.notice,
                guild: t,
                onDismissed: ()=>n(h.ContentDismissActionType.DISMISS),
                title: _,
                message: p,
                cta: N,
                trackingSource: f.ChannelNoticeCtaSources.CLAN_ADMIN_UPSELL,
                type: f.ChannelNoticeTypes.CLAN_ADMIN_UPSELL
            })
        }
    },
    311352: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250");
        n("470079");
        var a = n("399606")
          , s = n("704215")
          , i = n("481060")
          , r = n("239091")
          , o = n("765585")
          , u = n("819640")
          , d = n("556296")
          , c = n("529653")
          , f = n("976401")
          , h = n("13140")
          , m = n("924557")
          , C = n("435064")
          , p = n("39604")
          , g = n("981631")
          , E = n("689938")
          , S = n("473533");
        function _(e) {
            (0,
            r.openContextMenuLazy)(e, async()=>{
                let {default: e} = await n.e("21960").then(n.bind(n, "999466"));
                return t=>(0,
                l.jsx)(e, {
                    ...t
                })
            }
            )
        }
        function I() {
            (0,
            p.saveClip)()
        }
        let N = e=>{
            let {keybindString: t, children: n} = e
              , a = (e,t)=>{
                e.stopPropagation(),
                e.preventDefault(),
                null == t || t()
            }
            ;
            return (0,
            l.jsx)(i.Popout, {
                shouldShow: !1,
                position: "top",
                align: "center",
                renderPopout: e=>{
                    let {closePopout: n} = e;
                    return (0,
                    l.jsx)(o.default, {
                        dismissibleContent: s.DismissibleContent.CLIPS_ONBOARDING_CLIP_BUTTON_COACHMARK,
                        shouldUseHorizontalButtons: !0,
                        inlineArt: !0,
                        artClassName: S.clipsEducationArt,
                        position: "top",
                        header: (0,
                        l.jsx)("div", {
                            className: S.header,
                            children: E.default.Messages.CLIPS_ONBOARDING_CLIP_BUTTON_ACTIVITY_PANEL_COACHMARK_TITLE.format({
                                keybind: t,
                                keybindHook: ()=>(0,
                                l.jsx)("span", {
                                    className: S.keybindHintKeys,
                                    children: (0,
                                    l.jsx)(i.KeyCombo, {
                                        className: S.keybindShortcut,
                                        shortcut: t
                                    })
                                })
                            })
                        }),
                        headerClassName: S.clipsEducationHeader,
                        body: (0,
                        l.jsx)(l.Fragment, {
                            children: (0,
                            l.jsx)(i.Text, {
                                variant: "text-sm/normal",
                                color: "always-white",
                                className: S.bodyText,
                                children: E.default.Messages.CLIPS_ONBOARDING_CLIP_BUTTON_ACTIVITY_PANEL_COACHMARK_BODY.format({
                                    keybindHook: ()=>(0,
                                    l.jsx)("div", {
                                        className: S.keyCombo,
                                        children: t
                                    }),
                                    keybind: t
                                })
                            })
                        }),
                        onClose: e=>{
                            a(e, n)
                        }
                    })
                }
                ,
                children: ()=>n
            })
        }
        ;
        t.default = ()=>{
            let e = (0,
            a.useStateFromStores)([u.default], ()=>u.default.hasLayers())
              , t = (0,
            m.useEnableClips)()
              , {clipsEnabled: n, isAtMaxSavingClipsOperations: s} = (0,
            a.useStateFromStoresObject)([C.default], ()=>({
                clipsEnabled: C.default.getSettings().clipsEnabled,
                isAtMaxSavingClipsOperations: C.default.getIsAtMaxSaveClipOperations()
            }))
              , i = (0,
            a.useStateFromStores)([d.default], ()=>d.default.getKeybindForAction(g.GlobalKeybindActions.SAVE_CLIP));
            if (!(t && n) || null == i || e)
                return null;
            let r = h.toString(i.shortcut, !0);
            return (0,
            l.jsx)(N, {
                keybindString: r,
                children: (0,
                l.jsx)(f.default, {
                    disabled: s,
                    tooltipText: null != i ? E.default.Messages.CLIPS_SAVE_CLIP_TOOLTIP.format({
                        hotkey: h.toString(null == i ? void 0 : i.shortcut, !0)
                    }) : E.default.Messages.CLIPS_EDIT_SAVE_CLIP,
                    onClick: I,
                    onContextMenu: _,
                    icon: c.default
                })
            })
        }
    },
    14429: function(e, t, n) {
        "use strict";
        n.r(t);
        let l = (0,
        n("818083").createExperiment)({
            kind: "user",
            id: "2021-02_staff_qc_debugging",
            label: "Display QS scores in results. Not a real experiment",
            defaultConfig: {
                showScores: !1
            },
            treatments: [{
                id: 1,
                label: "Show scores in QS results",
                config: {
                    showScores: !0
                }
            }]
        });
        t.default = l
    },
    616360: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return a
            }
        });
        var l = n("735250");
        function a() {
            return (0,
            l.jsxs)("svg", {
                width: "16",
                height: "16",
                viewBox: "0 0 16 16",
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
                children: [(0,
                l.jsxs)("g", {
                    clipPath: "url(#clip0_1378_82282)",
                    children: [(0,
                    l.jsx)("path", {
                        d: "M8.00009 15.4171C12.0001 15.4171 14.8572 14 14.8572 10.8457C14.8572 7.41711 12.9286 5.21429 9.5 3.5L11.0629 1.67997C11.1315 1.56599 11.1686 1.43593 11.1707 1.30296C11.1727 1.16999 11.1396 1.03885 11.0746 0.922821C11.0096 0.806793 10.9151 0.710005 10.8007 0.642268C10.6862 0.57453 10.5559 0.538252 10.4229 0.537109H5.57723C5.44425 0.538252 5.31394 0.57453 5.1995 0.642268C5.08506 0.710005 4.99057 0.806793 4.92559 0.922821C4.86062 1.03885 4.82747 1.16999 4.82951 1.30296C4.83156 1.43593 4.86872 1.56599 4.93723 1.67997L6.5 3.5C3.07143 5.22571 1.14294 7.43997 1.14294 10.8685C1.14294 14 4.00009 15.4171 8.00009 15.4171Z",
                        fill: "#B9BBBE",
                        stroke: "#B9BBBE",
                        strokeWidth: "1.14286",
                        strokeLinecap: "round",
                        strokeLinejoin: "round"
                    }), (0,
                    l.jsxs)("g", {
                        clipPath: "url(#clip1_1378_82282)",
                        children: [(0,
                        l.jsx)("mask", {
                            id: "path-2-inside-1_1378_82282",
                            fill: "white",
                            children: (0,
                            l.jsx)("path", {
                                d: "M11.9667 7.3558L9.45706 7.13802L8.47706 4.83062C8.30077 4.41063 7.69929 4.41063 7.52299 4.83062L6.543 7.1432L4.03857 7.3558C3.58227 7.39209 3.39561 7.96246 3.74301 8.2632L5.64597 9.91208L5.0756 12.3595C4.9719 12.8054 5.45412 13.158 5.84819 12.9195L8.00003 11.6232L10.1519 12.9247C10.5459 13.1632 11.0282 12.8106 10.9245 12.3647L10.3541 9.91208L12.257 8.2632C12.6045 7.96246 12.423 7.39209 11.9667 7.3558ZM8.00003 10.6536L6.05041 11.8306L6.56892 9.61134L4.84745 8.11801L7.11855 7.92098L8.00003 5.83136L8.88669 7.92616L11.1578 8.1232L9.43632 9.61653L9.95483 11.8358L8.00003 10.6536Z"
                            })
                        }), (0,
                        l.jsx)("path", {
                            d: "M11.9667 7.3558L9.45706 7.13802L8.47706 4.83062C8.30077 4.41063 7.69929 4.41063 7.52299 4.83062L6.543 7.1432L4.03857 7.3558C3.58227 7.39209 3.39561 7.96246 3.74301 8.2632L5.64597 9.91208L5.0756 12.3595C4.9719 12.8054 5.45412 13.158 5.84819 12.9195L8.00003 11.6232L10.1519 12.9247C10.5459 13.1632 11.0282 12.8106 10.9245 12.3647L10.3541 9.91208L12.257 8.2632C12.6045 7.96246 12.423 7.39209 11.9667 7.3558ZM8.00003 10.6536L6.05041 11.8306L6.56892 9.61134L4.84745 8.11801L7.11855 7.92098L8.00003 5.83136L8.88669 7.92616L11.1578 8.1232L9.43632 9.61653L9.95483 11.8358L8.00003 10.6536Z",
                            fill: "#292B2F"
                        }), (0,
                        l.jsx)("path", {
                            d: "M9.45706 7.13802L7.61621 7.91986L8.08626 9.02658L9.28416 9.13053L9.45706 7.13802ZM8.47706 4.83062L6.63292 5.60471L6.63622 5.61247L8.47706 4.83062ZM7.52299 4.83062L9.36448 5.61099L9.36712 5.6047L7.52299 4.83062ZM6.543 7.1432L6.71216 9.13604L7.9139 9.03403L8.38448 7.92356L6.543 7.1432ZM4.03857 7.3558L4.19716 9.34953L4.20773 9.34863L4.03857 7.3558ZM3.74301 8.2632L5.05272 6.75168L5.05201 6.75108L3.74301 8.2632ZM5.64597 9.91208L7.59377 10.366L7.86766 9.19079L6.95567 8.40057L5.64597 9.91208ZM5.0756 12.3595L3.1278 11.9055L3.12758 11.9064L5.0756 12.3595ZM5.84819 12.9195L4.81616 11.2063L4.81258 11.2085L5.84819 12.9195ZM8.00003 11.6232L9.03508 9.91185L8.00209 9.28708L6.968 9.91002L8.00003 11.6232ZM10.1519 12.9247L11.1875 11.2137L11.1869 11.2133L10.1519 12.9247ZM10.9245 12.3647L8.97644 12.8177H8.97644L10.9245 12.3647ZM10.3541 9.91208L9.04439 8.40057L8.13288 9.19037L8.40608 10.3651L10.3541 9.91208ZM12.257 8.2632L10.948 6.75108L10.9473 6.75169L12.257 8.2632ZM8.00003 10.6536L9.03502 8.94219L8.00093 8.31679L6.96635 8.94139L8.00003 10.6536ZM6.05041 11.8306L4.10286 11.3756L3.02377 15.9941L7.08408 13.5428L6.05041 11.8306ZM6.56892 9.61134L8.51647 10.0664L8.79102 8.8913L7.87948 8.10056L6.56892 9.61134ZM4.84745 8.11801L4.67459 6.1255L-0.0310004 6.53375L3.5369 9.62879L4.84745 8.11801ZM7.11855 7.92098L7.29142 9.91349L8.49266 9.80928L8.96131 8.69832L7.11855 7.92098ZM8.00003 5.83136L9.84184 5.05178L7.99691 0.693003L6.15728 5.05402L8.00003 5.83136ZM8.88669 7.92616L7.04488 8.70574L7.51423 9.8146L8.71382 9.91868L8.88669 7.92616ZM11.1578 8.1232L12.4683 9.63398L16.0362 6.53893L11.3307 6.13068L11.1578 8.1232ZM9.43632 9.61653L8.12576 8.10575L7.21422 8.89648L7.48877 10.0716L9.43632 9.61653ZM9.95483 11.8358L8.91984 13.5471L12.9826 16.0042L11.9024 11.3807L9.95483 11.8358ZM12.1396 5.36328L9.62996 5.14551L9.28416 9.13053L11.7938 9.34831L12.1396 5.36328ZM11.2979 6.35618L10.3179 4.04878L6.63622 5.61247L7.61621 7.91986L11.2979 6.35618ZM10.3212 4.05655C9.45878 2.00198 6.54128 2.00198 5.67887 4.05655L9.36712 5.6047C8.8573 6.81927 7.14275 6.81927 6.63294 5.6047L10.3212 4.05655ZM5.68152 4.05027L4.70152 6.36285L8.38448 7.92356L9.36447 5.61098L5.68152 4.05027ZM6.37384 5.15037L3.8694 5.36296L4.20773 9.34863L6.71216 9.13604L6.37384 5.15037ZM3.87998 5.36209C1.64333 5.54001 0.753531 8.32058 2.43401 9.77532L5.05201 6.75108C6.03768 7.60434 5.52122 9.24418 4.19716 9.3495L3.87998 5.36209ZM2.43331 9.77471L4.33626 11.4236L6.95567 8.40057L5.05272 6.75168L2.43331 9.77471ZM3.69816 9.45814L3.1278 11.9055L7.0234 12.8134L7.59377 10.366L3.69816 9.45814ZM3.12758 11.9064C2.62503 14.0674 4.9682 15.7899 6.88379 14.6305L4.81258 11.2085C5.94003 10.5261 7.31876 11.5434 7.02362 12.8125L3.12758 11.9064ZM6.88021 14.6326L9.03205 13.3363L6.968 9.91002L4.81616 11.2063L6.88021 14.6326ZM6.96498 13.3345L9.11682 14.636L11.1869 11.2133L9.03508 9.91185L6.96498 13.3345ZM9.11626 14.6357C11.0319 15.7951 13.375 14.0726 12.8725 11.9116L8.97644 12.8177C8.6813 11.5486 10.06 10.5313 11.1875 11.2137L9.11626 14.6357ZM12.8725 11.9116L12.3021 9.45905L8.40608 10.3651L8.97644 12.8177L12.8725 11.9116ZM11.6638 11.4236L13.5667 9.77471L10.9473 6.75169L9.04439 8.40057L11.6638 11.4236ZM13.566 9.77532C15.2133 8.34936 14.4056 5.54348 12.1253 5.36209L11.8081 9.3495C10.4404 9.2407 9.99563 7.57556 10.948 6.75108L13.566 9.77532ZM6.96635 8.94139L5.01673 10.1184L7.08408 13.5428L9.0337 12.3657L6.96635 8.94139ZM7.99796 12.2856L8.51647 10.0664L4.62138 9.15631L4.10286 11.3756L7.99796 12.2856ZM7.87948 8.10056L6.15801 6.60724L3.5369 9.62879L5.25837 11.1221L7.87948 8.10056ZM5.02032 10.1105L7.29142 9.91349L6.94569 5.92846L4.67459 6.1255L5.02032 10.1105ZM8.96131 8.69832L9.84278 6.6087L6.15728 5.05402L5.2758 7.14364L8.96131 8.69832ZM6.15822 6.61094L7.04488 8.70574L10.7285 7.14659L9.84184 5.05178L6.15822 6.61094ZM8.71382 9.91868L10.9849 10.1157L11.3307 6.13068L9.05956 5.93365L8.71382 9.91868ZM9.84724 6.61242L8.12576 8.10575L10.7469 11.1273L12.4683 9.63398L9.84724 6.61242ZM7.48877 10.0716L8.00729 12.2908L11.9024 11.3807L11.3839 9.16149L7.48877 10.0716ZM10.9898 10.1244L9.03502 8.94219L6.96504 12.3649L8.91984 13.5471L10.9898 10.1244Z",
                            fill: "#292B2F",
                            mask: "url(#path-2-inside-1_1378_82282)"
                        }), (0,
                        l.jsx)("mask", {
                            id: "path-4-inside-2_1378_82282",
                            fill: "white",
                            children: (0,
                            l.jsx)("path", {
                                d: "M10.6811 7.81008L8.98505 7.6629L8.32275 6.10351C8.2036 5.81966 7.79711 5.81966 7.67796 6.10351L7.01566 7.66641L5.3231 7.81008C4.62661 7.81008 4.49996 8 5.12336 8.42333L6.40942 9.53768L6.02395 11.1917C6.00007 12 5.86977 12.1684 6.54609 11.5701L8.00036 10.6941L9.45462 11.5737C9.72094 11.7348 10.5001 12.5 9.97675 11.1952L9.59129 9.53768L10.8773 8.42333C11.5001 8.19204 11.7365 7.81008 10.6811 7.81008ZM8.00036 10.0388L6.68275 10.8343L7.03318 9.33443L5.86977 8.32521L7.40463 8.19204L8.00036 6.77983L8.59958 8.19555L10.1344 8.32871L8.97103 9.33794L9.32146 10.8378L8.00036 10.0388Z"
                            })
                        }), (0,
                        l.jsx)("path", {
                            d: "M10.6811 7.81008L8.98505 7.6629L8.32275 6.10351C8.2036 5.81966 7.79711 5.81966 7.67796 6.10351L7.01566 7.66641L5.3231 7.81008C4.62661 7.81008 4.49996 8 5.12336 8.42333L6.40942 9.53768L6.02395 11.1917C6.00007 12 5.86977 12.1684 6.54609 11.5701L8.00036 10.6941L9.45462 11.5737C9.72094 11.7348 10.5001 12.5 9.97675 11.1952L9.59129 9.53768L10.8773 8.42333C11.5001 8.19204 11.7365 7.81008 10.6811 7.81008ZM8.00036 10.0388L6.68275 10.8343L7.03318 9.33443L5.86977 8.32521L7.40463 8.19204L8.00036 6.77983L8.59958 8.19555L10.1344 8.32871L8.97103 9.33794L9.32146 10.8378L8.00036 10.0388Z",
                            fill: "#292B2F"
                        }), (0,
                        l.jsx)("path", {
                            d: "M10.6811 7.81008L10.5643 9.15667L10.6226 9.16173H10.6811V7.81008ZM8.98505 7.6629L7.74096 8.19129L8.05863 8.93924L8.8682 9.00949L8.98505 7.6629ZM8.32275 6.10351L7.07643 6.62665L7.07866 6.6319L8.32275 6.10351ZM7.67796 6.10351L8.92249 6.6309L8.92427 6.62665L7.67796 6.10351ZM7.01566 7.66641L7.12998 9.01321L7.94215 8.94427L8.26017 8.19379L7.01566 7.66641ZM5.3231 7.81008V9.16173H5.38037L5.43743 9.15689L5.3231 7.81008ZM5.12336 8.42333L6.00849 7.40181L5.94843 7.34977L5.88269 7.30512L5.12336 8.42333ZM6.40942 9.53768L7.7258 9.84446L7.9109 9.05021L7.29455 8.51616L6.40942 9.53768ZM6.02395 11.1917L4.70758 10.8849L4.67689 11.0166L4.6729 11.1518L6.02395 11.1917ZM6.54609 11.5701L5.84862 10.4124L5.74296 10.476L5.65056 10.5577L6.54609 11.5701ZM8.00036 10.6941L8.69987 9.53752L8.00175 9.11529L7.30289 9.53629L8.00036 10.6941ZM9.45462 11.5737L10.1545 10.4173L10.1541 10.4171L9.45462 11.5737ZM9.97675 11.1952L8.66024 11.5014L8.68369 11.6022L8.72224 11.6983L9.97675 11.1952ZM9.59129 9.53768L8.70616 8.51616L8.09014 9.04993L8.27477 9.84385L9.59129 9.53768ZM10.8773 8.42333L10.4067 7.15625L10.1772 7.24149L9.99222 7.40181L10.8773 8.42333ZM8.00036 10.0388L8.69983 8.8822L8.00096 8.45955L7.30177 8.88166L8.00036 10.0388ZM6.68275 10.8343L5.36655 10.5267L4.63728 13.648L7.38134 11.9914L6.68275 10.8343ZM7.03318 9.33443L8.34938 9.64196L8.53493 8.84781L7.91888 8.31341L7.03318 9.33443ZM5.86977 8.32521L5.75294 6.97862L2.57279 7.25452L4.98406 9.34623L5.86977 8.32521ZM7.40463 8.19204L7.52146 9.53863L8.33329 9.4682L8.65001 8.71739L7.40463 8.19204ZM8.00036 6.77983L9.24509 6.25297L7.99825 3.3072L6.75498 6.25448L8.00036 6.77983ZM8.59958 8.19555L7.35484 8.72241L7.67204 9.4718L8.48276 9.54214L8.59958 8.19555ZM10.1344 8.32871L11.0201 9.34973L13.4314 7.25802L10.2513 6.98212L10.1344 8.32871ZM8.97103 9.33794L8.08533 8.31692L7.46929 8.85132L7.65483 9.64546L8.97103 9.33794ZM9.32146 10.8378L8.62198 11.9943L11.3677 13.6549L10.6377 10.5302L9.32146 10.8378ZM10.798 6.46349L9.1019 6.31631L8.8682 9.00949L10.5643 9.15667L10.798 6.46349ZM10.2291 7.13451L9.56684 5.57512L7.07866 6.6319L7.74096 8.19129L10.2291 7.13451ZM9.56905 5.58037C8.98622 4.19185 7.01449 4.19185 6.43166 5.58037L8.92427 6.62665C8.57972 7.44748 7.42099 7.44748 7.07644 6.62665L9.56905 5.58037ZM6.43345 5.57612L5.77114 7.13902L8.26017 8.19379L8.92248 6.63089L6.43345 5.57612ZM6.90133 6.3196L5.20878 6.46328L5.43743 9.15689L7.12998 9.01321L6.90133 6.3196ZM5.3231 6.45843C5.10802 6.45843 4.84452 6.47114 4.58999 6.53325C4.44279 6.56917 3.76471 6.73882 3.47608 7.44908C3.15174 8.24719 3.63364 8.86933 3.75832 9.01788C3.9431 9.23802 4.17343 9.4121 4.36403 9.54153L5.88269 7.30512C5.76159 7.22289 5.77398 7.21448 5.82894 7.27996C5.85758 7.31408 5.94673 7.4254 6.00911 7.60946C6.07876 7.81499 6.1177 8.12916 5.98047 8.46683C5.84997 8.78797 5.62675 8.9651 5.49284 9.04671C5.36321 9.12571 5.25893 9.15263 5.23081 9.15949C5.17642 9.17276 5.18995 9.16173 5.3231 9.16173V6.45843ZM4.23823 9.44484L5.52429 10.5592L7.29455 8.51616L6.00849 7.40181L4.23823 9.44484ZM5.09305 9.2309L4.70758 10.8849L7.34033 11.4985L7.7258 9.84446L5.09305 9.2309ZM4.6729 11.1518C4.66635 11.3734 4.65876 11.4066 4.64988 11.6197C4.64705 11.6874 4.64296 11.806 4.65294 11.9315C4.65839 12 4.68026 12.3558 4.92373 12.6956C5.07395 12.9053 5.30495 13.104 5.61868 13.2083C5.91447 13.3067 6.17762 13.2858 6.3497 13.2504C6.64872 13.1889 6.86511 13.0426 6.93214 12.9973C7.10307 12.8819 7.29288 12.7141 7.44162 12.5826L5.65056 10.5577C5.46114 10.7253 5.41361 10.7608 5.41951 10.7568C5.42905 10.7504 5.462 10.7285 5.51307 10.7028C5.55951 10.6794 5.66173 10.632 5.80505 10.6025C5.95216 10.5722 6.19396 10.5508 6.47159 10.6431C6.76716 10.7414 6.98318 10.9285 7.12116 11.1211C7.24527 11.2943 7.29575 11.4554 7.31684 11.5372C7.33927 11.6243 7.34562 11.6907 7.34773 11.7172C7.35154 11.7651 7.34865 11.7846 7.35083 11.7323C7.35196 11.7051 7.36962 11.4141 7.37501 11.2316L4.6729 11.1518ZM7.24356 12.7279L8.69782 11.8519L7.30289 9.53629L5.84862 10.4124L7.24356 12.7279ZM7.30084 11.8506L8.75511 12.7302L10.1541 10.4171L8.69987 9.53752L7.30084 11.8506ZM8.75473 12.73C8.72817 12.7139 8.72345 12.7086 8.77203 12.7445C8.79887 12.7643 8.87336 12.8202 8.92995 12.8612C9.00019 12.912 9.28841 13.1293 9.62677 13.2298C9.78218 13.276 10.3131 13.4107 10.8463 13.0654C11.4232 12.692 11.4968 12.0983 11.5043 11.8721C11.5127 11.6184 11.4612 11.3899 11.4195 11.2371C11.3729 11.066 11.3079 10.8831 11.2313 10.692L8.72224 11.6983C8.77644 11.8335 8.80159 11.9121 8.81145 11.9483C8.82631 12.0027 8.79771 11.9273 8.80249 11.7828C8.80635 11.6658 8.84988 11.1376 9.37713 10.7962C9.86087 10.483 10.3227 10.6165 10.3968 10.6385C10.466 10.6591 10.514 10.6811 10.5353 10.6914C10.5586 10.7027 10.5715 10.7105 10.5719 10.7107C10.573 10.7114 10.5685 10.7087 10.5574 10.7012C10.5465 10.6938 10.5325 10.684 10.5144 10.6709C10.4686 10.6378 10.4426 10.6177 10.3779 10.5699C10.335 10.5382 10.2476 10.4737 10.1545 10.4173L8.75473 12.73ZM11.2933 10.889L10.9078 9.23151L8.27477 9.84385L8.66024 11.5014L11.2933 10.889ZM10.4764 10.5592L11.7625 9.44484L9.99222 7.40181L8.70616 8.51616L10.4764 10.5592ZM11.3479 9.69041C11.5779 9.60499 11.8316 9.48518 12.0568 9.32017C12.1687 9.23817 12.3127 9.11663 12.4415 8.94784C12.5647 8.78658 12.7427 8.4909 12.7591 8.08449C12.8006 7.05456 11.9118 6.67221 11.6778 6.59303C11.3522 6.48286 10.9945 6.45843 10.6811 6.45843V9.16173C10.8955 9.16173 10.904 9.18505 10.8114 9.15373C10.7647 9.13794 10.5948 9.07633 10.4206 8.90404C10.2138 8.69948 10.0419 8.37256 10.058 7.97545C10.0719 7.63125 10.2211 7.40138 10.2928 7.30747C10.3703 7.20603 10.4402 7.15336 10.4588 7.1397C10.4975 7.11136 10.4881 7.12602 10.4067 7.15625L11.3479 9.69041ZM7.30177 8.88166L5.98417 9.67713L7.38134 11.9914L8.69894 11.1959L7.30177 8.88166ZM7.99895 11.1418L8.34938 9.64196L5.71698 9.02691L5.36655 10.5267L7.99895 11.1418ZM7.91888 8.31341L6.75547 7.30419L4.98406 9.34623L6.14748 10.3555L7.91888 8.31341ZM5.98659 9.6718L7.52146 9.53863L7.2878 6.84546L5.75294 6.97862L5.98659 9.6718ZM8.65001 8.71739L9.24573 7.30518L6.75498 6.25448L6.15925 7.6667L8.65001 8.71739ZM6.75562 7.30669L7.35484 8.72241L9.84432 7.66869L9.24509 6.25297L6.75562 7.30669ZM8.48276 9.54214L10.0176 9.6753L10.2513 6.98212L8.71641 6.84896L8.48276 9.54214ZM9.24874 7.30769L8.08533 8.31692L9.85674 10.359L11.0201 9.34973L9.24874 7.30769ZM7.65483 9.64546L8.00526 11.1453L10.6377 10.5302L10.2872 9.03041L7.65483 9.64546ZM10.0209 9.68117L8.69983 8.8822L7.30088 11.1954L8.62198 11.9943L10.0209 9.68117Z",
                            fill: "#292B2F",
                            mask: "url(#path-4-inside-2_1378_82282)"
                        })]
                    })]
                }), (0,
                l.jsxs)("defs", {
                    children: [(0,
                    l.jsx)("clipPath", {
                        id: "clip0_1378_82282",
                        children: (0,
                        l.jsx)("rect", {
                            width: "16",
                            height: "16",
                            fill: "white"
                        })
                    }), (0,
                    l.jsx)("clipPath", {
                        id: "clip1_1378_82282",
                        children: (0,
                        l.jsx)("rect", {
                            width: "12.4444",
                            height: "12.4444",
                            fill: "white",
                            transform: "translate(1.77783 2.66602)"
                        })
                    })]
                })]
            })
        }
        n("470079")
    },
    858064: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return E
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("481060")
          , i = n("230711")
          , r = n("314897")
          , o = n("465670")
          , u = n("626135")
          , d = n("730417")
          , c = n("524347")
          , f = n("702512")
          , h = n("981631")
          , m = n("689938")
          , C = n("477237");
        let p = (e,t,n)=>{
            let l = t.assets.tooltipSrc;
            switch (e) {
            case f.TooltipActions.STREAM_CTA:
                return {
                    header: m.default.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER.format({
                        gameName: t.title
                    }),
                    body: t.messages.enrollmentTooltip(n),
                    imgSrc: l,
                    imgStyle: C.dropImgPreStreamNotice
                };
            case f.TooltipActions.TRACK_PROGRESS:
                return {
                    header: m.default.Messages.DROP_ENROLLMENT_CTA_TOOLTIP_HEADER.format({
                        gameName: t.title
                    }),
                    body: "",
                    imgSrc: l,
                    imgStyle: C.dropImgProgressTracker
                };
            case f.TooltipActions.QUEST_COMPLETION:
                return {
                    header: m.default.Messages.DROPS_QUEST_COMPLETION_TOOLTIP_HEADER,
                    body: t.messages.completionTooltip(n),
                    imgSrc: l,
                    imgStyle: C.dropImgQuestCompletion
                };
            case f.TooltipActions.LOADING_INITIAL_PROGRESS:
                return {
                    header: "",
                    body: "",
                    imgSrc: l,
                    imgStyle: C.dropImgPreStreamNotice
                }
            }
        }
        ;
        function g(e) {
            let {streamLengthRequirement: t, viewerCountRequirement: n} = e
              , i = (0,
            a.useStateFromStores)([c.default], ()=>c.default.currentDropQuestStreamProgress)
              , r = Math.floor(i / 100 * t).toString();
            return (0,
            l.jsxs)("div", {
                children: [(0,
                l.jsx)(s.Text, {
                    variant: "text-sm/bold",
                    className: C.progressBarCount,
                    children: m.default.Messages.DROPS_STREAM_PROGRESS_INDICATOR.format({
                        minutesStreamed: r,
                        streamLengthRequirement: t
                    })
                }), (0,
                l.jsx)("div", {
                    className: C.progressBarContainer,
                    children: (0,
                    l.jsx)("div", {
                        className: C.progressBarOuter,
                        children: (0,
                        l.jsx)("div", {
                            className: C.progressBarInner,
                            style: {
                                width: "".concat(i, "%")
                            }
                        })
                    })
                }), (0,
                l.jsxs)(s.Text, {
                    variant: "text-xs/medium",
                    className: C.viewerCount,
                    children: ["*", m.default.Messages.DROPS_REQUIRE_NUM_VIEWERS.format({
                        numViewers: n
                    }), "*"]
                })]
            })
        }
        function E(e) {
            let {onClose: t, tooltipAction: n, partnerGame: c} = e
              , E = (0,
            d.useDropsExperiment)(c);
            (0,
            d.useFetchInitialDropProgress)(c);
            let S = (0,
            a.useStateFromStores)([r.default], ()=>r.default.getId());
            if (null == E)
                return null;
            let {streamLengthRequirement: _, viewerCountRequirement: I} = E.config
              , N = E.drop
              , {header: T, body: A, imgSrc: L, imgStyle: v} = p(n, N, _)
              , x = ()=>{
                u.default.track(h.AnalyticEvents.DROPS_ACTIVITY_PANEL_POPOVER_CTA_CLICK, {
                    user_id: S,
                    drops_quest_id: N.dropsQuestId,
                    game_id: N.dropsGameId,
                    game_name: N.title.toLowerCase(),
                    tooltip_action: n
                })
            }
              , R = ()=>{
                t()
            }
            ;
            return (0,
            l.jsxs)("div", {
                className: C.container,
                children: [(0,
                l.jsx)("img", {
                    src: L,
                    alt: "",
                    className: v
                }), (0,
                l.jsx)(s.Clickable, {
                    className: C.__invalid_buttonClose,
                    "aria-label": m.default.Messages.CLOSE,
                    onClick: R,
                    children: (0,
                    l.jsx)(o.default, {
                        width: 16,
                        height: 16,
                        className: C.closeIcon
                    })
                }), n === f.TooltipActions.LOADING_INITIAL_PROGRESS ? (0,
                l.jsx)(s.Spinner, {
                    className: C.spinner
                }) : (0,
                l.jsx)(s.Heading, {
                    className: C.title,
                    variant: "heading-md/extrabold",
                    children: T
                }), n === f.TooltipActions.TRACK_PROGRESS ? (0,
                l.jsx)(g, {
                    streamLengthRequirement: _,
                    viewerCountRequirement: I
                }) : (0,
                l.jsx)(s.Text, {
                    variant: "text-sm/medium",
                    className: C.subTitle,
                    children: A
                }), n === f.TooltipActions.QUEST_COMPLETION ? (0,
                l.jsxs)(l.Fragment, {
                    children: [(0,
                    l.jsx)(s.Button, {
                        color: s.Button.Colors.BRAND_INVERTED,
                        fullWidth: !0,
                        onClick: ()=>{
                            t(),
                            i.default.open(h.UserSettingsSections.INVENTORY),
                            x()
                        }
                        ,
                        children: m.default.Messages.REDEEM
                    }), (0,
                    l.jsx)(s.Button, {
                        className: C.linkButtonContainer,
                        innerClassName: C.linkButton,
                        onClick: R,
                        look: s.Button.Looks.LINK,
                        fullWidth: !0,
                        color: s.Button.Colors.WHITE,
                        children: m.default.Messages.NOT_NOW
                    })]
                }) : (0,
                l.jsx)(s.Button, {
                    color: s.Button.Colors.BRAND_INVERTED,
                    fullWidth: !0,
                    onClick: ()=>{
                        t(),
                        i.default.open(h.UserSettingsSections.INVENTORY),
                        x()
                    }
                    ,
                    children: m.default.Messages.LEARN_MORE
                }), (0,
                l.jsx)("div", {
                    className: C.pointer
                })]
            })
        }
    },
    919755: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return d
            }
        }),
        n("47120"),
        n("724458");
        var l = n("442837")
          , a = n("592125")
          , s = n("496675")
          , i = n("306680")
          , r = n("9156")
          , o = n("709054")
          , u = n("231338");
        function d(e) {
            return (0,
            l.useStateFromStoresObject)([a.default, i.default, r.default, s.default], ()=>{
                let t = o.default.keys(e);
                return t.reduce((e,t)=>{
                    let n = a.default.getChannel(t)
                      , l = null == n ? void 0 : n.isGuildVocal();
                    return e.badge = e.badge + i.default.getMentionCount(t),
                    e.unread = e.unread || !l && s.default.can(u.Permissions.VIEW_CHANNEL, n) && i.default.hasUnread(t) && !r.default.isChannelMuted(null == n ? void 0 : n.getGuildId(), t),
                    e
                }
                , {
                    badge: 0,
                    unread: !1
                })
            }
            )
        }
    },
    492162: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        });
        var l = n("442837")
          , a = n("592125")
          , s = n("938475")
          , i = n("853856")
          , r = n("981631");
        function o(e) {
            return (0,
            l.useStateFromStoresObject)([s.default, a.default, i.default], ()=>{
                if (e !== r.FAVORITES)
                    return s.default.getVoiceStates(e);
                let t = i.default.getFavoriteChannels()
                  , n = {};
                for (let e in t) {
                    let t = a.default.getChannel(e);
                    null != t && (n[e] = s.default.getVoiceStatesForChannel(t))
                }
                return n
            }
            , [e])
        }
    },
    110977: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            FavoriteAddedTooltip: function() {
                return C
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("481060")
          , o = n("593214")
          , u = n("981631")
          , d = n("689938")
          , c = n("124613")
          , f = n("952972")
          , h = n("81311");
        function m() {
            return (0,
            l.jsx)("div", {
                className: i()(f.row, f.rowGuildName),
                children: (0,
                l.jsx)("span", {
                    className: i()(f.guildNameText, f.guildNameTextLimitedSize, c.tooltipText),
                    children: d.default.Messages.FAVORITE_ADDED
                })
            })
        }
        let C = a.memo(function(e) {
            let {"aria-label": t=!1, children: n} = e
              , s = function() {
                let {favoriteAdded: e, clearFavoriteAdded: t} = (0,
                o.useFavoriteAdded)();
                return a.useEffect(()=>{
                    if (e) {
                        let e = setTimeout(()=>{
                            t()
                        }
                        , 1500);
                        return ()=>{
                            t(),
                            clearTimeout(e)
                        }
                    }
                }
                , [e, t]),
                e
            }();
            return (0,
            l.jsx)(r.Tooltip, {
                forceOpen: s,
                color: r.TooltipColors.GREEN,
                hideOnClick: !0,
                spacing: 20,
                position: "right",
                align: "center",
                text: (0,
                l.jsx)(m, {}),
                "aria-label": t,
                tooltipClassName: h.listItemTooltip,
                children: e=>(0,
                l.jsx)("div", {
                    ...e,
                    onMouseEnter: u.NOOP,
                    onMouseLeave: u.NOOP,
                    children: n
                })
            })
        })
    },
    940777: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return D
            }
        }),
        n("47120"),
        n("724458"),
        n("653041");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("924826")
          , o = n("442837")
          , u = n("481060")
          , d = n("493683")
          , c = n("239091")
          , f = n("317381")
          , h = n("682662")
          , m = n("674552")
          , C = n("593364")
          , p = n("905423")
          , g = n("199902")
          , E = n("592125")
          , S = n("944486")
          , _ = n("979651")
          , I = n("898140")
          , N = n("880080")
          , T = n("709054")
          , A = n("853856")
          , L = n("593214")
          , v = n("919755")
          , x = n("110977")
          , R = n("603274")
          , M = n("981631")
          , y = n("689938")
          , O = n("561349");
        let b = {
            analyticsSource: {
                page: M.AnalyticsPages.GUILD_CHANNEL,
                section: M.AnalyticsSections.CHANNEL_LIST,
                object: M.AnalyticsObjects.CHANNEL
            }
        };
        function D() {
            let e = (0,
            r.useTreeItem)("favorites")
              , {favoriteAdded: t, clearFavoriteAdded: s} = (0,
            L.useFavoriteAdded)()
              , [D,j] = a.useState(!1)
              , {favoriteServerMuted: P, favoriteChannels: G} = (0,
            o.useStateFromStoresObject)([A.default], ()=>({
                favoriteChannels: A.default.getFavoriteChannels(),
                favoriteServerMuted: A.default.favoriteServerMuted
            }))
              , U = (0,
            o.useStateFromStores)([S.default], ()=>S.default.getChannelId(M.FAVORITES))
              , w = (0,
            o.useStateFromStores)([E.default], ()=>E.default.getChannel(U))
              , B = (0,
            p.default)(e=>e.guildId) === M.FAVORITES
              , {badge: F, unread: V} = (0,
            v.default)(G)
              , H = function(e) {
                let t = (0,
                o.useStateFromStores)([S.default], ()=>S.default.getVoiceChannelId())
                  , n = null != t && null != e[t]
                  , l = (0,
                o.useStateFromStores)([g.default], ()=>{
                    if (!n)
                        return !1;
                    let t = g.default.getCurrentUserActiveStream();
                    return null != t && null != e[t.channelId]
                }
                )
                  , a = (0,
                o.useStateFromStores)([g.default], ()=>g.default.getAllApplicationStreams().some(t=>null != e[t.channelId]))
                  , s = (0,
                o.useStateFromStores)([_.default], ()=>n && null != t && _.default.hasVideo(t), [n, t])
                  , i = (0,
                o.useStateFromStoresArray)([f.default], ()=>T.default.keys(e).reduce((e,t)=>(e.push(...f.default.getEmbeddedActivitiesForChannel(t)),
                e), []))
                  , r = (0,
                o.useStateFromStores)([f.default], ()=>Array.from(f.default.getSelfEmbeddedActivities().values()).some(t=>{
                    let {channelId: n} = t;
                    return null != e[n]
                }
                ))
                  , u = i.length > 0
                  , d = !1
                  , c = !1
                  , h = !1
                  , C = !1;
                return n ? (d = !s,
                c = s,
                h = l,
                C = r) : (h = a,
                C = u),
                (0,
                m.renderMediaBadge)({
                    audio: d,
                    video: c,
                    screenshare: h,
                    liveStage: !1,
                    isCurrentUserConnected: n,
                    activity: C
                })
            }(G)
              , k = F > 0 ? (0,
            C.renderMentionBadge)(F) : null
              , Y = a.useCallback(()=>{
                s()
            }
            , [s]);
            return (0,
            l.jsxs)(h.ListItem, {
                children: [(0,
                l.jsx)(N.default, {
                    selected: B,
                    hovered: D,
                    unread: V && !P,
                    className: O.pill
                }), (0,
                l.jsx)(R.default, {
                    onShow: Y,
                    children: (0,
                    l.jsx)(x.FavoriteAddedTooltip, {
                        children: (0,
                        l.jsx)(u.BlobMask, {
                            selected: B || D,
                            upperBadge: H,
                            lowerBadge: k,
                            children: (0,
                            l.jsx)(u.NavItem, {
                                ...e,
                                ariaLabel: y.default.Messages.GUILD_TOOLTIP_A11Y_LABEL.format({
                                    guildName: y.default.Messages.FAVORITES_GUILD_NAME,
                                    mentions: F
                                }),
                                to: {
                                    pathname: M.Routes.CHANNEL(M.FAVORITES, U),
                                    state: b
                                },
                                selected: B || D,
                                onMouseEnter: ()=>j(!0),
                                onMouseLeave: ()=>j(!1),
                                onMouseDown: function() {
                                    null != w && d.default.preload(w.guild_id, w.id)
                                },
                                onContextMenu: function(e) {
                                    (0,
                                    c.openContextMenuLazy)(e, async()=>{
                                        let {default: e} = await n.e("3190").then(n.bind(n, "631981"));
                                        return t=>(0,
                                        l.jsx)(e, {
                                            ...t
                                        })
                                    }
                                    )
                                },
                                children: (0,
                                l.jsx)("div", {
                                    className: i()(O.ring, {
                                        [O.ringActive]: t
                                    }),
                                    children: (0,
                                    l.jsx)(I.default, {
                                        className: O.favoriteIcon,
                                        width: 20,
                                        height: 20
                                    })
                                })
                            })
                        })
                    })
                })]
            })
        }
    },
    603274: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return D
            }
        }),
        n("47120"),
        n("390547"),
        n("653041");
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("392711")
          , r = n.n(i)
          , o = n("442837")
          , u = n("481060")
          , d = n("317381")
          , c = n("565799")
          , f = n("501655")
          , h = n("199902")
          , m = n("592125")
          , C = n("594174")
          , p = n("938475")
          , g = n("242315")
          , E = n("944581")
          , S = n("632184")
          , _ = n("170039")
          , I = n("761374")
          , N = n("602623")
          , T = n("823379")
          , A = n("709054")
          , L = n("853856")
          , v = n("981631")
          , x = n("689938")
          , R = n("952972")
          , M = n("81311");
        function y(e, t) {
            return 0 === t.length ? null : (0,
            l.jsxs)("div", {
                className: R.row,
                children: [(0,
                l.jsx)(e, {
                    className: R.activityIcon
                }), (0,
                l.jsx)(N.default, {
                    guildId: void 0,
                    users: t,
                    max: 6
                })]
            })
        }
        function O() {
            var e, t;
            let n = (0,
            o.useStateFromStoresArray)([L.default, m.default], ()=>A.default.keys(L.default.getFavoriteChannels()).map(e=>m.default.getChannel(e)).filter(T.isNotNullish))
              , a = n.map(e=>e.id)
              , s = n.filter(e=>e.type === v.ChannelTypes.GUILD_VOICE)
              , i = n.filter(e=>e.type === v.ChannelTypes.GUILD_STAGE_VOICE).map(e=>e.id)
              , x = (0,
            o.useStateFromStoresArray)([p.default], ()=>r().flatMap(s, e=>p.default.getVoiceStatesForChannel(e).map(e=>{
                let {user: t} = e;
                return t
            }
            )), [s])
              , M = (0,
            o.useStateFromStoresArray)([c.default], ()=>r().flatMap(i, e=>c.default.getMutableParticipants(e, f.StageChannelParticipantNamedIndex.SPEAKER).filter(e=>e.type === f.StageChannelParticipantTypes.VOICE).map(e=>{
                let {user: t} = e;
                return t
            }
            )))
              , O = (0,
            o.useStateFromStores)([c.default], ()=>{
                let e = 0;
                for (let t of i)
                    e += c.default.getParticipantCount(t, f.StageChannelParticipantNamedIndex.AUDIENCE);
                return e
            }
            )
              , b = (0,
            o.useStateFromStoresArray)([h.default], ()=>h.default.getAllApplicationStreams().filter(e=>a.includes(e.channelId)).map(e=>e.ownerId), [a])
              , D = (0,
            o.useStateFromStoresArray)([d.default], ()=>{
                let e = d.default.getEmbeddedActivitiesByChannel()
                  , t = [];
                for (let s of a) {
                    var n, l;
                    t.push(...null !== (l = null === (n = e.get(s)) || void 0 === n ? void 0 : n.flatMap(e=>Array.from(e.userIds))) && void 0 !== l ? l : [])
                }
                return t
            }
            , [a])
              , j = (0,
            o.useStateFromStoresArray)([C.default], ()=>D.map(e=>C.default.getUser(e)), [D])
              , P = (0,
            o.useStateFromStoresArray)([C.default], ()=>b.map(e=>C.default.getUser(e)), [b])
              , G = y(S.default, x.filter(e=>!b.includes(e.id) && !D.includes(e.id)));
            let U = (e = M,
            t = O,
            0 === e.length ? null : (0,
            l.jsxs)("div", {
                className: R.row,
                children: [(0,
                l.jsx)(_.default, {
                    className: R.activityIcon
                }), (0,
                l.jsx)(N.default, {
                    guildId: void 0,
                    users: e,
                    max: 3
                }), (0,
                l.jsxs)("div", {
                    className: R.stageListenerPill,
                    children: [(0,
                    l.jsx)(g.default, {
                        width: 16,
                        height: 16
                    }), (0,
                    l.jsx)(u.Text, {
                        className: R.stageListenerCount,
                        color: "text-normal",
                        variant: "text-xs/medium",
                        children: t
                    })]
                })]
            }))
              , w = y(I.default, P.filter(e=>null != e && !D.includes(e.id)))
              , B = y(E.default, j);
            return (0,
            l.jsxs)(l.Fragment, {
                children: [U, G, w, B]
            })
        }
        function b() {
            return (0,
            l.jsxs)(l.Fragment, {
                children: [(0,
                l.jsx)("div", {
                    className: s()(R.row, R.rowGuildName),
                    children: (0,
                    l.jsx)("span", {
                        className: s()(R.guildNameText, R.guildNameTextLimitedSize),
                        children: x.default.Messages.FAVORITES_GUILD_NAME
                    })
                }), (0,
                l.jsx)(O, {})]
            })
        }
        function D(e) {
            let {"aria-label": t=!1, onShow: n, children: a} = e;
            return (0,
            l.jsx)(u.Tooltip, {
                hideOnClick: !0,
                spacing: 20,
                position: "right",
                text: (0,
                l.jsx)(b, {}),
                "aria-label": t,
                tooltipClassName: M.listItemTooltip,
                onTooltipShow: n,
                children: e=>(0,
                l.jsx)("div", {
                    ...e,
                    children: a
                })
            })
        }
    },
    765585: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("481060")
          , o = n("393238")
          , u = n("605236")
          , d = n("311715")
          , c = n("466111")
          , f = n("921944")
          , h = n("689938")
          , m = n("255372");
        t.default = a.forwardRef(function(e, t) {
            let {body: n, header: s, artClassName: C, headerClassName: p, contentClassName: g, tryItText: E, dismissText: S, onTryFeature: _, onClose: I, className: N, inlineArt: T=!1, isPremiumFeature: A=!1, shouldUseHorizontalButtons: L=!1, showGIFTag: v=!1, dismissibleContent: x, position: R="top", align: M="center", art: y, isPremiumEarlyAccess: O=!1, maxWidth: b=280} = e
              , D = L ? r.Button.Sizes.LARGE : r.Button.Sizes.MAX
              , [j,P] = a.useState(!1)
              , {ref: G, width: U} = (0,
            o.default)();
            function w(e) {
                (0,
                u.markDismissibleContentAsDismissed)(x, {
                    dismissAction: e
                })
            }
            return a.useEffect(()=>{
                var e, t;
                let n = (null !== (t = null === (e = G.current) || void 0 === e ? void 0 : e.scrollWidth) && void 0 !== t ? t : 0) + 64;
                !j && n > b && P(!0)
            }
            , [j, U, G, b]),
            a.useEffect(()=>{
                (0,
                u.requestMarkDismissibleContentAsShown)(x)
            }
            , [x]),
            (0,
            l.jsx)("div", {
                className: N,
                ref: t,
                children: (0,
                l.jsxs)("div", {
                    className: i()(m.content, g, {
                        [m.contentNoArt]: null == C || T,
                        [m.contentPremium]: A || O
                    }),
                    children: [(0,
                    l.jsxs)("div", {
                        className: i()(C, T ? m.artInline : m.artAbsolute),
                        children: [v && (0,
                        l.jsx)(d.default, {
                            className: m.gifTag
                        }), y]
                    }), (0,
                    l.jsxs)("div", {
                        className: m.body,
                        children: [(0,
                        l.jsxs)(r.Heading, {
                            className: i()(A ? m.headerWithPremiumIcon : m.header, p),
                            variant: "heading-md/bold",
                            color: "always-white",
                            children: [A && !O ? (0,
                            l.jsx)(c.default, {
                                className: m.premiumIcon
                            }) : null, O ? (0,
                            l.jsxs)(r.Text, {
                                color: "always-white",
                                variant: "eyebrow",
                                className: m.earlyAccessBadgeContainer,
                                children: [(0,
                                l.jsx)(c.default, {
                                    className: m.earlyAccessIcon
                                }), (0,
                                l.jsx)("span", {
                                    className: m.earlyAccessText,
                                    children: h.default.Messages.REMIXING_TOOLTIP_NITRO_EARLY_ACCESS
                                })]
                            }) : null, s]
                        }), null == n ? null : "string" == typeof n ? (0,
                        l.jsx)(r.Text, {
                            variant: "text-sm/normal",
                            color: "always-white",
                            children: n
                        }) : n]
                    }), (0,
                    l.jsx)("div", {
                        ref: G,
                        className: j || !L ? m.buttonContainerVertical : m.buttonContainerHorizontal,
                        children: null != _ ? (0,
                        l.jsxs)(l.Fragment, {
                            children: [(0,
                            l.jsx)(r.Button, {
                                className: m.button,
                                size: D,
                                onClick: e=>{
                                    null == I || I(e),
                                    _(e),
                                    w(f.ContentDismissActionType.PRIMARY)
                                }
                                ,
                                color: A || O ? r.Button.Colors.BRAND_INVERTED : r.Button.Colors.WHITE,
                                children: null != E ? E : h.default.Messages.EDUCATION_NEW_FEATURE_TRY_IT
                            }), (0,
                            l.jsx)(r.Button, {
                                className: m.button,
                                size: D,
                                onClick: e=>{
                                    null == I || I(e),
                                    w(f.ContentDismissActionType.DISMISS)
                                }
                                ,
                                color: A || O ? r.Button.Colors.WHITE : r.Button.Colors.BRAND,
                                look: A || O ? r.Button.Looks.LINK : r.Button.Looks.FILLED,
                                children: null != S ? S : h.default.Messages.EDUCATION_NEW_FEATURE_DISMISS
                            })]
                        }) : (0,
                        l.jsx)(r.Button, {
                            className: m.button,
                            size: r.Button.Sizes.MAX,
                            onClick: e=>{
                                null == I || I(e),
                                w(f.ContentDismissActionType.PRIMARY)
                            }
                            ,
                            color: r.Button.Colors.WHITE,
                            children: h.default.Messages.EDUCATION_NEW_FEATURE_CONFIRM
                        })
                    }), (0,
                    l.jsx)("div", {
                        className: i()(m.pointer, {
                            [m.bottomPointer]: "top" === R,
                            [m.centerLeftPointer]: "right" === R && "center" === M,
                            [m.topLeftPointer]: "right" === R && "top" === M
                        })
                    })]
                })
            })
        })
    },
    914923: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return s
            }
        }),
        n("757143");
        var l = n("689938");
        let a = /[!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~]/g;
        function s(e) {
            let t = l.default.Messages.ACTIVITY_PANEL_GO_LIVE;
            return null != e && null != e.sourceName && e.sourceName.length > 0 && (t = e.sourceName),
            {
                sanitizedTitle: t.replace(a, ""),
                title: t
            }
        }
    },
    165393: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return h
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("866442")
          , o = n("119828")
          , u = n("806519")
          , d = n("357273");
        let c = [1752220, 3066993, 3447003, 10181046, 15277667, 15844367];
        function f(e) {
            return (0,
            r.int2hex)(c[function(e) {
                let t = 5381
                  , n = 0;
                for (; n < e.length; )
                    t = 33 * t ^ e.charCodeAt(n++);
                return t >>> 0
            }(e) % c.length])
        }
        function h(e) {
            var t;
            let {title: n, className: s} = e
              , [r,c] = a.useState(f(n));
            return a.useEffect(()=>{
                c(f(n))
            }
            , [n]),
            (0,
            l.jsxs)("div", {
                className: i()(d.wrapper, s),
                children: [(0,
                l.jsx)(u.default, {
                    mask: u.default.Masks.STATUS_SCREENSHARE,
                    width: 32,
                    height: 32,
                    children: (0,
                    l.jsx)("div", {
                        className: d.icon,
                        style: {
                            backgroundColor: r
                        },
                        children: null !== (t = n[0]) && void 0 !== t ? t : "?"
                    })
                }), (0,
                l.jsx)(o.default, {
                    className: d.badge
                })]
            })
        }
    },
    667815: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            updateGuildPremiumSubscriptionCount: function() {
                return a
            }
        });
        var l = n("570140");
        let a = (e,t)=>{
            l.default.wait(()=>{
                l.default.dispatch({
                    type: "APPLIED_GUILD_BOOST_COUNT_UPDATE",
                    guildId: e,
                    premiumCount: t
                })
            }
            )
        }
    },
    531572: function(e, t, n) {
        "use strict";
        n.r(t);
        var l, a = n("442837"), s = n("570140");
        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let r = {};
        class o extends (l = a.default.PersistedStore) {
            initialize(e) {
                null != e && (r = e)
            }
            getState() {
                return r
            }
            getCountForGuild(e) {
                return r[e]
            }
        }
        i(o, "displayName", "GuildBoostingProgressBarPersistedStore"),
        i(o, "persistKey", "PremiumGuildProgressBarPersistedStore"),
        t.default = new o(s.default,{
            APPLIED_GUILD_BOOST_COUNT_UPDATE: e=>{
                let {guildId: t, premiumCount: n} = e;
                r = {
                    ...r,
                    [t]: n
                }
            }
        })
    },
    583962: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            PROGRESS_BAR_CONTAINER_HEIGHT: function() {
                return O
            },
            PROGRESS_BAR_CONTAINER_HEIGHT_WITH_MARGIN: function() {
                return b
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("920906")
          , o = n("924826")
          , u = n("442837")
          , d = n("477690")
          , c = n("481060")
          , f = n("239091")
          , h = n("607070")
          , m = n("100527")
          , C = n("367907")
          , p = n("906732")
          , g = n("434404")
          , E = n("496675")
          , S = n("259580")
          , _ = n("267642")
          , I = n("624138")
          , N = n("667815")
          , T = n("531572")
          , A = n("26323")
          , L = n("30513")
          , v = n("981631")
          , x = n("689938")
          , R = n("310767");
        let M = (0,
        I.cssValueToNumber)(d.default.GUILD_BOOSTING_SIDEBAR_DISPLAY_CONDITIONAL_BOTTOM_MARGIN)
          , y = e=>{
            let {guild: t, onSelect: n} = e
              , [s,i] = a.useState(t.premiumProgressBarEnabled)
              , [r,o] = a.useState(!1)
              , d = (0,
            u.useStateFromStores)([E.default], ()=>E.default.can(v.Permissions.MANAGE_GUILD, t))
              , h = async()=>{
                d && (o(!0),
                await g.default.saveGuild(t.id, {
                    premiumProgressBarEnabled: !s
                }),
                i(!s),
                o(!1))
            }
            ;
            return (0,
            l.jsx)(c.Menu, {
                navId: "progress-bar-context",
                onClose: f.closeContextMenu,
                "aria-label": x.default.Messages.PROGRESS_BAR_ACTIONS_MENU_LABEL,
                onSelect: n,
                children: (0,
                l.jsx)(c.MenuCheckboxItem, {
                    id: "progress-bar-enabled",
                    label: x.default.Messages.GUILD_ENABLE_PROGRESS_BAR,
                    checked: s,
                    disabled: r,
                    action: h
                })
            })
        }
          , O = 57
          , b = 57 + M
          , D = {
            tension: 180,
            friction: 80
        };
        t.default = e=>{
            let {guild: t, withMargin: n} = e
              , {analyticsLocations: s} = (0,
            p.default)(m.default.GUILD_BOOSTING_SIDEBAR_DISPLAY)
              , {premiumSubscriberCount: d, id: g} = t
              , I = (0,
            _.getGuildTierFromAppliedBoostCount)(d, g)
              , M = (0,
            _.getNextTier)(I, t.id)
              , O = null == M
              , b = null != M ? M : I
              , j = (0,
            u.useStateFromStores)([T.default], ()=>{
                var e;
                return null !== (e = T.default.getCountForGuild(g)) && void 0 !== e ? e : 0
            }
            )
              , P = (0,
            u.useStateFromStores)([h.default], ()=>h.default.useReducedMotion)
              , G = (0,
            u.useStateFromStores)([E.default], ()=>E.default.can(v.Permissions.MANAGE_GUILD, t));
            a.useEffect(()=>{
                j !== d && (0,
                N.updateGuildPremiumSubscriptionCount)(g, d)
            }
            , [g, j, d]);
            let U = "".concat(Math.min(100, d / (0,
            _.getAppliedGuildBoostsRequired)(t.id)[b] * 100), "%")
              , {current: w} = a.useRef(U)
              , B = {
                from: {
                    width: j === d ? w : "0%"
                },
                to: {
                    width: U
                },
                config: D,
                immediate: P
            }
              , [F,V] = (0,
            r.useSpring)(()=>B)
              , H = ()=>{
                (0,
                C.trackWithMetadata)(v.AnalyticEvents.PREMIUM_GUILD_PROMOTION_OPENED, {
                    location: {
                        section: v.AnalyticsSections.PREMIUM_GUILD_PROGRESS_BAR
                    },
                    guild_id: g,
                    location_stack: s
                }),
                (0,
                A.default)({
                    analyticsLocations: s,
                    analyticsSourceLocation: {
                        page: v.AnalyticsPages.GUILD_CHANNEL,
                        section: v.AnalyticsSections.PREMIUM_GUILD_PROGRESS_BAR,
                        object: v.AnalyticsObjects.TOOLTIP
                    },
                    guild: t,
                    perks: (0,
                    L.premiumProgressBarUpsellPerks)(),
                    perkIntro: x.default.Messages.PREMIUM_GUILD_SUBSCRIPTION_UPSELL_MODAL_PROGRESS_BAR_HEADER
                })
            }
              , k = x.default.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_GOAL.format({
                levelName: (0,
                _.getShortenedTierName)(b)
            })
              , Y = x.default.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_BLURB.format({
                numBoosts: d,
                numTotal: (0,
                _.getAppliedGuildBoostsRequired)(t.id)[b]
            });
            O && (k = (0,
            _.getShortenedTierName)(b),
            Y = x.default.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_COMPLETED_BLURB.format({
                numBoosts: d
            }));
            let K = (0,
            o.useListItem)("boosts-".concat(t.id));
            return (0,
            l.jsx)("li", {
                children: (0,
                l.jsx)(c.Tooltip, {
                    text: O ? x.default.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_NUDGE_TOOLTIP_COMPLETE : x.default.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_NUDGE_TOOLTIP.format({
                        levelName: (0,
                        _.getTierName)(b)
                    }),
                    color: c.Tooltip.Colors.BLACK,
                    position: "top",
                    delay: 200,
                    hideOnClick: !0,
                    children: e=>(0,
                    l.jsxs)(c.Clickable, {
                        ...K,
                        ...e,
                        "aria-label": void 0,
                        role: "button",
                        focusProps: {
                            offset: {
                                left: 10,
                                right: 4
                            }
                        },
                        onClick: H,
                        onMouseEnter: ()=>{
                            var t;
                            null === (t = e.onMouseEnter) || void 0 === t || t.call(e),
                            V(B)
                        }
                        ,
                        className: i()(R.container, {
                            [R.containerWithMargin]: n
                        }),
                        onContextMenu: e=>{
                            G && (0,
                            f.openContextMenu)(e, e=>(0,
                            l.jsx)(y, {
                                ...e,
                                guild: t
                            }))
                        }
                        ,
                        children: [(0,
                        l.jsx)(c.HiddenVisually, {
                            children: e["aria-label"]
                        }), (0,
                        l.jsxs)("div", {
                            className: R.textArea,
                            children: [(0,
                            l.jsx)("div", {
                                className: R.goalTextContainer,
                                children: (0,
                                l.jsx)(c.Text, {
                                    className: R.goalText,
                                    color: "interactive-active",
                                    variant: "text-xs/bold",
                                    children: k
                                })
                            }), (0,
                            l.jsxs)("div", {
                                className: R.progressFraction,
                                children: [(0,
                                l.jsx)(c.Text, {
                                    color: "interactive-normal",
                                    variant: "text-xs/normal",
                                    children: Y
                                }), (0,
                                l.jsx)(S.default, {
                                    className: R.count,
                                    height: 16,
                                    width: 16,
                                    direction: S.default.Directions.RIGHT
                                })]
                            })]
                        }), (0,
                        l.jsxs)("div", {
                            className: i()(R.progressBarContainer, {
                                [R.progressBarContainerComplete]: O
                            }),
                            children: [(0,
                            l.jsx)(r.animated.div, {
                                className: R.progressBar,
                                style: F
                            }), O ? (0,
                            l.jsx)("span", {
                                "aria-label": x.default.Messages.PREMIUM_GUILD_SUBSCRIPTIONS_PROGRESS_BAR_TADA_ICON_ALT_TEXT,
                                role: "img",
                                className: R.tadaIcon,
                                children: "\uD83C\uDF89"
                            }) : null]
                        })]
                    })
                })
            })
        }
    },
    98493: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            MEMBER_APPLICATION_FETCH_LIMIT: function() {
                return d
            },
            usePaginatedMemberApplications: function() {
                return c
            }
        }),
        n("47120");
        var l = n("470079")
          , a = n("913527")
          , s = n.n(a)
          , i = n("881052")
          , r = n("709054")
          , o = n("693546")
          , u = n("246364");
        let d = u.MAX_RESULTS_PER_PAGE * u.MAX_VISIBLE_PAGES;
        function c(e) {
            let {guildId: t, guildJoinRequests: n} = e
              , a = l.useRef(!1)
              , [c,f] = l.useState(null)
              , h = l.useRef(null)
              , m = l.useRef(!1);
            return {
                fetchNextPage: l.useCallback(async(e,l)=>{
                    if (a.current)
                        return;
                    let C = "".concat(e, "-").concat(l)
                      , p = !1;
                    if (C !== h.current && (h.current = C,
                    m.current = !1,
                    p = !0),
                    m.current)
                        return;
                    null != c && f(null);
                    let g = function(e, t, n, l) {
                        let a = n === u.GuildJoinRequestApplicationStatuses.SUBMITTED;
                        if (t === u.GuildJoinRequestSortOrders.TIMESTAMP_DESC) {
                            if (l)
                                return {
                                    before: r.default.fromTimestamp(new Date().getTime())
                                };
                            {
                                let t = e[e.length - 1];
                                return {
                                    before: a ? t.joinRequestId : t.actionedAt
                                }
                            }
                        }
                        if (l)
                            return {
                                after: r.default.fromTimestamp(s()().subtract(180, "days").valueOf())
                            };
                        {
                            let t = e[e.length - 1];
                            return {
                                after: a ? t.joinRequestId : t.actionedAt
                            }
                        }
                    }(n, e, l, p);
                    try {
                        a.current = !0;
                        let e = await o.default.fetchGuildJoinRequests({
                            guildId: t,
                            status: l,
                            limit: d,
                            force: !0,
                            ...g
                        });
                        if (null != e) {
                            let {guild_join_requests: t} = e.body;
                            t.length < d && (m.current = !0)
                        }
                    } catch (e) {
                        f(new i.APIError(e).getAnyErrorMessage())
                    } finally {
                        a.current = !1
                    }
                }
                , [c, t, n]),
                error: c
            }
        }
    },
    915885: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return c
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("704215")
          , i = n("566840")
          , r = n("434479")
          , o = n("158010")
          , u = n("527379")
          , d = n("689938");
        function c(e) {
            let {guild: t, selected: n} = e
              , c = a.useCallback(()=>{
                (0,
                u.goToMemberSafetyDashboard)(t.id)
            }
            , [t.id])
              , f = (0,
            i.useChannelListUpsellLocationTrackerRef)(t.id, s.DismissibleContent.MEMBERS_LAUNCH_UPSELL);
            return (0,
            l.jsx)("div", {
                ref: f,
                children: (0,
                l.jsx)(r.BasicChannelRow, {
                    id: "members-".concat(t.id),
                    renderIcon: e=>(0,
                    l.jsx)(o.default, {
                        className: e
                    }),
                    text: d.default.Messages.MEMBER_SAFETY_CHANNEL_TITLE,
                    selected: n,
                    onClick: c
                })
            })
        }
    },
    396828: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return i
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("377171")
          , s = n("325767");
        function i(e) {
            let {width: t=24, height: n=24, ...i} = e;
            return (0,
            l.jsxs)("svg", {
                ...(0,
                s.default)(i),
                width: t,
                height: n,
                viewBox: "0 0 24 24",
                children: [(0,
                l.jsx)("path", {
                    d: "M17.225 6.06504C17.3227 6.00866 17.4362 5.98608 17.548 6.00084C17.6598 6.0156 17.7637 6.06686 17.8434 6.14665C17.9232 6.22645 17.9744 6.33037 17.9892 6.44225C18.0039 6.55413 17.9813 6.66772 17.925 6.76548L15.65 10.2551L21.9875 11.581C21.9875 11.7185 21.9875 11.8562 21.9875 11.9937C21.9875 12.1313 21.9875 12.2689 21.9875 12.4065L15.65 13.7323L17.925 17.222C17.9939 17.3117 18.0313 17.4216 18.0313 17.5347C18.0313 17.6478 17.9939 17.7577 17.925 17.8474C17.8281 17.9424 17.6982 17.9962 17.5625 17.9975C17.466 17.996 17.3714 17.9702 17.2875 17.9224L13.8125 15.646L12.4125 22H11.5875L10.2625 15.6585L6.77501 17.935C6.69176 17.9843 6.59672 18.0102 6.49997 18.01C6.43455 18.0098 6.3699 17.9963 6.30977 17.9705C6.24964 17.9447 6.1953 17.9072 6.15001 17.8599C6.06977 17.7789 6.01879 17.6734 6.0052 17.5601C5.99162 17.4468 6.01621 17.3323 6.07501 17.2345L8.36253 13.7449L2 12.4065C2 12.2689 2 12.1313 2 11.9937C2 11.8562 2 11.7185 2 11.581L8.35002 10.2551L6.0625 6.76548C6.0037 6.66774 5.97918 6.55315 5.99277 6.43988C6.00635 6.32661 6.05726 6.22113 6.1375 6.14009C6.21731 6.05781 6.32295 6.00542 6.43672 5.99176C6.5505 5.97809 6.6655 6.00399 6.7625 6.06504L10.25 8.34148L11.575 2H12.4L13.7375 8.34148L17.225 6.06504Z",
                    fill: "white"
                }), (0,
                l.jsx)("path", {
                    d: "M22 12.4065C21.8956 14.9141 20.8533 17.2908 19.0798 19.0654C17.3062 20.8401 14.931 21.883 12.425 21.9875L13.7625 15.646L17.2375 17.9224C17.3214 17.9702 17.416 17.996 17.5125 17.9975C17.6481 17.9962 17.7781 17.9424 17.875 17.8474C17.9439 17.7577 17.9813 17.6478 17.9813 17.5347C17.9813 17.4216 17.9439 17.3117 17.875 17.222L15.6 13.7323L22 12.4065ZM13.7625 8.34148L17.2375 6.06504C17.3352 6.00866 17.4487 5.98608 17.5605 6.00084C17.6723 6.0156 17.7762 6.06686 17.8559 6.14665C17.9357 6.22645 17.9869 6.33037 18.0017 6.44225C18.0164 6.55413 17.9938 6.66772 17.9375 6.76548L15.6625 10.2551L22 11.581C21.8956 9.07342 20.8533 6.69669 19.0798 4.92206C17.3062 3.14742 14.931 2.10449 12.425 2L13.7625 8.34148ZM10.275 8.34148L11.6 2C9.09402 2.10449 6.71878 3.14742 4.94525 4.92206C3.17172 6.69669 2.12945 9.07342 2.02502 11.581L8.37497 10.2551L6.08752 6.76548C6.02873 6.66774 6.00413 6.55315 6.01772 6.43988C6.0313 6.32661 6.08228 6.22113 6.16252 6.14009C6.24233 6.05781 6.34797 6.00542 6.46175 5.99176C6.57552 5.97809 6.69052 6.00399 6.78752 6.06504L10.275 8.34148ZM6.16252 17.8474C6.08228 17.7663 6.0313 17.6609 6.01772 17.5476C6.00413 17.4343 6.02873 17.3197 6.08752 17.222L8.37497 13.7323L2 12.4065C2.10442 14.9141 3.1467 17.2908 4.92023 19.0654C6.69376 20.8401 9.06899 21.883 11.575 21.9875L10.25 15.646L6.7625 17.9224C6.67925 17.9718 6.58428 17.9977 6.48753 17.9975C6.35971 17.9937 6.23848 17.9398 6.15001 17.8474H6.16252Z",
                    fill: "url(#paint0_linear_3793:27920)"
                }), (0,
                l.jsx)("defs", {
                    children: (0,
                    l.jsxs)("linearGradient", {
                        id: "paint0_linear_3793:27920",
                        x1: "2",
                        y1: "21.9875",
                        x2: "21.9875",
                        y2: "1.98749",
                        gradientUnits: "userSpaceOnUse",
                        children: [(0,
                        l.jsx)("stop", {
                            stopColor: a.default.CREATOR_REVENUE_ICON_GRADIENT_START
                        }), (0,
                        l.jsx)("stop", {
                            offset: "1",
                            stopColor: a.default.CREATOR_REVENUE_ICON_GRADIENT_END
                        })]
                    })
                })]
            })
        }
    },
    921711: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return c
            },
            showPremiumChannelIconButton: function() {
                return d
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("377171")
          , r = n("549631")
          , o = n("508149")
          , u = n("513285");
        function d(e) {
            return e
        }
        function c(e) {
            let {locked: t} = e;
            return (0,
            l.jsx)("div", {
                className: s()(u.iconItem, o.premiumChannelIcon),
                children: (0,
                l.jsx)(r.default, {
                    className: u.actionIcon,
                    color: t ? i.default.CREATOR_REVENUE_LOCKED_CHANNEL_ICON : void 0
                })
            })
        }
    },
    518756: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("470079")
          , a = n("442837")
          , s = n("889161")
          , i = n("984933")
          , r = n("430824")
          , o = n("496675")
          , u = n("981631");
        t.default = (e,t)=>{
            let n = (0,
            a.useStateFromStores)([r.default], ()=>r.default.getGuild(e), [e])
              , {canCreateGuildEvent: d} = (0,
            s.useManageResourcePermissions)(n)
              , c = (0,
            a.useStateFromStores)([i.default], ()=>i.default.getChannels(e)[i.GUILD_VOCAL_CHANNELS_KEY], [e])
              , f = l.useMemo(()=>null != t ? c.filter(e=>{
                let {channel: n} = e;
                return n.type === t
            }
            ) : c, [c, t]);
            return (0,
            a.useStateFromStores)([o.default], ()=>{
                if (o.default.can(u.Permissions.ADMINISTRATOR, n) || d)
                    return !0;
                for (let {channel: e} of f) {
                    let {canCreateGuildEvent: t} = (0,
                    s.getManageResourcePermissions)(e);
                    if (t)
                        return !0
                }
                return !1
            }
            , [f, n, d])
        }
    },
    265418: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return i
            }
        });
        var l = n("724912")
          , a = n("518756")
          , s = n("554747");
        function i(e) {
            let t = (0,
            a.default)(e)
              , n = (0,
            s.default)(e);
            return !(0,
            l.default)(e) && (t || n.length > 0)
        }
    },
    968847: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            UnreadBarMode: function() {
                return l
            }
        }),
        n("47120");
        var l, a, s, i, r, o, u = n("392711"), d = n.n(u), c = n("442837"), f = n("570140"), h = n("220444"), m = n("565799"), C = n("501655"), p = n("569471"), g = n("592125"), E = n("430824"), S = n("306680"), _ = n("914010"), I = n("9156"), N = n("938475"), T = n("823379"), A = n("734307"), L = n("981631");
        (s = l || (l = {})).HIDDEN = "hidden",
        s.UNREAD = "unread",
        s.MENTIONS = "mentions",
        s.VOICE_CHANNELS = "voice-channels";
        let v = {
            mode: "hidden",
            mentionCount: 0,
            targetChannelId: null
        }
          , x = {
            topBar: v,
            bottomBar: v
        }
          , R = {}
          , M = {};
        function y(e) {
            let t = g.default.getChannel(e);
            return !(null == t || null == t.getGuildId() || t.isGuildVocal()) && !(t.isThread() ? p.default.isMuted(t.id) : I.default.isChannelMuted(t.getGuildId(), t.id)) && (0,
            h.getHasImportantUnread)(t)
        }
        function O(e) {
            let t = g.default.getChannel(e);
            if (null == t)
                return !1;
            let n = t.getGuildId();
            if (null == n)
                return !1;
            let l = I.default.isGuildCollapsed(n)
              , a = I.default.isChannelMuted(n, t.id);
            return (!l || !a) && S.default.getMentionCount(e) > 0
        }
        function b(e) {
            return !I.default.isChannelMuted(e.guild_id, e.id) && (e.isGuildStageVoice() ? m.default.getMutableParticipants(e.id, C.StageChannelParticipantNamedIndex.SPEAKER).length > 0 : N.default.getVoiceStatesForChannel(e).length > 0)
        }
        function D(e) {
            var t, n, l;
            let {guildChannels: a} = A.default.getGuildWithoutChangingCommunityRows(e)
              , s = a.getChannels(null !== (t = M[e]) && void 0 !== t ? t : []);
            if (null == s || 0 === s.length)
                return !1;
            let i = null
              , r = null
              , o = null
              , u = null
              , c = !0
              , f = !0
              , h = !1
              , m = a.getCategoryFromSection(a.voiceChannelsSectionNumber)
              , C = null !== (n = null == m ? void 0 : m.getShownChannelIds()) && void 0 !== n ? n : []
              , [p,g,E] = a.getSlicedChannels(s);
            for (let e = 0; e < g.length; e++) {
                let t = g[e];
                if ((y(t.id) || d().some(t.threadIds, y)) && (f = !1),
                (O(t.id) || d().some(t.threadIds, O)) && (c = !1),
                C.includes(t.id) && (h = !0),
                !f && !c && h)
                    break
            }
            let _ = 0
              , I = !1
              , N = 0
              , T = !1;
            if (f || c)
                for (let e = p.length - 1; e >= 0; e--) {
                    let t = p[e];
                    (y(t.id) || d().some(t.threadIds, y)) && (null == r && (r = t.id),
                    I = !0),
                    (O(t.id) || d().some(t.threadIds, O)) && (null == i && (i = t.id),
                    _ += S.default.getMentionCount(t.id) + d().sumBy(t.threadIds, S.default.getMentionCount))
                }
            if (f || c)
                for (let e = 0; e < E.length; e++) {
                    let t = E[e];
                    if (!f && !c)
                        break;
                    (y(t.id) || d().some(t.threadIds, y)) && (null == u && (u = t.id),
                    T = !0),
                    (O(t.id) || d().some(t.threadIds, O)) && (null == o && (o = t.id),
                    N += S.default.getMentionCount(t.id) + d().sumBy(t.threadIds, S.default.getMentionCount))
                }
            let L = null
              , x = null
              , D = null !== (l = null == m ? void 0 : m.getChannelRecords()) && void 0 !== l ? l : [];
            c && N > 0 ? L = {
                mode: "mentions",
                mentionCount: N,
                targetChannelId: o
            } : !h && d().some(D, b) ? L = {
                mode: "voice-channels",
                mentionCount: 0,
                targetChannelId: null
            } : f && T && (L = {
                mode: "unread",
                mentionCount: 0,
                targetChannelId: u
            }),
            c && _ > 0 ? x = {
                mode: "mentions",
                mentionCount: _,
                targetChannelId: i
            } : f && I && (x = {
                mode: "unread",
                mentionCount: 0,
                targetChannelId: r
            });
            let j = null != x && (null == L || "mentions" !== L.mode && "mentions" === x.mode)
              , P = null != L && ("mentions" === L.mode || !j);
            return R[e] = {
                topBar: j && null != x ? x : v,
                bottomBar: P && null != L ? L : v
            },
            !0
        }
        let j = d().throttle(D, 200);
        function P(e) {
            let {guildId: t} = e
              , n = E.default.getGuild(t);
            return !!(null != n && n.hasFeature(L.GuildFeatures.COMMUNITY)) && j(t)
        }
        function G(e) {
            let {id: t} = e
              , n = g.default.getChannel(t);
            if (null == n)
                return !1;
            let l = E.default.getGuild(n.guild_id);
            return !!(null != l && l.hasFeature(L.GuildFeatures.COMMUNITY)) && j(n.guild_id)
        }
        function U(e) {
            let {channel: t} = e
              , n = g.default.getChannel(t.id);
            if (null == n)
                return !1;
            let l = E.default.getGuild(t.guild_id);
            return !!(null != l && l.hasFeature(L.GuildFeatures.COMMUNITY)) && j(n.guild_id)
        }
        function w(e) {
            let {channelId: t} = e
              , n = g.default.getChannel(t);
            if (null == n)
                return !1;
            let l = E.default.getGuild(n.guild_id);
            return !!(null != l && l.hasFeature(L.GuildFeatures.COMMUNITY)) && _.default.getGuildId() === n.guild_id && j(n.guild_id)
        }
        function B(e) {
            let {guildId: t} = e;
            return null != t && j(t)
        }
        class F extends (a = c.default.Store) {
            initialize() {
                this.waitFor(A.default, S.default, I.default, p.default, N.default, _.default, E.default)
            }
            getUnreadStateForGuildId(e) {
                var t;
                return null !== (t = R[e]) && void 0 !== t ? t : x
            }
        }
        o = "ChannelListUnreadsStore",
        (r = "displayName")in (i = F) ? Object.defineProperty(i, r, {
            value: o,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : i[r] = o,
        t.default = new F(f.default,{
            UPDATE_CHANNEL_LIST_DIMENSIONS: function(e) {
                let {guildId: t, channelIds: n} = e
                  , l = E.default.getGuild(t);
                return !!(null != l && l.hasFeature(L.GuildFeatures.COMMUNITY)) && null != n && !d().isEqual(M[t], n) && (M[t] = n,
                D(t))
            },
            BULK_ACK: function(e) {
                let {channels: t} = e
                  , n = !1;
                return d()(t).map(e=>{
                    var t;
                    let {channelId: n} = e;
                    return null === (t = g.default.getChannel(n)) || void 0 === t ? void 0 : t.guild_id
                }
                ).filter(T.isNotNullish).uniq().forEach(e=>{
                    let t = E.default.getGuild(e);
                    null != t && t.hasFeature(L.GuildFeatures.COMMUNITY) && j(e) && (n = !0)
                }
                ),
                n
            },
            CHANNEL_ACK: w,
            CHANNEL_DELETE: U,
            CHANNEL_LOCAL_ACK: w,
            MESSAGE_ACK: w,
            MESSAGE_CREATE: w,
            MESSAGE_DELETE_BULK: w,
            MESSAGE_DELETE: w,
            PASSIVE_UPDATE_V2: function(e) {
                let t = E.default.getGuild(e.guildId);
                return !!(e.channels.length > 0 && null != t && t.hasFeature(L.GuildFeatures.COMMUNITY)) && j(e.guildId)
            },
            RESORT_THREADS: w,
            THREAD_CREATE: U,
            THREAD_DELETE: U,
            THREAD_LIST_SYNC: P,
            THREAD_MEMBER_UPDATE: G,
            THREAD_MEMBERS_UPDATE: G,
            THREAD_UPDATE: U,
            BULK_CLEAR_RECENTS: P,
            CATEGORY_COLLAPSE_ALL: P,
            CATEGORY_EXPAND_ALL: P,
            VOICE_STATE_UPDATES: function(e) {
                let {voiceStates: t} = e
                  , n = _.default.getGuildId();
                if (null == n || !new Set(t.map(e=>e.guildId)).has(n))
                    return !1;
                let l = R[n];
                return null != l && "voice-channels" === l.bottomBar.mode && j(n)
            },
            USER_GUILD_SETTINGS_CHANNEL_UPDATE: B,
            USER_GUILD_SETTINGS_CHANNEL_UPDATE_BULK: B,
            USER_GUILD_SETTINGS_FULL_UPDATE: function(e) {
                let {userGuildSettings: t} = e;
                for (let e of t)
                    null != e.guild_id && j(e.guild_id)
            },
            USER_GUILD_SETTINGS_GUILD_UPDATE: B,
            USER_GUILD_SETTINGS_GUILD_AND_CHANNELS_UPDATE: B
        })
    },
    700026: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            getSectionFooterConfig: function() {
                return o
            },
            isSectionFooterWithActiveVoiceChannels: function() {
                return u
            }
        });
        var l = n("680089")
          , a = n("496675")
          , s = n("540126")
          , i = n("443063")
          , r = n("981631");
        function o(e, t, n) {
            var l, a, r, o, u;
            return {
                hasDivider: (l = e,
                a = t,
                !function(e, t) {
                    if (t === s.SECTION_INDEX_COMMUNITY) {
                        let t = e.getCommunitySection().getRows();
                        return 1 === t.length && t[0] === i.ChannelListCommunityRow.GUILD_PREMIUM_PROGRESS_BAR || e.getCommunitySection().isEmpty()
                    }
                    return 0 === e.getSections()[t]
                }(l, r = n) && (r === s.SECTION_INDEX_COMMUNITY || !!a && (r === s.SECTION_INDEX_FAVORITES || r !== s.SECTION_INDEX_UNCATEGORIZED_CHANNELS && (r === l.recentsSectionNumber || (l.voiceChannelsSectionNumber,
                !1))))),
                canHaveVoiceSummary: (o = e,
                !((u = n) === s.SECTION_INDEX_COMMUNITY || u === s.SECTION_INDEX_FAVORITES || u === s.SECTION_INDEX_UNCATEGORIZED_CHANNELS || u === o.recentsSectionNumber || u === o.voiceChannelsSectionNumber))
            }
        }
        function u(e) {
            let {category: t, voiceStates: n, selectedChannelId: s, selectedVoiceChannelId: i} = e;
            return function(e) {
                let {category: t, voiceStates: n, selectedChannelId: s, selectedVoiceChannelId: i} = e;
                return !0 !== l.default.isCollapsed(t.record.id) ? [] : t.getChannelRecords().filter(e=>{
                    var t;
                    if (!a.default.can(r.Permissions.VIEW_CHANNEL, e))
                        return !1;
                    let l = null !== (t = n[e.id]) && void 0 !== t ? t : [];
                    return e.id !== i && e.id !== s && l.length > 0
                }
                )
            }({
                category: t,
                selectedChannelId: s,
                selectedVoiceChannelId: i,
                voiceStates: n
            }).length > 0
        }
    },
    438144: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            voiceCategoryCollapse: function() {
                return s
            },
            voiceCategoryExpand: function() {
                return a
            }
        });
        var l = n("570140");
        function a(e) {
            l.default.dispatch({
                type: "VOICE_CATEGORY_EXPAND",
                guildId: e,
                expand: !0
            })
        }
        function s(e) {
            l.default.dispatch({
                type: "VOICE_CATEGORY_COLLAPSE",
                guildId: e,
                expand: !1
            })
        }
    },
    790901: function(e, t, n) {
        "use strict";
        function l(e) {
            return e.length > 0
        }
        n.r(t),
        n.d(t, {
            showChannelItemEmbeddedActivities: function() {
                return l
            }
        })
    },
    714794: function(e, t, n) {
        "use strict";
        function l(e) {
            return null != e && e > 0
        }
        n.r(t),
        n.d(t, {
            default: function() {
                return l
            }
        })
    },
    688265: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return r
            }
        }),
        n("653041");
        var l = n("467138")
          , a = n("496675")
          , s = n("443063")
          , i = n("981631");
        function r(e) {
            let t = (0,
            l.useIsMemberVerificationManualApproval)(e.id)
              , n = null != e && t && a.default.can(i.Permissions.KICK_MEMBERS, e);
            if (!e.hasFeature(i.GuildFeatures.CLAN))
                return [];
            let r = [];
            return n && r.push(s.ChannelListCommunityRow.GUILD_MEMBER_APPLICATIONS),
            r
        }
    },
    896053: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return m
            }
        }),
        n("653041");
        var l = n("399606")
          , a = n("897345")
          , s = n("697379")
          , i = n("241559")
          , r = n("563534")
          , o = n("931261")
          , u = n("460347")
          , d = n("994592")
          , c = n("265418")
          , f = n("443063")
          , h = n("981631");
        function m(e) {
            let t = (0,
            c.default)(e.id)
              , n = (0,
            s.useCanReviewGuildMemberApplications)(e.id)
              , m = (0,
            d.useShowRoleSubscriptionsInChannelList)(e.id)
              , C = (0,
            a.useGuildShopVisibleInGuild)(e)
              , p = (0,
            o.useCanSeeOnboardingHome)(e.id)
              , g = (0,
            l.useStateFromStores)([r.default], ()=>r.default.getNewMemberActions(e.id), [e.id])
              , E = (0,
            u.default)(e.id)
              , S = (0,
            i.useCanAccessMemberSafetyPage)(e.id)
              , _ = []
              , I = e.hasFeature(h.GuildFeatures.HUB)
              , N = e.hasFeature(h.GuildFeatures.COMMUNITY)
              , T = e.hasFeature(h.GuildFeatures.ENABLED_MODERATION_EXPERIENCE_FOR_NON_COMMUNITY);
            return I && _.push(f.ChannelListCommunityRow.GUILD_HUB_HEADER_OPTIONS),
            p && E && null != g && g.length > 0 ? _.push(f.ChannelListCommunityRow.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR) : e.premiumProgressBarEnabled && _.push(f.ChannelListCommunityRow.GUILD_PREMIUM_PROGRESS_BAR),
            !I && p && _.push(f.ChannelListCommunityRow.GUILD_HOME),
            t && _.push(f.ChannelListCommunityRow.GUILD_SCHEDULED_EVENTS),
            !I && N && _.push(f.ChannelListCommunityRow.CHANNELS_AND_ROLES),
            m && _.push(f.ChannelListCommunityRow.GUILD_ROLE_SUBSCRIPTIONS),
            C && _.push(f.ChannelListCommunityRow.GUILD_SHOP),
            n && _.push(f.ChannelListCommunityRow.GUILD_MEMBER_APPLICATIONS),
            S && (N || T) && _.push(f.ChannelListCommunityRow.GUILD_MOD_DASH_MEMBER_SAFETY),
            _
        }
    },
    355363: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return s
            }
        });
        var l = n("829750")
          , a = n("981631");
        function s(e) {
            let {channel: t, locked: n, video: s, selected: i} = e;
            return function(e) {
                let {channel: t, video: n, considerMaxStageVoiceUserLimit: s=!0} = e
                  , {limit: i} = (0,
                l.default)(t)
                  , r = -1;
                return (t.userLimit > 0 && (r = t.userLimit),
                n && i > 0 && (r = r > 0 ? Math.min(r, i) : i),
                s && r === a.MAX_STAGE_VOICE_USER_LIMIT) ? 0 : r
            }({
                channel: t,
                video: s
            }) > 0 && !n && !i
        }
    },
    109446: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return T
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("392711")
          , i = n.n(s)
          , r = n("442837")
          , o = n("481060")
          , u = n("99690")
          , d = n("359110")
          , c = n("601070")
          , f = n("91159")
          , h = n("488131")
          , m = n("496675")
          , C = n("306680")
          , p = n("594174")
          , g = n("768581")
          , E = n("709054")
          , S = n("981631")
          , _ = n("124368")
          , I = n("689938")
          , N = n("97600");
        function T(e) {
            let {channel: t} = e
              , s = (0,
            r.useStateFromStoresArray)([c.default, C.default, m.default], ()=>{
                let e = c.default.getActiveJoinedRelevantThreadsForParent(t.guild_id, t.id);
                return i()(c.default.getActiveJoinedThreadsForParent(t.guild_id, t.id)).values().map(e=>e.channel).concat(i().values(c.default.getActiveUnjoinedThreadsForParent(t.guild_id, t.id))).filter(t=>!(t.id in e) && m.default.can(S.Permissions.VIEW_CHANNEL, t)).sort((e,t)=>{
                    let n = C.default.lastMessageId(e.id)
                      , l = C.default.lastMessageId(t.id);
                    return E.default.compare(n, l)
                }
                ).reverse().value()
            }
            )
              , u = t.isForumLikeChannel() ? 5 : 3;
            return a.useEffect(()=>{
                (0,
                f.trackActiveThreadsPopoutOpened)()
            }
            , []),
            (0,
            l.jsxs)("div", {
                className: N.popout,
                children: [(0,
                l.jsx)(o.Text, {
                    className: N.title,
                    variant: "text-xs/bold",
                    color: "header-secondary",
                    children: t.isForumLikeChannel() ? I.default.Messages.ACTIVE_THREADS_POPOUT_HEADER_FORUM : I.default.Messages.ACTIVE_THREADS_POPOUT_HEADER
                }), s.slice(0, t.isForumLikeChannel() ? s.length : u).map(e=>(0,
                l.jsx)(A, {
                    thread: e
                }, e.id)).filter(e=>a.isValidElement(e)).slice(0, u), (0,
                l.jsx)(o.Clickable, {
                    className: N.more,
                    onClick: ()=>{
                        t.isForumLikeChannel() ? (0,
                        d.transitionToChannel)(t.id) : (0,
                        o.openModalLazy)(async()=>{
                            let {default: e} = await Promise.all([n.e("99387"), n.e("34424")]).then(n.bind(n, "223901"));
                            return n=>(0,
                            l.jsx)(e, {
                                channel: t,
                                ...n
                            })
                        }
                        )
                    }
                    ,
                    children: (0,
                    l.jsx)(o.Text, {
                        variant: "text-sm/normal",
                        color: "none",
                        children: I.default.Messages.ACTIVE_THREADS_POPOUT_LINK
                    })
                })]
            })
        }
        function A(e) {
            let {thread: t} = e
              , n = (0,
            r.useStateFromStores)([p.default], ()=>p.default.getUser(t.ownerId))
              , a = (0,
            f.useLastMessageTimestamp)(t);
            return (0,
            l.jsxs)(o.Clickable, {
                className: N.row,
                onClick: e=>{
                    (0,
                    h.openThreadSidebarForViewing)(t, t.isForumPost() ? e.shiftKey : !e.shiftKey, _.OpenThreadAnalyticsLocations.POPOUT)
                }
                ,
                children: [null == n ? (0,
                l.jsx)("img", {
                    className: N.avatar,
                    src: g.default.getDefaultAvatarURL(void 0, void 0),
                    alt: ""
                }) : (0,
                l.jsx)(u.default, {
                    className: N.avatar,
                    user: n,
                    size: o.AvatarSizes.SIZE_16
                }), (0,
                l.jsx)(o.Text, {
                    className: N.name,
                    variant: "text-sm/normal",
                    color: "none",
                    children: t.name
                }), (0,
                l.jsxs)(o.Text, {
                    className: N.timestamp,
                    variant: "text-sm/normal",
                    color: "none",
                    children: [(0,
                    l.jsx)("span", {
                        className: N.bullet,
                        children: "•"
                    }), (0,
                    f.getTimestampString)(a)]
                })]
            })
        }
    },
    434479: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            BasicChannelRow: function() {
                return f
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("924826")
          , r = n("589440")
          , o = n("481060")
          , u = n("202956")
          , d = n("513285")
          , c = n("628462");
        function f(e) {
            var t;
            let {id: n, className: a, innerClassName: f, renderIcon: h, text: m, selected: C, trailing: p, showUnread: g=!1, ...E} = e
              , S = (0,
            i.useListItem)(n)
              , _ = null !== (t = (0,
            r.getNodeText)(m)) && void 0 !== t ? t : "";
            return (0,
            l.jsx)("li", {
                children: (0,
                l.jsxs)(o.ClickableContainer, {
                    ...E,
                    buttonProps: {
                        ...S,
                        id: n,
                        role: "button"
                    },
                    tag: "div",
                    "aria-label": _,
                    focusProps: {
                        offset: {
                            top: 1,
                            bottom: 1,
                            right: 4
                        }
                    },
                    onContextMenu: null != E.onContextMenu ? E.onContextMenu : e=>{
                        e.stopPropagation()
                    }
                    ,
                    className: s()(d.containerDefault, c.wrapper, {
                        [c.modeSelected]: C
                    }, a),
                    children: [g ? (0,
                    l.jsx)("div", {
                        className: s()(c.unread, c.unreadImportant)
                    }) : null, (0,
                    l.jsx)("div", {
                        className: s()([c.link, c.basicChannelRowLink, f]),
                        children: (0,
                        l.jsxs)("div", {
                            className: u.content,
                            children: [(0,
                            l.jsx)("div", {
                                className: c.iconContainer,
                                children: h(c.icon)
                            }), (0,
                            l.jsx)("div", {
                                className: c.name,
                                "aria-hidden": !0,
                                children: m
                            }), p]
                        })
                    })]
                })
            })
        }
    },
    301342: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            NonChannelCategory: function() {
                return y
            },
            ReadonlyCategoryChannel: function() {
                return D
            },
            VoiceChannelCategory: function() {
                return b
            },
            VoiceChannelCategoryButton: function() {
                return O
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("924826")
          , o = n("442837")
          , u = n("481060")
          , d = n("211739")
          , c = n("239091")
          , f = n("146773")
          , h = n("680089")
          , m = n("430824")
          , C = n("496675")
          , p = n("9156")
          , g = n("514342")
          , E = n("696202")
          , S = n("605403")
          , _ = n("908773")
          , I = n("632184")
          , N = n("151827")
          , T = n("203818")
          , A = n("438144")
          , L = n("981631")
          , v = n("689938")
          , x = n("781838");
        function R(e) {
            e.stopPropagation()
        }
        let M = a.memo(function(e) {
            let t, {channel: s, connectChannelDragSource: f, connectChannelDropTarget: E, disableManageChannels: I, position: T, sortingPosition: A, hideIcon: M, children: y} = e, O = (0,
            o.useStateFromStores)([p.default], ()=>p.default.isChannelMuted(s.getGuildId(), s.id)), b = (0,
            o.useStateFromStores)([h.default], ()=>h.default.isCollapsed(s.id)), D = (0,
            o.useStateFromStores)([C.default], ()=>C.default.can(L.Permissions.MANAGE_CHANNELS, s));
            t = null != A ? T > A ? x.containerDragAfter : x.containerDragBefore : x.containerDefault;
            let j = a.useCallback(()=>{
                b ? (0,
                d.categoryExpand)(s.id) : (0,
                d.categoryCollapse)(s.id)
            }
            , [s.id, b])
              , P = a.useCallback(e=>{
                if ("null" !== s.id) {
                    let t = m.default.getGuild(s.getGuildId());
                    null != t && (0,
                    c.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await n.e("8965").then(n.bind(n, "139035"));
                        return n=>(0,
                        l.jsx)(e, {
                            ...n,
                            channel: s,
                            guild: t
                        })
                    }
                    )
                }
            }
            , [s])
              , G = a.useCallback(()=>{
                let e = s.type === L.ChannelTypes.GUILD_CATEGORY ? null : s.type
                  , t = s.getGuildId();
                null != t && (0,
                u.openModalLazy)(async()=>{
                    let {default: a} = await Promise.all([n.e("99387"), n.e("45094"), n.e("36494")]).then(n.bind(n, "218613"));
                    return n=>(0,
                    l.jsx)(a, {
                        ...n,
                        channelType: e,
                        guildId: t,
                        categoryId: "null" !== s.id ? s.id : null
                    })
                }
                )
            }
            , [s])
              , {role: U, tabIndex: w, ...B} = (0,
            r.useListItem)(s.id)
              , F = a.useRef(null)
              , V = a.useRef(null)
              , H = (0,
            l.jsxs)("li", {
                className: t,
                "data-dnd-name": s.name,
                children: [(0,
                l.jsx)(u.FocusRing, {
                    focusTarget: F,
                    ringTarget: V,
                    offset: {
                        left: 4,
                        right: 4
                    },
                    children: (0,
                    l.jsxs)("div", {
                        ref: V,
                        className: i()(x.iconVisibility, x.wrapper, {
                            [x.collapsed]: b,
                            [x.muted]: O,
                            [x.clickable]: !0
                        }),
                        onContextMenu: P,
                        children: [(0,
                        l.jsxs)(u.Clickable, {
                            innerRef: F,
                            className: x.mainContent,
                            tabIndex: w,
                            ...B,
                            onClick: j,
                            "aria-label": v.default.Messages.CATEGORY_A11Y_LABEL.format({
                                categoryName: s.name
                            }),
                            "aria-expanded": !b,
                            focusProps: {
                                enabled: !1
                            },
                            children: [M ? null : (0,
                            l.jsx)(S.default, {
                                className: x.icon
                            }), (0,
                            l.jsx)(N.default, {
                                className: x.name,
                                children: (0,
                                l.jsx)(g.default, {
                                    children: s.name
                                })
                            })]
                        }), (0,
                        l.jsx)("div", {
                            onClick: R,
                            className: x.children,
                            children: D && !I ? (0,
                            l.jsx)(u.Tooltip, {
                                text: v.default.Messages.CREATE_CHANNEL,
                                children: e=>{
                                    let {onMouseEnter: t, onMouseLeave: n} = e;
                                    return (0,
                                    l.jsx)(u.Button, {
                                        "aria-label": v.default.Messages.CREATE_CHANNEL,
                                        look: u.Button.Looks.BLANK,
                                        size: u.Button.Sizes.NONE,
                                        className: i()(x.addButton, x.forceVisible),
                                        onClick: G,
                                        onMouseEnter: t,
                                        onMouseLeave: n,
                                        tabIndex: w,
                                        focusProps: {
                                            offset: {
                                                top: -3,
                                                right: -4,
                                                bottom: -3,
                                                left: -4
                                            }
                                        },
                                        children: (0,
                                        l.jsx)(_.default, {
                                            width: 18,
                                            height: 18,
                                            className: x.addButtonIcon
                                        })
                                    })
                                }
                            }) : null
                        })]
                    })
                }), y]
            });
            return null != E && null != f ? E(f(H)) : H
        });
        t.default = (0,
        f.makeChannelSortable)(M);
        let y = a.memo(function(e) {
            let {name: t, onDismiss: n, className: a} = e;
            return (0,
            l.jsx)("li", {
                className: i()(a, x.containerDefault),
                children: (0,
                l.jsxs)("div", {
                    className: i()(x.iconVisibility, x.wrapperStatic),
                    children: [(0,
                    l.jsx)("div", {
                        className: x.mainContent,
                        children: (0,
                        l.jsx)(N.default, {
                            className: x.name,
                            children: (0,
                            l.jsx)(g.default, {
                                children: t
                            })
                        })
                    }), null != n ? (0,
                    l.jsx)(u.TooltipContainer, {
                        text: v.default.Messages.CLEAR_RECENT_CHANNELS,
                        className: x.dismissWrapper,
                        children: (0,
                        l.jsx)(u.Clickable, {
                            className: x.dismissButton,
                            onClick: n,
                            children: (0,
                            l.jsx)(E.default, {
                                className: x.dismiss
                            })
                        })
                    }) : null]
                })
            })
        })
          , O = a.memo(function(e) {
            let {category: t} = e
              , n = (0,
            o.useStateFromStores)([T.default], ()=>T.default.isVoiceCategoryCollapsed(t.guild.id))
              , s = a.useCallback(()=>{
                n ? (0,
                A.voiceCategoryExpand)(t.guild.id) : (0,
                A.voiceCategoryCollapse)(t.guild.id)
            }
            , [t.guild.id, n]);
            return n ? (0,
            l.jsxs)(u.Clickable, {
                className: x.voiceChannelsButton,
                onClick: s,
                children: [(0,
                l.jsx)(I.default, {
                    className: x.voiceChannelsToggleIcon,
                    width: 16,
                    height: 16
                }), (0,
                l.jsx)(u.Text, {
                    variant: "text-sm/medium",
                    children: v.default.Messages.VOICE_CHANNELS_CATEGORY_BUTTON_EXPAND
                })]
            }) : (0,
            l.jsxs)(u.Clickable, {
                className: x.voiceChannelsButton,
                onClick: s,
                children: [(0,
                l.jsx)(I.default, {
                    className: x.voiceChannelsToggleIcon,
                    width: 16,
                    height: 16
                }), (0,
                l.jsx)(u.Text, {
                    variant: "text-sm/medium",
                    children: v.default.Messages.VOICE_CHANNELS_CATEGORY_BUTTON_COLLAPSE
                })]
            })
        })
          , b = a.memo(function(e) {
            let {category: t, channel: n} = e
              , a = (0,
            o.useStateFromStores)([T.default], ()=>T.default.isVoiceCategoryCollapsed(t.guild.id));
            return a || null == n || n.record.type === L.ChannelTypes.GUILD_CATEGORY ? a ? (0,
            l.jsx)("li", {
                className: i()(x.containerDefault),
                children: (0,
                l.jsx)("div", {
                    className: i()(x.iconVisibility, x.wrapperStatic),
                    children: (0,
                    l.jsx)(N.default, {
                        className: x.name,
                        children: (0,
                        l.jsx)(g.default, {
                            children: v.default.Messages.VOICE_CHANNELS_CATEGORY_HEADER
                        })
                    })
                })
            }) : null : (0,
            l.jsx)("div", {
                style: {
                    height: 16
                }
            })
        })
          , D = a.memo(function(e) {
            let {channel: t} = e;
            return (0,
            l.jsx)("li", {
                className: i()(x.containerDefault),
                children: (0,
                l.jsx)("div", {
                    className: i()(x.iconVisibility, x.wrapperStatic),
                    children: (0,
                    l.jsx)(N.default, {
                        className: x.name,
                        children: (0,
                        l.jsx)(g.default, {
                            children: t.name
                        })
                    })
                })
            })
        })
    },
    754231: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return v
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("442837")
          , o = n("481060")
          , u = n("503438")
          , d = n("594174")
          , c = n("672938")
          , f = n("936195")
          , h = n("727218")
          , m = n("602623")
          , C = n("81063")
          , p = n("768581")
          , g = n("823379")
          , E = n("51144")
          , S = n("686429");
        let _ = m.Sizes.SIZE_24;
        function I(e) {
            var t, n;
            let {activity: s, user: i, embeddedApp: r, onOpenSpotifyAlbum: d} = e
              , c = null == s ? void 0 : s.assets
              , f = null == s ? void 0 : s.application_id;
            if (null == s || null == c || null == c.large_image && null == c.small_image)
                return null != r ? function(e) {
                    let t = p.default.getApplicationIconURL({
                        id: e.application.id,
                        icon: e.application.icon
                    })
                      , n = e.application.name;
                    return (0,
                    l.jsx)(o.Tooltip, {
                        text: n,
                        position: "top",
                        children: ()=>(0,
                        l.jsx)("img", {
                            alt: n,
                            src: t,
                            className: S.applicationLargeImage
                        })
                    })
                }(r) : null;
            let h = null !== (t = c.large_image) && void 0 !== t ? t : c.small_image
              , m = (0,
            u.default)(s)
              , g = m ? S.spotifyLargeImage : S.applicationLargeImage
              , E = null != h ? (0,
            l.jsx)("img", {
                alt: null !== (n = c.large_text) && void 0 !== n ? n : "",
                src: (0,
                C.getAssetImage)(f, h, [128, 128]),
                className: g
            }) : null;
            return m && null != d ? (E = (0,
            l.jsx)(o.Clickable, {
                className: S.clickable,
                onClick: ()=>{
                    d(s, i.id)
                }
                ,
                children: E
            }),
            (0,
            l.jsx)(o.Tooltip, {
                text: null != c.large_text ? c.large_text : null,
                position: "top",
                children: e=>{
                    let {onClick: t, ...n} = e;
                    return null != E ? a.cloneElement(E, n) : null
                }
            })) : E
        }
        function N(e) {
            let {activity: t, embeddedApp: n, onOpenSpotifyTrack: a} = e
              , s = null == t ? void 0 : t.details
              , i = null == t ? void 0 : t.name
              , r = i;
            if (null != n)
                r = n.application.name;
            else {
                if (!(null != t && (0,
                u.default)(t)) || null == t.sync_id || null == s || null == a)
                    return null;
                i = s,
                r = (0,
                l.jsx)(o.Clickable, {
                    className: S.headerLink,
                    onClick: ()=>{
                        a(t)
                    }
                    ,
                    children: s
                })
            }
            return (0,
            l.jsx)(h.default, {
                title: i,
                className: S.header,
                children: r
            })
        }
        function T(e) {
            let {activity: t, user: n, onOpenSpotifyArtist: a} = e
              , s = null == t ? void 0 : t.details
              , r = null == t ? void 0 : t.state
              , o = s;
            return (null != t && (0,
            u.default)(t) && null != r && (o = [(0,
            l.jsx)(f.default, {
                artists: r,
                linkClassName: S.bodyLink,
                canOpen: null != t.sync_id,
                onOpenSpotifyArtist: e=>{
                    null == a || a(t, n.id, e)
                }
            }, r)]),
            null == o || "" === o) ? null : (0,
            l.jsx)("div", {
                className: i()(S.ellipsisRow, S.colorHeaderSecondary, S.bodyTextSize),
                children: o
            })
        }
        function A(e) {
            let {activity: t} = e
              , n = null == t ? void 0 : t.state;
            return null == n || "" === n || (0,
            u.default)(t) ? null : (0,
            l.jsx)("div", {
                className: i()(S.ellipsisRow, S.colorHeaderSecondary, S.bodyTextSize, S.__invalid_activity),
                children: n
            })
        }
        function L(e) {
            let {activity: t} = e;
            if (null == t || !(0,
            u.default)(t))
                return null;
            let {timestamps: n} = t;
            if ((null == n ? void 0 : n.start) == null || (null == n ? void 0 : n.end) == null)
                return null;
            let {start: a, end: s} = n;
            return (0,
            l.jsx)(c.default, {
                start: a,
                end: s,
                className: S.timeBar,
                themed: !0,
                singleLine: !0
            })
        }
        function v(e) {
            let {activity: t, embeddedApp: n, user: s, channel: i, sortedVoiceStates: c, onOpenSpotifyTrack: f, onOpenSpotifyArtist: h, onOpenSpotifyAlbum: C} = e
              , p = [];
            null != n ? p = Array.from(n.embeddedActivity.userIds) : (0,
            u.default)(t) && null != c && (p = c.map(e=>e.user.id));
            let v = (0,
            r.useStateFromStoresArray)([d.default], ()=>p.map(e=>d.default.getUser(e)).filter(g.isNotNullish))
              , x = null != n || (0,
            u.default)(t)
              , R = a.useMemo(()=>{
                let e = new Map;
                return x && null != c && c.forEach(t=>{
                    let n = t.member;
                    null != n && e.set(t.user.id, n)
                }
                ),
                e
            }
            , [c, x]);
            return x ? (0,
            l.jsxs)("div", {
                className: S.flexColumn,
                children: [(0,
                l.jsxs)("div", {
                    className: S.flexRow,
                    children: [(0,
                    l.jsx)(I, {
                        activity: t,
                        user: s,
                        embeddedApp: n,
                        onOpenSpotifyAlbum: C
                    }), (0,
                    l.jsxs)("div", {
                        className: S.detailsAndAvatarsContainer,
                        children: [(0,
                        l.jsx)(N, {
                            activity: t,
                            embeddedApp: n,
                            onOpenSpotifyTrack: f
                        }), (0,
                        l.jsx)(T, {
                            activity: t,
                            user: s,
                            onOpenSpotifyArtist: h
                        }), (0,
                        l.jsx)(A, {
                            activity: t
                        }), p.length > 0 && (0,
                        l.jsx)(m.default, {
                            className: S.usersSummary,
                            guildId: i.guild_id,
                            users: v,
                            size: _,
                            max: 7,
                            renderUser: e=>{
                                var t;
                                if (null == e)
                                    return null;
                                let n = R.get(e.id)
                                  , a = null !== (t = null == n ? void 0 : n.nick) && void 0 !== t ? t : E.default.getName(e);
                                return (0,
                                l.jsx)(o.TooltipContainer, {
                                    text: a,
                                    position: "bottom",
                                    children: (0,
                                    l.jsx)("img", {
                                        src: e.getAvatarURL(i.guild_id, _),
                                        alt: a,
                                        className: S.avatar
                                    }, e.id)
                                }, e.id)
                            }
                        })]
                    })]
                }), (0,
                l.jsx)(L, {
                    activity: t
                })]
            }) : null
        }
    },
    737592: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("442837")
          , r = n("481060")
          , o = n("717881")
          , u = n("503438")
          , d = n("850827")
          , c = n("952164")
          , f = n("131704")
          , h = n("314897")
          , m = n("594174")
          , C = n("409216")
          , p = n("768581")
          , g = n("51144")
          , E = n("754231")
          , S = n("24285");
        function _(e) {
            let {guildId: t, member: n, className: a} = e
              , i = null != n.member ? (0,
            p.getGuildMemberAvatarURL)(n.member) : null;
            return (0,
            l.jsx)(r.Tooltip, {
                text: n.nick,
                position: "bottom",
                children: e=>{
                    var o;
                    return (0,
                    l.jsx)(r.Avatar, {
                        src: null != i ? i : n.user.getAvatarURL(t, 16),
                        size: r.AvatarSizes.SIZE_16,
                        className: s()(a, S.partyAvatar),
                        "aria-label": null !== (o = n.nick) && void 0 !== o ? o : g.default.getName(n.user),
                        ...e
                    })
                }
            })
        }
        function I(e) {
            let {members: t, guildId: n} = e;
            return (0,
            l.jsx)(C.default, {
                className: S.partyMembers,
                guildId: n,
                users: t,
                max: 6,
                renderUser: (e,t,a)=>(0,
                l.jsx)(_, {
                    guildId: n,
                    member: e,
                    className: t
                }, a),
                renderMoreUsers: (e,t,n)=>(0,
                l.jsx)("div", {
                    className: s()(S.morePartyMembers, t),
                    children: e
                }, n)
            })
        }
        t.default = e=>{
            let {channel: t, presenceActivity: n, members: a, embeddedApp: s, onAction: r} = e
              , C = null != s
              , p = C ? Array.from(s.embeddedActivity.userIds) : []
              , g = (0,
            i.useStateFromStores)([m.default, h.default], ()=>{
                if (C)
                    return m.default.getUser(p[0]);
                if (null != a) {
                    var e, t;
                    return a.length <= 0 ? null : null !== (t = null === (e = a.find(e=>e.user.id !== h.default.getId())) || void 0 === e ? void 0 : e.user) && void 0 !== t ? t : a[0].user
                }
            }
            );
            if (null == g)
                return null;
            let _ = C || (0,
            u.default)(n)
              , N = (0,
            f.isVoiceChannel)(t.type);
            return (0,
            l.jsxs)("div", {
                className: S.activity,
                children: [(0,
                l.jsx)("div", {
                    className: S.channelActivityContainer,
                    children: _ ? (0,
                    l.jsx)(E.default, {
                        activity: n,
                        embeddedApp: s,
                        user: g,
                        channel: t,
                        sortedVoiceStates: a,
                        onOpenSpotifyTrack: N ? c.openTrack : void 0,
                        onOpenSpotifyArtist: N ? c.openArtist : void 0,
                        onOpenSpotifyAlbum: N ? c.openAlbum : void 0
                    }) : (0,
                    l.jsx)(o.default, {
                        type: o.UserActivityTypes.VOICE_CHANNEL,
                        activity: n,
                        user: g,
                        guildId: t.getGuildId(),
                        channelId: t.id,
                        renderHeaderAccessory: null != a ? ()=>(0,
                        l.jsx)(I, {
                            guildId: t.guild_id,
                            members: a
                        }) : void 0,
                        isEmbedded: C
                    })
                }), (0,
                l.jsx)("div", {
                    className: S.activityActionsContainer,
                    children: (0,
                    l.jsx)(d.default, {
                        type: o.UserActivityTypes.VOICE_CHANNEL,
                        activity: n,
                        embeddedActivity: null == s ? void 0 : s.embeddedActivity,
                        user: g,
                        guildId: t.getGuildId(),
                        channelId: t.id,
                        color: S.button,
                        onAction: r,
                        isEmbedded: C
                    })
                })]
            })
        }
    },
    98597: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            ChannelItemEditButton: function() {
                return j
            },
            ChannelItemInviteButton: function() {
                return P
            },
            default: function() {
                return w
            },
            getChannelItemClassName: function() {
                return D
            },
            isChannelItemDisabled: function() {
                return b
            }
        });
        var l, a, s, i, r = n("735250"), o = n("470079"), u = n("120356"), d = n.n(u), c = n("442837"), f = n("115850"), h = n("481060"), m = n("787014"), C = n("924301"), p = n("159300"), g = n("152376"), E = n("427679"), S = n("155409"), _ = n("131704"), I = n("199902"), N = n("430824"), T = n("496675"), A = n("914010"), L = n("263704"), v = n("465670"), x = n("937482"), R = n("281029"), M = n("981631"), y = n("689938"), O = n("513285");
        function b(e, t, n) {
            return null != t && !!t && !(0,
            R.areTypesInSameSection)(n, e.type)
        }
        function D(e, t) {
            return null == t ? O.containerDefault : e > t ? O.containerDragAfter : O.containerDragBefore
        }
        function j(e) {
            let {channel: t, disableManageChannels: n, tabIndex: l, forceShowButtons: a, hasChannelInfo: s=!1} = e;
            if ((0,
            c.useStateFromStores)([T.default, A.default], ()=>n || A.default.getGuildId() === M.FAVORITES || !T.default.can(M.Permissions.MANAGE_CHANNELS, t) && !T.default.can(M.Permissions.MANAGE_ROLES, t) && !T.default.can(M.Permissions.MANAGE_WEBHOOKS, t) || (0,
            _.isGuildSelectableChannelType)(t.type) && !T.default.can(M.Permissions.VIEW_CHANNEL, t) || t.isGuildVocal() && !T.default.can(M.Permissions.CONNECT, t) || !_.EDITABLE_CHANNEL_TYPES.has(t.type)))
                return null;
            function i() {
                m.default.open(t.id)
            }
            return (0,
            r.jsx)(h.Tooltip, {
                text: y.default.Messages.EDIT_CHANNEL,
                children: e=>{
                    let {onMouseEnter: t, onMouseLeave: n, onFocus: o, onBlur: u} = e;
                    return (0,
                    r.jsx)(h.Clickable, {
                        className: d()(O.iconItem, a ? O.alwaysShown : void 0, s ? O.iconWithChannelInfo : O.iconNoChannelInfo),
                        onClick: i,
                        tabIndex: l,
                        "aria-label": y.default.Messages.EDIT_CHANNEL,
                        onMouseEnter: t,
                        onMouseLeave: n,
                        onFocus: o,
                        onBlur: u,
                        children: (0,
                        r.jsx)(x.default, {
                            width: 16,
                            height: 16,
                            className: O.actionIcon
                        })
                    })
                }
            })
        }
        function P(e) {
            let {channel: t, isDefaultChannel: l=!1, locked: a, tabIndex: s, forceShowButtons: i, hasChannelInfo: o=!1} = e
              , u = (0,
            c.useStateFromStores)([N.default], ()=>N.default.getGuild(t.getGuildId()))
              , m = (0,
            c.useStateFromStores)([E.default], ()=>E.default.getStageInstanceByChannel(t.id), [t.id])
              , g = (0,
            c.useStateFromStores)([C.default], ()=>C.default.getActiveEventByChannel(t.id), [t.id])
              , _ = (0,
            c.useStateFromStores)([T.default], ()=>(0,
            p.canViewInviteModal)(T.default, u, t, m))
              , A = (0,
            c.useStateFromStores)([T.default], ()=>T.default.can(M.Permissions.CREATE_INSTANT_INVITE, t) ? y.default.Messages.CREATE_INSTANT_INVITE : y.default.Messages.INVITE_TO_SERVER);
            if (a || !_)
                return null;
            function L() {
                if (null != u) {
                    let e = I.default.getAllActiveStreams().filter(e=>e.state !== M.ApplicationStreamStates.ENDED && e.channelId === t.id);
                    (0,
                    h.openModalLazy)(async()=>{
                        let {default: l} = await Promise.all([n.e("99387"), n.e("7654"), n.e("1425")]).then(n.bind(n, "560114"));
                        return n=>(0,
                        r.jsx)(l, {
                            ...n,
                            guild: u,
                            channel: t,
                            streamUserId: 1 === e.length ? e[0].ownerId : null,
                            source: M.InstantInviteSources.GUILD_CHANNELS,
                            guildScheduledEvent: g
                        })
                    }
                    )
                }
            }
            let v = (0,
            r.jsx)(f.GroupPlusIcon, {
                width: 16,
                height: 16,
                className: O.actionIcon,
                "aria-hidden": !0
            });
            return l && (v = (0,
            r.jsx)(S.default, {
                tutorialId: "instant-invite",
                position: "left",
                children: (0,
                r.jsx)("div", {
                    children: v
                })
            })),
            (0,
            r.jsx)(h.Tooltip, {
                text: A,
                children: e=>(0,
                r.jsx)(h.Clickable, {
                    className: d()(O.iconItem, i ? O.alwaysShown : void 0, o ? O.iconWithChannelInfo : O.iconNoChannelInfo),
                    ...e,
                    onClick: L,
                    tabIndex: s,
                    "aria-label": A,
                    children: v
                })
            })
        }
        function G(e) {
            let {channel: t} = e
              , n = ()=>{
                (0,
                g.dimissFavoriteSuggestion)(t.guild_id, t.id)
            }
            ;
            return (0,
            r.jsx)(h.Tooltip, {
                text: y.default.Messages.REMOVE_FAVORITE_SUGGESTION,
                children: e=>(0,
                r.jsx)(h.Clickable, {
                    className: O.iconItem,
                    ...e,
                    onClick: n,
                    "aria-label": y.default.Messages.REMOVE_FAVORITE_SUGGESTION,
                    children: (0,
                    r.jsx)(v.default, {
                        width: 16,
                        height: 16,
                        className: O.actionIcon
                    })
                })
            })
        }
        function U(e) {
            let {channel: t} = e
              , n = ()=>{
                (0,
                g.setIsFavorite)(t.guild_id, t.id, !0, {
                    section: M.AnalyticsSections.CHANNEL_LIST
                })
            }
            ;
            return (0,
            r.jsx)(h.Tooltip, {
                text: y.default.Messages.ADD_FAVORITE,
                children: e=>(0,
                r.jsx)(h.Clickable, {
                    className: O.iconItem,
                    ...e,
                    onClick: n,
                    "aria-label": y.default.Messages.ADD_FAVORITE,
                    children: (0,
                    r.jsx)(L.default, {
                        width: 16,
                        height: 16,
                        className: O.actionIcon
                    })
                })
            })
        }
        class w extends (i = o.PureComponent) {
            renderEditButton() {
                return (0,
                r.jsx)(j, {
                    ...this.props
                })
            }
            renderInviteButton() {
                return (0,
                r.jsx)(P, {
                    ...this.props
                })
            }
            renderRemoveSuggestionButton() {
                return (0,
                r.jsx)(G, {
                    ...this.props
                })
            }
            renderAcceptSuggestionButton() {
                return (0,
                r.jsx)(U, {
                    ...this.props
                })
            }
            getClassName() {
                let {position: e, sortingPosition: t} = this.props;
                return D(e, t)
            }
            isDisabled() {
                let {channel: e, sorting: t, sortingType: n} = this.props;
                return b(e, t, n)
            }
        }
        s = {
            isDefaultChannel: !1
        },
        (a = "defaultProps")in (l = w) ? Object.defineProperty(l, a, {
            value: s,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : l[a] = s
    },
    648501: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return x
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("692547")
          , i = n("481060")
          , r = n("619915")
          , o = n("456269")
          , u = n("921711")
          , d = n("71275")
          , c = n("601070")
          , f = n("430824")
          , h = n("496675")
          , m = n("306680")
          , C = n("979651")
          , p = n("968358")
          , g = n("790901")
          , E = n("714794")
          , S = n("355363")
          , _ = n("687352")
          , I = n("135724")
          , N = n("25601")
          , T = n("981631")
          , A = n("490897")
          , L = n("689938")
          , v = n("658609");
        function x(e) {
            var t;
            let {channel: n, isChannelSelected: x, isChannelCollapsed: R, voiceStates: M, enableConnectedUserLimit: y, enableActivities: O, isSubscriptionGated: b, needSubscriptionToAccess: D, isNewChannel: j, muted: P, resolvedUnreadSetting: G} = e
              , U = (0,
            a.useStateFromStores)([m.default], ()=>m.default.getMentionCount(n.id))
              , w = (0,
            r.default)(n)
              , B = (0,
            a.useStateFromStores)([h.default], ()=>!h.default.can(T.Permissions.CONNECT, n))
              , F = (0,
            a.useStateFromStores)([C.default], ()=>C.default.hasVideo(n.id))
              , V = (0,
            d.useStageHasMedia)(n.id) && n.isGuildStageVoice()
              , H = (0,
            S.default)({
                channel: n,
                locked: B,
                video: F || V,
                selected: x
            })
              , k = (0,
            a.useStateFromStores)([c.default], ()=>c.default.getNewThreadCount(n.guild_id, n.id))
              , Y = (0,
            o.useUnreadThreadsCountForParent)(n.guild_id, n.id)
              , K = (0,
            a.useStateFromStores)([f.default], ()=>{
                var e, t;
                return null !== (t = null === (e = f.default.getGuild(n.guild_id)) || void 0 === e ? void 0 : e.hasFeature(T.GuildFeatures.COMMUNITY)) && void 0 !== t && t
            }
            );
            if ((0,
            E.default)(U))
                return (0,
                l.jsx)(N.default, {
                    mentionsCount: U
                });
            if ((0,
            u.showPremiumChannelIconButton)(b))
                return (0,
                l.jsx)(u.default, {
                    locked: D
                });
            if (j)
                return (0,
                l.jsx)(i.TextBadge, {
                    text: L.default.Messages.NEW,
                    color: s.default.unsafe_rawColors.BRAND_260.css,
                    className: v.newChannel
                });
            if (!P && G === A.UnreadSetting.ALL_MESSAGES && n.isForumLikeChannel() && null != k && k > 0)
                return (0,
                l.jsx)(i.Text, {
                    variant: "text-xs/semibold",
                    color: "text-brand",
                    children: L.default.Messages.CHANNEL_NEW_POSTS_LABEL.format({
                        count: (0,
                        i.getBadgeCountString)(k)
                    })
                });
            if (!P && n.isForumLikeChannel() && null != Y && Y > 0)
                return (0,
                l.jsx)(i.Text, {
                    variant: "text-xs/semibold",
                    color: "text-muted",
                    children: (0,
                    i.getBadgeCountString)(Y)
                });
            let W = null !== (t = null == M ? void 0 : M.length) && void 0 !== t ? t : 0;
            return null != y && y && H ? (0,
            l.jsx)(I.default, {
                userCount: W,
                video: F || V,
                channel: n
            }) : R && (0,
            p.hasStream)(M) && K ? (0,
            l.jsx)(i.TextBadge, {
                text: L.default.Messages.LIVE,
                color: s.default.unsafe_rawColors.RED_400.css
            }) : null != O && O && (0,
            g.showChannelItemEmbeddedActivities)(w) ? (0,
            l.jsx)(_.default, {
                embeddedApps: w,
                muted: P
            }) : null
        }
    },
    687352: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return u
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("481060")
          , r = n("366695")
          , o = n("846801");
        function u(e) {
            let {className: t, embeddedApps: n, muted: a} = e;
            if (n.length <= 0)
                return null;
            {
                if (1 === n.length)
                    return (0,
                    l.jsx)("div", {
                        className: s()(o.container, t, a && o.modeMuted),
                        children: (0,
                        l.jsx)(r.default, {
                            game: n[0].application,
                            className: o.icon20px
                        })
                    });
                let e = n.length - 1;
                return (0,
                l.jsxs)("div", {
                    className: s()(o.container, t, a && o.modeMuted),
                    children: [(0,
                    l.jsx)(r.default, {
                        game: n[0].application,
                        className: o.icon20px
                    }), 2 === n.length ? (0,
                    l.jsx)(r.default, {
                        game: n[1].application,
                        className: o.icon20px
                    }) : (0,
                    l.jsx)(i.Text, {
                        className: o.overflow,
                        variant: "text-xs/bold",
                        color: "interactive-active",
                        children: "+".concat(e)
                    })]
                })
            }
        }
    },
    373274: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            FavoritesChannelList: function() {
                return ed
            },
            GuildChannelList: function() {
                return ec
            }
        }),
        n("47120"),
        n("653041");
        var l, a = n("735250"), s = n("470079"), i = n("392711"), r = n.n(i), o = n("924826"), u = n("442837"), d = n("481060"), c = n("925549"), f = n("260300"), h = n("410575"), m = n("607070"), C = n("100527"), p = n("906732"), g = n("362658"), E = n("583962"), S = n("915885"), _ = n("258871"), I = n("216306"), N = n("398758"), T = n("220444"), A = n("31022"), L = n("10401"), v = n("131704"), x = n("592125"), R = n("796974"), M = n("984933"), y = n("914010"), O = n("153124"), b = n("540126"), D = n("734307"), j = n("854444"), P = n("688265"), G = n("896053"), U = n("301342"), w = n("906817"), B = n("429122"), F = n("285573"), V = n("519358"), H = n("910595"), k = n("466935"), Y = n("120818"), K = n("61642"), W = n("848442"), z = n("53425"), Z = n("424785"), X = n("770202"), q = n("79556"), Q = n("428127"), J = n("950969"), $ = n("233657"), ee = n("831700"), et = n("443063"), en = n("327530"), el = n("981631"), ea = n("176505"), es = n("689938"), ei = n("333960");
        function er(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        class eo extends (l = s.PureComponent) {
            componentDidMount() {
                this.setState({
                    initialized: !0
                })
            }
            componentWillUnmount() {
                this.updateChannelListScroll.cancel()
            }
            componentDidUpdate(e, t) {
                let {scrollToChannel: n, guildId: l, selectedChannelId: a} = this.props
                  , {initialized: s} = this.state
                  , {scrollTop: i} = R.default.getGuildDimensions(l);
                null != n ? (this.scrollToChannel(n),
                c.default.clearChannelListScrollTo(l)) : l !== e.guildId ? null != i && this.scrollTo(i) : a !== e.selectedChannelId ? this.scrollToChannel(a) : !t.initialized && s && (null == i && null != a ? this.scrollToChannel(a, !1, en.SCROLL_TO_SPACER, this.handleListScroll) : this.scrollTo(null != i ? i : 0, this.handleListScroll)),
                this.testShouldSkipTutorial()
            }
            getSectionRowsFromChannel(e) {
                return this.props.guildChannels.getSectionRowsFromChannel(e)
            }
            scrollTo(e, t) {
                var n;
                null === (n = this._list) || void 0 === n || n.scrollTo({
                    to: e,
                    animate: !1,
                    callback: t
                })
            }
            scrollToChannel(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]
                  , n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : en.SCROLL_TO_SPACER
                  , l = arguments.length > 3 ? arguments[3] : void 0
                  , a = this._list
                  , s = this.getSectionRowsFromChannel(e)[0];
                if (null != s && null != a) {
                    if (null != s.threadOffset) {
                        let[e] = a.getScrollPosition(s.section, s.row)
                          , i = s.threadOffset * en.HEIGHT_CHANNEL;
                        a.scrollIntoViewRect({
                            start: e + i,
                            end: e + i + en.HEIGHT_CHANNEL,
                            padding: n,
                            animate: t,
                            callback: l
                        })
                    } else
                        a.scrollToIndex({
                            section: s.section,
                            row: s.row,
                            animate: t,
                            padding: n,
                            callback: l
                        })
                } else
                    null == l || l()
            }
            isUnreadVisible() {
                let {guildChannels: e} = this.props
                  , t = this._list;
                return null != t && t.getItems().some(n=>{
                    if ("row" !== n.type)
                        return !1;
                    let {section: l, row: a} = n;
                    if (l < b.SECTION_INDEX_UNCATEGORIZED_CHANNELS || e.isPlaceholderRow(l, a))
                        return !1;
                    let s = e.getChannelFromSectionRow(l, a);
                    if (null == s)
                        return !1;
                    let {channel: i, category: r} = s;
                    return !!(0,
                    v.isGuildReadableType)(i.record.type) && (!r.isCollapsed || !r.isMuted) && !i.isMuted && !!t.isItemVisible(l, a, !0) && (0,
                    T.getHasImportantUnread)(i.record)
                }
                )
            }
            renderTopUnread() {
                let {topMention: e, bottomUnread: t, bottomMention: n, isUnreadVisible: l} = this.state
                  , {guildId: s, guildChannels: i, guildChannelsVersion: r} = this.props;
                return (0,
                a.jsx)("div", {
                    className: ei.positionedContainer,
                    children: (0,
                    a.jsx)(J.default, {
                        ref: this.unreadTopRef,
                        textUnread: es.default.Messages.NEW_UNREADS,
                        textMention: es.default.Messages.NEW_MENTIONS,
                        hide: null == e && (l || null != t || null != n),
                        className: ei.unreadTop,
                        barClassName: ei.unreadBar,
                        guildId: s,
                        guildChannels: i,
                        guildChannelsVersion: r,
                        isVisible: this.isChannelVisible,
                        onJumpTo: this.jumpToChannelWithMentionsAndUnreads,
                        onCalculate: this.handleUnreadCalculate
                    })
                })
            }
            renderBottomUnread() {
                let {guildId: e, guildChannels: t, guildChannelsVersion: n} = this.props
                  , {bottomMention: l, isUnreadVisible: s} = this.state;
                return (0,
                a.jsx)(J.default, {
                    reverse: !0,
                    ref: this.unreadBottomRef,
                    textUnread: es.default.Messages.NEW_UNREADS,
                    textMention: es.default.Messages.NEW_MENTIONS,
                    hide: null == l && s,
                    className: ei.unreadBottom,
                    barClassName: ei.unreadBar,
                    guildId: e,
                    guildChannels: t,
                    guildChannelsVersion: n,
                    isVisible: this.isChannelVisible,
                    onJumpTo: this.jumpToChannelWithMentionsAndUnreads,
                    onCalculate: this.handleUnreadCalculate
                })
            }
            renderList() {
                let {guildChannels: e, guild: t, guildBanner: n, hasGuildSubheader: l} = this.props
                  , {ref: s, ...i} = this.context
                  , r = 0;
                return null != n ? r = en.SERVER_BANNER_PADDING : t.hasCommunityInfoSubheader() && !l && (r = en.SERVER_COMMUNITY_INFO_PADDING),
                (0,
                a.jsx)(d.FocusJumpSection, {
                    children: t=>(0,
                    a.jsx)(d.List, {
                        ref: this.setListRef,
                        className: ei.scroller,
                        fade: !0,
                        customTheme: !0,
                        sectionHeight: this.getSectionHeight,
                        footerHeight: this.getSectionFooterHeight,
                        rowHeight: this.getRowHeight,
                        paddingTop: r,
                        paddingBottom: en.HEIGHT_BUFFER,
                        renderSection: this.renderSection,
                        renderFooter: this.renderSectionFooter,
                        renderRow: this.renderRow,
                        onScroll: this.handleListScroll,
                        onResize: this.handleResize,
                        onContentResize: this.handleResize,
                        sections: e.getSections(),
                        innerAriaLabel: es.default.Messages.CHANNELS,
                        innerTag: "ul",
                        getAnchorId: this.getAnchorId,
                        ...i,
                        ...t
                    }, "guild-channels")
                })
            }
            render() {
                let {guildChannels: e, guildChannelsVersion: t, showNewUnreadsBar: n} = this.props;
                return (0,
                a.jsx)(s.Fragment, {
                    children: (0,
                    a.jsx)(O.UID, {
                        children: l=>(0,
                        a.jsx)(d.HeadingLevel, {
                            component: (0,
                            a.jsx)(d.HiddenVisually, {
                                children: (0,
                                a.jsx)(d.H, {
                                    id: l,
                                    children: es.default.Messages.CHANNELS
                                })
                            }),
                            children: n ? (0,
                            a.jsxs)(s.Fragment, {
                                children: [(0,
                                a.jsx)("div", {
                                    className: ei.positionedContainer,
                                    children: (0,
                                    a.jsx)(Q.default, {
                                        position: "top",
                                        guildChannels: e,
                                        guildChannelsVersion: t,
                                        jumpToVoiceChannels: this.jumpToVoiceChannels,
                                        jumpToChannel: this.jumpToChannel
                                    })
                                }), this.renderList(), (0,
                                a.jsx)(Q.default, {
                                    position: "bottom",
                                    guildChannels: e,
                                    guildChannelsVersion: t,
                                    jumpToVoiceChannels: this.jumpToVoiceChannels,
                                    jumpToChannel: this.jumpToChannel
                                })]
                            }) : (0,
                            a.jsxs)(s.Fragment, {
                                children: [this.renderTopUnread(), this.renderList(), this.renderBottomUnread()]
                            })
                        })
                    })
                })
            }
            constructor(...e) {
                super(...e),
                er(this, "_list", null),
                er(this, "unreadTopRef", s.createRef()),
                er(this, "unreadBottomRef", s.createRef()),
                er(this, "state", {
                    initialized: !1,
                    isUnreadVisible: !0,
                    topUnread: null,
                    topMention: null,
                    bottomUnread: null,
                    bottomMention: null
                }),
                er(this, "setListRef", e=>{
                    var t;
                    let {ref: n} = this.context;
                    n.current = null !== (t = null == e ? void 0 : e.getScrollerNode()) && void 0 !== t ? t : null,
                    this._list = e
                }
                ),
                er(this, "jumpToVoiceChannels", ()=>{
                    var e, t, n, l;
                    let {guildChannels: a, voiceStates: s} = this.props
                      , i = 0
                      , r = null !== (n = null === (e = a.getCategoryFromSection(a.voiceChannelsSectionNumber)) || void 0 === e ? void 0 : e.getShownChannelIds()) && void 0 !== n ? n : [];
                    for (let e = 0; e < r.length - 1; e++)
                        if ((null !== (l = s[r[e]]) && void 0 !== l ? l : []).length > 0) {
                            i = e + 1;
                            break
                        }
                    null === (t = this._list) || void 0 === t || t.scrollToIndex({
                        section: a.voiceChannelsSectionNumber,
                        row: i,
                        animate: !0,
                        padding: en.SCROLL_TO_SPACER
                    })
                }
                ),
                er(this, "jumpToChannel", e=>this.scrollToChannel(e, !0, en.SCROLL_TO_UNREAD_BUFFER)),
                er(this, "jumpToChannelWithMentionsAndUnreads", (e,t)=>{
                    let[n,l] = t;
                    return this.scrollToChannel(e, !0, null != n && null != l ? en.SCROLL_TO_UNREAD_BUFFER : en.SCROLL_TO_SPACER)
                }
                ),
                er(this, "isChannelVisible", (e,t)=>{
                    let n = this.getSectionRowsFromChannel(e)
                      , l = this._list;
                    if (null == l)
                        return !1;
                    for (let {row: e, section: a} of n) {
                        let[n,s] = l.getScrollPosition(a, e)
                          , i = l.getScrollerState();
                        if (t && n + s < i.scrollTop + i.offsetHeight)
                            return !0;
                        if (!t && n > i.scrollTop)
                            return !0
                    }
                    return !1
                }
                ),
                er(this, "getVisibleChannels", ()=>{
                    let e = this._list;
                    if (null == e)
                        return [];
                    let t = e.getItems()
                      , n = e.getScrollerState()
                      , l = [];
                    for (var a = 0; a < t.length; a++) {
                        let s = t[a];
                        if ((0,
                        d.isListItemRow)(s) && s.section >= this.props.guildChannels.favoritesSectionNumber) {
                            let t = this.props.guildChannels.getChannelFromSectionRow(s.section, s.row)
                              , [a,i] = e.getScrollPosition(s.section, s.row);
                            null != t && a + i < n.scrollTop + n.offsetHeight && a > n.scrollTop && l.push(t.channel.id)
                        }
                    }
                    return l
                }
                ),
                er(this, "handleResize", ()=>{
                    var e, t;
                    let {showNewUnreadsBar: n} = this.props
                      , l = null !== (t = null === (e = this._list) || void 0 === e ? void 0 : e.getScrollerState()) && void 0 !== t ? t : null;
                    if (this.setState({
                        isUnreadVisible: this.isUnreadVisible()
                    }),
                    n && null != l) {
                        let {scrollTop: e} = l;
                        this.updateChannelListScroll(e)
                    }
                }
                ),
                er(this, "handleListScroll", ()=>{
                    var e, t;
                    let {onScroll: n} = this.props
                      , l = null !== (t = null === (e = this._list) || void 0 === e ? void 0 : e.getScrollerState()) && void 0 !== t ? t : null;
                    if (null != l) {
                        let {scrollTop: e} = l;
                        null != n && n(l),
                        this.updateChannelListScroll(e)
                    }
                    null != this.unreadTopRef.current && this.unreadTopRef.current.calculateState(),
                    null != this.unreadBottomRef.current && this.unreadBottomRef.current.calculateState()
                }
                ),
                er(this, "handleUnreadCalculate", (e,t,n)=>{
                    let l = this.isUnreadVisible();
                    n ? this.setState({
                        isUnreadVisible: l,
                        bottomUnread: t,
                        bottomMention: e
                    }) : this.setState({
                        isUnreadVisible: l,
                        topUnread: t,
                        topMention: e
                    })
                }
                ),
                er(this, "updateChannelListScroll", r().throttle(e=>{
                    c.default.updateChannelListScroll(this.props.guildId, e, this.getVisibleChannels())
                }
                , 100)),
                er(this, "getSectionHeight", e=>{
                    let {guild: t, guildChannels: n} = this.props;
                    return (0,
                    w.getChannelListSectionHeight)(e, t, n)
                }
                ),
                er(this, "getSectionFooterHeight", e=>{
                    let {guildChannels: t, voiceStates: n, selectedVoiceChannelId: l, selectedChannelId: a, optInEnabled: s, guildChannelsVersion: i} = this.props;
                    return (0,
                    B.getChannelListSectionFooterHeight)({
                        sectionIndex: e,
                        guildChannels: t,
                        guildChannelsVersion: i,
                        voiceStates: n,
                        selectedChannelId: a,
                        selectedVoiceChannelId: l,
                        optInEnabled: s
                    })
                }
                ),
                er(this, "getRowHeight", (e,t)=>{
                    let {guildChannels: n, voiceStates: l, stageChannelSpeakerVoiceStates: a, selectedVoiceChannelId: s, selectedGuildId: i} = this.props
                      , r = en.HEIGHT_CHANNEL;
                    if (e === b.SECTION_INDEX_COMMUNITY) {
                        let e = n.getCommunitySection();
                        return e.isEmpty() ? 0 : e.getRow(t) === et.ChannelListCommunityRow.GUILD_PREMIUM_PROGRESS_BAR ? e.getRows().length > 1 ? E.PROGRESS_BAR_CONTAINER_HEIGHT_WITH_MARGIN : E.PROGRESS_BAR_CONTAINER_HEIGHT : r
                    }
                    if (n.isPlaceholderRow(e, t))
                        return 0;
                    let o = n.getChannelFromSectionRow(e, t);
                    if (null == o)
                        return 0;
                    let {channel: u, category: d} = o;
                    if (u.record.type === el.ChannelTypes.GUILD_CATEGORY)
                        return 40;
                    let {isFavoritesPerk: c} = g.default.getCurrentConfig({
                        location: "channel_list"
                    }, {
                        autoTrackExposure: !0
                    });
                    for (let e of (c && i === el.FAVORITES && !u.record.isDM() && !u.record.isGroupDM() && !u.record.isGuildStageVoice() && (r = en.HEIGHT_CHANNEL_FAVORITES),
                    u.threadIds)) {
                        r += en.HEIGHT_CHANNEL;
                        let t = l[u.id];
                        null != t && t.length > 0 && (r += (s === e ? t.length * en.HEIGHT_USER : en.HEIGHT_USER) + en.HEIGHT_USER_PADDING)
                    }
                    if (u.record.isGuildVoice()) {
                        let e = l[u.id];
                        if (null != e && e.length > 0) {
                            let t = e.length * en.HEIGHT_USER;
                            (u.isCollapsed || d.isCollapsed) && (t = en.HEIGHT_USER),
                            r += t + en.HEIGHT_USER_PADDING
                        }
                        u.id === this.props.rtcConnectedChannelId && (r += this.props.rtcDesyncedVoiceStatesCount * en.HEIGHT_USER)
                    }
                    if (null != u.subtitle && (r += en.HEIGHT_CHANNEL_SUBTITLE),
                    u.record.isGuildStageVoice()) {
                        var f, h;
                        let e = null !== (f = l[u.id]) && void 0 !== f ? f : []
                          , t = null !== (h = a[u.id]) && void 0 !== h ? h : [];
                        if (null != e && e.length > 0) {
                            let e = t.length * en.HEIGHT_USER;
                            u.isCollapsed || d.isCollapsed ? e = Math.ceil(e / en.COLLAPSED_USERS_PER_ROW) : e += en.HEIGHT_USER,
                            r += e + en.HEIGHT_USER_PADDING
                        }
                    }
                    return r
                }
                ),
                er(this, "dismissRecents", ()=>{
                    let {guild: e, guildChannels: t, selectedChannelId: n} = this.props
                      , l = t.getCategoryFromSection(t.recentsSectionNumber);
                    if (null == l)
                        return;
                    let a = null
                      , s = l.getShownChannelAndThreadIds();
                    null != n && s.includes(n) && (a = (0,
                    I.getFirstRouteFor)(t)),
                    (0,
                    I.clearRecentChannels)(e.id, s, a)
                }
                ),
                er(this, "renderSection", e=>{
                    let {section: t} = e
                      , {guildChannels: n, guildChannelsVersion: l, guild: s, selectedChannelId: i, disableManageChannels: r} = this.props;
                    return (0,
                    a.jsx)(w.default, {
                        sectionIndex: t,
                        guild: s,
                        guildChannels: n,
                        guildChannelsVersion: l,
                        selectedChannelId: i,
                        disableManageChannels: r
                    }, (0,
                    w.getKeyForSection)(t, n))
                }
                ),
                er(this, "renderRow", e=>{
                    let {section: t, row: n} = e
                      , {guild: l, selectedChannel: i, selectedChannelId: r, selectedVoiceChannel: o, selectedVoiceChannelId: u, guildChannels: d, voiceStates: c, disableManageChannels: f, stageChannelSpeakerVoiceStates: h, optInEnabled: m, withGuildIcon: C} = this.props;
                    if (t === b.SECTION_INDEX_COMMUNITY) {
                        let e = d.getCommunitySection()
                          , t = e.getRow(n);
                        if (null == t)
                            return null;
                        switch (t) {
                        case et.ChannelListCommunityRow.GUILD_HUB_HEADER_OPTIONS:
                            return (0,
                            a.jsx)(_.default, {
                                guild: l,
                                channel: M.default.getDefaultChannel(l.id)
                            }, et.ChannelListCommunityRow.GUILD_HUB_HEADER_OPTIONS);
                        case et.ChannelListCommunityRow.GUILD_PREMIUM_PROGRESS_BAR:
                            let s = e.getRows();
                            return (0,
                            a.jsx)(E.default, {
                                guild: l,
                                withMargin: s.length > 1
                            }, et.ChannelListCommunityRow.GUILD_PREMIUM_PROGRESS_BAR);
                        case et.ChannelListCommunityRow.GUILD_HOME:
                            return (0,
                            a.jsx)(H.default, {
                                guild: l,
                                selected: r === ea.StaticChannelRoute.GUILD_HOME
                            }, et.ChannelListCommunityRow.GUILD_HOME);
                        case et.ChannelListCommunityRow.GUILD_SCHEDULED_EVENTS:
                            return (0,
                            a.jsx)($.default, {
                                guild: l,
                                selected: r === et.ChannelListCommunityRow.GUILD_SCHEDULED_EVENTS
                            }, et.ChannelListCommunityRow.GUILD_SCHEDULED_EVENTS);
                        case et.ChannelListCommunityRow.GUILD_ROLE_SUBSCRIPTIONS:
                            return (0,
                            a.jsx)(K.default, {
                                guild: l,
                                selected: r === ea.StaticChannelRoute.ROLE_SUBSCRIPTIONS
                            }, et.ChannelListCommunityRow.GUILD_ROLE_SUBSCRIPTIONS);
                        case et.ChannelListCommunityRow.GUILD_SHOP:
                            return (0,
                            a.jsx)(W.default, {
                                guild: l,
                                selected: r === ea.StaticChannelRoute.GUILD_SHOP
                            }, et.ChannelListCommunityRow.GUILD_SHOP);
                        case et.ChannelListCommunityRow.GUILD_MEMBER_APPLICATIONS:
                            return (0,
                            a.jsx)(k.default, {
                                guild: l,
                                selected: r === ea.StaticChannelRoute.MEMBER_APPLICATIONS
                            }, et.ChannelListCommunityRow.GUILD_MEMBER_APPLICATIONS);
                        case et.ChannelListCommunityRow.GUILD_NEW_MEMBER_ACTIONS_PROGRESS_BAR:
                            return (0,
                            a.jsx)(Y.GuildNewMemberActionsProgressBar, {
                                guild: l
                            });
                        case et.ChannelListCommunityRow.CHANNELS_AND_ROLES:
                            return (0,
                            a.jsx)(V.GuildBrowseChannelsRow, {
                                guild: l,
                                selected: r === ea.StaticChannelRoute.CHANNEL_BROWSER || r === ea.StaticChannelRoute.CUSTOMIZE_COMMUNITY
                            }, et.ChannelListCommunityRow.CHANNELS_AND_ROLES);
                        case et.ChannelListCommunityRow.GUILD_DIRECTORY:
                            return (0,
                            a.jsx)(F.default, {
                                guild: l,
                                selectedChannelId: r,
                                disableManageChannels: f
                            }, et.ChannelListCommunityRow.GUILD_DIRECTORY);
                        case et.ChannelListCommunityRow.GUILD_MOD_DASH_MEMBER_SAFETY:
                            return (0,
                            a.jsx)(S.default, {
                                guild: l,
                                selected: r === ea.StaticChannelRoute.MEMBER_SAFETY
                            }, et.ChannelListCommunityRow.GUILD_MOD_DASH_MEMBER_SAFETY);
                        default:
                            return null
                        }
                    }
                    if (d.isPlaceholderRow(t, n))
                        return null;
                    let p = d.getChannelFromSectionRow(t, n);
                    if (null == p)
                        return null;
                    let {category: g, channel: I} = p
                      , N = g instanceof b.ChannelListFavoritesCategory
                      , T = I.record
                      , A = "".concat(t).concat(I.id);
                    switch (T.type) {
                    case el.ChannelTypes.GUILD_ANNOUNCEMENT:
                    case el.ChannelTypes.GUILD_TEXT:
                    case el.ChannelTypes.GUILD_FORUM:
                    case el.ChannelTypes.GUILD_MEDIA:
                    case el.ChannelTypes.DM:
                    case el.ChannelTypes.GROUP_DM:
                        return (0,
                        a.jsxs)(s.Fragment, {
                            children: [(0,
                            a.jsx)(q.default, {
                                channel: T,
                                guild: l,
                                position: I.position,
                                selected: r === I.id,
                                muted: I.isMuted,
                                subtitle: I.subtitle,
                                disableManageChannels: f,
                                canBeNewChannel: m && t === d.recentsSectionNumber,
                                isFavoriteCategory: N,
                                withGuildIcon: C
                            }), I.threadCount > 0 ? (0,
                            a.jsx)(z.default, {
                                withGuildIcon: C,
                                channel: T,
                                sortedThreadIds: I.threadIds,
                                selectedChannel: null != i && (i.id === I.id || i.parent_id === T.id) ? i : null,
                                selectedVoiceChannelId: (null == o ? void 0 : o.parent_id) === T.id ? u : null
                            }) : null]
                        }, A);
                    case el.ChannelTypes.GUILD_STAGE_VOICE:
                        var L, v;
                        return (0,
                        a.jsx)(Z.default, {
                            channel: T,
                            guild: l,
                            position: I.position,
                            selected: r === I.id,
                            connected: u === I.id,
                            collapsed: I.isCollapsed || g.isCollapsed,
                            voiceStates: null !== (L = c[I.id]) && void 0 !== L ? L : [],
                            speakerVoiceStates: null !== (v = h[I.id]) && void 0 !== v ? v : [],
                            disableManageChannels: f,
                            isFavoriteCategory: N
                        }, A);
                    case el.ChannelTypes.GUILD_VOICE:
                        return (0,
                        a.jsx)(ee.default, {
                            channel: T,
                            guild: l,
                            position: I.position,
                            selected: r === I.id,
                            connected: u === I.id,
                            collapsed: I.isCollapsed || g.isCollapsed,
                            voiceStates: c[I.id],
                            subtitle: I.subtitle,
                            disableManageChannels: f,
                            showTutorial: I.isFirstVoiceChannel,
                            isFavoriteCategory: N,
                            withGuildIcon: C
                        }, A);
                    case el.ChannelTypes.GUILD_STORE:
                        return (0,
                        a.jsx)(X.default, {
                            channel: T,
                            guild: l,
                            position: I.position,
                            selected: r === I.id
                        }, A);
                    case el.ChannelTypes.GUILD_CATEGORY:
                        if (t !== d.voiceChannelsSectionNumber)
                            return null;
                        return (0,
                        a.jsx)(U.ReadonlyCategoryChannel, {
                            channel: T
                        }, "readonly-".concat(T.id));
                    case el.ChannelTypes.PUBLIC_THREAD:
                    case el.ChannelTypes.PRIVATE_THREAD:
                        return (0,
                        a.jsx)(q.default, {
                            channel: T,
                            guild: l,
                            position: I.position,
                            selected: r === I.id,
                            muted: I.isMuted,
                            subtitle: I.subtitle,
                            disableManageChannels: f,
                            canBeNewChannel: !1,
                            isFavoriteCategory: !1,
                            forceTopLevelThread: !0
                        }, A);
                    default:
                        return null
                    }
                }
                ),
                er(this, "renderSectionFooter", e=>{
                    let {section: t} = e
                      , {guildChannels: n, guildChannelsVersion: l, voiceStates: s, selectedChannelId: i, selectedVoiceChannelId: r, optInEnabled: o, guildId: u} = this.props;
                    return (0,
                    a.jsx)(B.default, {
                        guildId: u,
                        guildChannels: n,
                        guildChannelsVersion: l,
                        sectionIndex: t,
                        voiceStates: s,
                        selectedChannelId: i,
                        selectedVoiceChannelId: r,
                        optInEnabled: o
                    }, (0,
                    B.getKeyForSectionFooter)(t, n, o))
                }
                ),
                er(this, "getAnchorId", (e,t)=>{
                    var n, l, a;
                    let {guildChannels: s} = this.props;
                    if (e !== b.SECTION_INDEX_COMMUNITY) {
                        if (null == t)
                            return e === b.SECTION_INDEX_FAVORITES ? "favorites-header" : e === s.recentsSectionNumber ? "recents-header" : e === s.voiceChannelsSectionNumber ? "voice-channels" : e === b.SECTION_INDEX_UNCATEGORIZED_CHANNELS ? "uncategorized-header" : null === (a = s.getNamedCategoryFromSection(e)) || void 0 === a ? void 0 : a.id;
                        if (!s.isPlaceholderRow(e, t))
                            return null === (l = s.getChannelFromSectionRow(e, t)) || void 0 === l ? void 0 : null === (n = l.channel) || void 0 === n ? void 0 : n.id
                    }
                }
                ),
                er(this, "testShouldSkipTutorial", ()=>{
                    if (!L.default.shouldShow("voice-conversations"))
                        return;
                    let {guildChannels: e} = this.props
                      , t = e.getFirstVoiceChannel();
                    if (null == t) {
                        f.default.dismiss("voice-conversations");
                        return
                    }
                    let n = this._list;
                    if (null != n)
                        for (let {section: e, row: l} of this.getSectionRowsFromChannel(t.id))
                            !n.isItemVisible(e, l) && f.default.dismiss("voice-conversations")
                }
                )
            }
        }
        er(eo, "contextType", o.ListContainerContext);
        let eu = e=>{
            let {guildId: t, selectedChannelId: n, selectedVoiceChannelId: l} = e
              , i = (0,
            u.useStateFromStores)([m.default], ()=>m.default.keyboardModeEnabled)
              , {analyticsLocations: r} = (0,
            p.default)(C.default.GUILD_CHANNEL_LIST)
              , d = (0,
            u.useStateFromStores)([x.default], ()=>x.default.getChannel(n))
              , c = (0,
            u.useStateFromStores)([x.default], ()=>x.default.getChannel(l))
              , f = (0,
            u.useStateFromStores)([y.default], ()=>y.default.getGuildId())
              , g = (0,
            N.useOptInEnabledForGuild)(t)
              , E = s.useRef(null)
              , S = s.useCallback((e,t)=>{
                let n = E.current;
                if (null != n) {
                    if (el.ID_REGEX.test(t) || (0,
                    ea.isStaticChannelRoute)(t))
                        n.scrollToChannel(t, !1, 2 * en.SCROLL_TO_SPACER, ()=>{
                            requestAnimationFrame(()=>{
                                var t;
                                return null === (t = document.querySelector(e)) || void 0 === t ? void 0 : t.focus()
                            }
                            )
                        }
                        );
                    else {
                        var l;
                        null === (l = document.querySelector(e)) || void 0 === l || l.focus()
                    }
                }
            }
            , [])
              , _ = s.useCallback(()=>new Promise(e=>{
                let t = E.current;
                if (null == t)
                    return e();
                t.scrollTo(0, ()=>requestAnimationFrame(()=>e()))
            }
            ), [])
              , I = s.useCallback(()=>new Promise(e=>{
                let t = E.current;
                if (null == t)
                    return e();
                t.scrollTo(Number.MAX_SAFE_INTEGER, ()=>requestAnimationFrame(()=>e()))
            }
            ), [])
              , T = (0,
            o.default)({
                id: "channels",
                defaultFocused: null != n ? n : void 0,
                isEnabled: i,
                setFocus: S,
                scrollToStart: _,
                scrollToEnd: I
            })
              , L = T.setFocus;
            s.useEffect(()=>{
                null != n && L(n)
            }
            , [n, L]);
            let v = (0,
            A.default)(t);
            return (0,
            a.jsx)(p.AnalyticsLocationProvider, {
                value: r,
                children: (0,
                a.jsx)(h.default, {
                    section: el.AnalyticsSections.GUILD_CHANNEL_LIST,
                    children: (0,
                    a.jsx)(o.ListNavigatorProvider, {
                        navigator: T,
                        children: (0,
                        a.jsx)(eo, {
                            ...e,
                            listNavigator: T,
                            ref: E,
                            selectedChannel: d,
                            selectedVoiceChannel: c,
                            stageChannelSpeakerVoiceStates: v,
                            selectedGuildId: f,
                            optInEnabled: g
                        })
                    })
                })
            })
        }
        ;
        function ed(e) {
            let t = (0,
            j.useFavoritesServerChannelList)()
              , {isFavoritesPerk: n} = (0,
            g.useFavoritesServerExperiment)("favorites-channel-list");
            return (0,
            a.jsx)(eu, {
                ...e,
                guildChannels: t,
                guildChannelsVersion: 0,
                withGuildIcon: n
            })
        }
        function ec(e) {
            let t = (0,
            G.default)(e.guild)
              , n = (0,
            P.default)(e.guild)
              , l = r().uniq(n.concat(t))
              , s = (0,
            u.useStateFromStoresObject)([D.default], ()=>D.default.getGuild(e.guildId, l));
            return (0,
            a.jsx)(eu, {
                ...e,
                ...s
            })
        }
    },
    327530: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            COLLAPSED_USERS_PER_ROW: function() {
                return C
            },
            HEIGHT_BUFFER: function() {
                return r
            },
            HEIGHT_CHANNEL: function() {
                return o
            },
            HEIGHT_CHANNEL_FAVORITES: function() {
                return u
            },
            HEIGHT_CHANNEL_SUBTITLE: function() {
                return d
            },
            HEIGHT_SECTION: function() {
                return s
            },
            HEIGHT_SECTION_DIVIDER: function() {
                return i
            },
            HEIGHT_USER: function() {
                return c
            },
            HEIGHT_USER_PADDING: function() {
                return f
            },
            SCROLL_TO_SPACER: function() {
                return l
            },
            SCROLL_TO_UNREAD_BUFFER: function() {
                return a
            },
            SERVER_BANNER_PADDING: function() {
                return h
            },
            SERVER_COMMUNITY_INFO_PADDING: function() {
                return m
            },
            TUTORIAL_INLINE_SPECS: function() {
                return p
            }
        });
        let l = 8
          , a = 32
          , s = 40
          , i = 12
          , r = 12
          , o = 34
          , u = 41.5
          , d = 16
          , c = 32
          , f = 8
          , h = 84
          , m = 16
          , C = 5
          , p = {
            origin: {
                x: -36,
                y: 7
            },
            targetWidth: 232,
            targetHeight: 40,
            offset: {
                x: 0,
                y: 0
            }
        }
    },
    906817: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            getChannelListSectionHeight: function() {
                return C
            },
            getKeyForSection: function() {
                return p
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("362658")
          , i = n("216306")
          , r = n("155409")
          , o = n("486458")
          , u = n("540126")
          , d = n("301342")
          , c = n("327530")
          , f = n("981631")
          , h = n("689938")
          , m = n("333960");
        function C(e, t, n) {
            if (e === u.SECTION_INDEX_COMMUNITY)
                return c.HEIGHT_BUFFER;
            if (e === u.SECTION_INDEX_UNCATEGORIZED_CHANNELS)
                return t.hasFeature(f.GuildFeatures.HUB) ? 0 : c.HEIGHT_BUFFER;
            if (e === n.voiceChannelsSectionNumber) {
                var l;
                let t = n.getCategoryFromSection(e);
                if (null == t || t.isEmpty())
                    return 0;
                if (t.isCollapsed)
                    return c.HEIGHT_SECTION + c.HEIGHT_SECTION_DIVIDER;
                let a = null === (l = n.getChannelFromSectionRow(e, 0)) || void 0 === l ? void 0 : l.channel;
                return null == a || a.record.type === f.ChannelTypes.GUILD_CATEGORY ? c.HEIGHT_SECTION_DIVIDER : 16 + c.HEIGHT_SECTION_DIVIDER
            }
            return c.HEIGHT_SECTION
        }
        function p(e, t) {
            switch (e) {
            case u.SECTION_INDEX_COMMUNITY:
                return "hoisted-spacer";
            case u.SECTION_INDEX_UNCATEGORIZED_CHANNELS:
                return "uncategorized-spacer";
            case u.SECTION_INDEX_FAVORITES:
                return "favorites";
            case t.recentsSectionNumber:
                return "recents-header";
            case t.voiceChannelsSectionNumber:
                return "voice-channels-header";
            default:
                {
                    let n = t.getNamedCategoryFromSection(e);
                    if (null != n)
                        return "category-".concat(n.id);
                    return "section-".concat(e)
                }
            }
        }
        t.default = a.memo(function(e) {
            let {sectionIndex: t, guild: n, guildChannels: C, guildChannelsVersion: p, selectedChannelId: g, disableManageChannels: E} = e
              , {isFavoritesPerk: S} = (0,
            s.useFavoritesServerExperiment)("ChannelListSection")
              , _ = a.useCallback(()=>{
                let e = C.getCategoryFromSection(C.recentsSectionNumber);
                if (null == e)
                    return;
                let t = null
                  , l = e.getShownChannelAndThreadIds();
                null != g && l.includes(g) && (t = (0,
                i.getFirstRouteFor)(C)),
                (0,
                i.clearRecentChannels)(n.id, l, t)
            }
            , [n.id, g, C, p]);
            switch (t) {
            case u.SECTION_INDEX_COMMUNITY:
                return (0,
                l.jsx)("div", {
                    style: {
                        height: c.HEIGHT_BUFFER
                    }
                });
            case u.SECTION_INDEX_UNCATEGORIZED_CHANNELS:
                if (n.hasFeature(f.GuildFeatures.HUB))
                    return null;
                return (0,
                l.jsx)("div", {
                    style: {
                        height: c.HEIGHT_BUFFER
                    }
                });
            case u.SECTION_INDEX_FAVORITES:
                return (0,
                l.jsx)(d.NonChannelCategory, {
                    name: S ? h.default.Messages.PINNED_CHANNELS : h.default.Messages.FAVORITES
                });
            case C.recentsSectionNumber:
                return (0,
                l.jsx)(d.NonChannelCategory, {
                    name: h.default.Messages.RECENTS_CATEGORY_HEADER,
                    onDismiss: _
                });
            case C.voiceChannelsSectionNumber:
                {
                    var I;
                    let e = C.getCategoryFromSection(C.voiceChannelsSectionNumber);
                    if (null == e || e.isEmpty())
                        return null;
                    let n = null === (I = C.getChannelFromSectionRow(t, 0)) || void 0 === I ? void 0 : I.channel;
                    return (0,
                    l.jsxs)(a.Fragment, {
                        children: [(0,
                        l.jsx)("div", {
                            className: m.sectionDivider
                        }), (0,
                        l.jsx)(d.VoiceChannelCategory, {
                            category: e,
                            channel: n
                        })]
                    })
                }
            case u.SECTION_INDEX_FIRST_NAMED_CATEGORY:
                {
                    let e = C.getNamedCategoryFromSection(t);
                    if (null == e)
                        return null;
                    return (0,
                    l.jsx)(d.default, {
                        channel: e.record,
                        position: e.position,
                        disableManageChannels: E,
                        children: (0,
                        l.jsx)(r.default, {
                            inlineSpecs: c.TUTORIAL_INLINE_SPECS,
                            arrowAlignment: o.ArrowAlignments.TOP,
                            tutorialId: "organize-by-topic",
                            position: "right"
                        })
                    })
                }
            default:
                {
                    let e = C.getNamedCategoryFromSection(t);
                    if (null == e)
                        return null;
                    return (0,
                    l.jsx)(d.default, {
                        channel: e.record,
                        position: e.position,
                        disableManageChannels: E
                    })
                }
            }
        })
    },
    429122: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            getChannelListSectionFooterHeight: function() {
                return h
            },
            getKeyForSectionFooter: function() {
                return m
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("602623")
          , i = n("934415")
          , r = n("540126")
          , o = n("700026")
          , u = n("301342")
          , d = n("327530")
          , c = n("333960");
        let f = a.memo(function(e) {
            let {guildChannels: t, guildChannelsVersion: n} = e
              , s = a.useMemo(()=>t.getCategoryFromSection(t.voiceChannelsSectionNumber), [t, n]);
            return null == s ? null : (0,
            l.jsx)(u.VoiceChannelCategoryButton, {
                category: s
            })
        });
        function h(e) {
            let {sectionIndex: t, guildChannels: n, voiceStates: l, selectedChannelId: a, selectedVoiceChannelId: s, optInEnabled: i} = e;
            if (t === n.voiceChannelsSectionNumber)
                return 44;
            let {hasDivider: u, canHaveVoiceSummary: c} = (0,
            o.getSectionFooterConfig)(n, i, t)
              , f = u ? d.HEIGHT_SECTION_DIVIDER : 0;
            if (!c || t === r.SECTION_INDEX_COMMUNITY)
                return f;
            let h = n.getNamedCategoryFromSection(t);
            return null == h ? f : (0,
            o.isSectionFooterWithActiveVoiceChannels)({
                category: h,
                selectedChannelId: a,
                selectedVoiceChannelId: s,
                voiceStates: l
            }) ? d.HEIGHT_CHANNEL + f : f
        }
        function m(e, t, n) {
            if (e === t.voiceChannelsSectionNumber)
                return "voice-channels-button";
            let {hasDivider: l, canHaveVoiceSummary: a} = (0,
            o.getSectionFooterConfig)(t, n, e);
            return "section-footer-".concat(e).concat(l ? "-divider" : "").concat(a ? "-voice-summary" : "")
        }
        t.default = a.memo(function(e) {
            let {sectionIndex: t, guildChannels: n, guildChannelsVersion: u, voiceStates: d, guildId: h, selectedChannelId: m, selectedVoiceChannelId: C, optInEnabled: p} = e
              , {hasDivider: g, canHaveVoiceSummary: E} = a.useMemo(()=>(0,
            o.getSectionFooterConfig)(n, p, t), [n, p, t, u])
              , S = a.useMemo(()=>t === r.SECTION_INDEX_COMMUNITY ? null : n.getCategoryFromSection(t), [n, t, u])
              , _ = a.useMemo(()=>null != S && S.isCollapsed ? (0,
            i.computeSummarizedVoiceUsers)({
                channels: S.getChannelRecords(),
                selectedChannelId: m,
                selectedVoiceChannelId: C,
                voiceStates: d
            }) : [], [S, m, C, d]);
            if (t === n.voiceChannelsSectionNumber)
                return (0,
                l.jsx)(f, {
                    guildChannels: n,
                    guildChannelsVersion: u
                });
            let I = g ? (0,
            l.jsx)("div", {
                className: c.sectionDivider
            }) : null;
            return E && 0 !== _.length ? (0,
            l.jsxs)(l.Fragment, {
                children: [(0,
                l.jsx)("div", {
                    className: c.voiceUserSummary,
                    children: (0,
                    l.jsx)(s.default, {
                        renderIcon: !0,
                        users: _,
                        max: 8,
                        showUserPopout: !0,
                        guildId: h
                    })
                }), I]
            }) : I
        })
    },
    561788: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return u
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("481060")
          , i = n("471445")
          , r = n("430824")
          , o = n("84169");
        function u(e) {
            let {channel: t} = e
              , n = (0,
            a.useStateFromStores)([r.default], ()=>r.default.getGuild(t.guild_id))
              , u = (0,
            i.getChannelIconComponent)(t, n);
            return null == u ? null : (0,
            l.jsxs)("div", {
                className: o.popoutHeader,
                children: [(0,
                l.jsx)(u, {
                    className: o.channelIcon
                }), (0,
                l.jsx)(s.Text, {
                    variant: "text-md/semibold",
                    color: "interactive-normal",
                    className: o.channelName,
                    children: t.name
                })]
            })
        }
    },
    135724: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return i
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("829750")
          , s = n("280102");
        function i(e) {
            let {channel: t, video: n, userCount: i} = e
              , {limit: r} = (0,
            a.default)(t)
              , o = -1
              , u = !1;
            return t.userLimit > 0 && (o = t.userLimit),
            n && r > 0 && (u = o < 0 || r < o,
            o = o > 0 ? Math.min(o, r) : r),
            (0,
            l.jsx)(s.default, {
                users: i,
                total: o,
                videoLimit: u
            })
        }
    },
    285573: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("442837")
          , o = n("239091")
          , u = n("146773")
          , d = n("592125")
          , c = n("984933")
          , f = n("496675")
          , h = n("98597")
          , m = n("473403")
          , C = n("981631")
          , p = n("490897")
          , g = n("513285");
        let E = (0,
        u.makeChannelSortable)(function(e) {
            let {guild: t, selectedChannelId: s, position: u, disableManageChannels: E, sorting: S, sortingType: _, sortingPosition: I, connectChannelDragSource: N, connectChannelDropTarget: T, tabIndex: A} = e
              , L = (0,
            r.useStateFromStores)([d.default, c.default], ()=>{
                let e = c.default.getDirectoryChannelIds(t.id);
                return 0 === e.length ? null : d.default.getChannel(e[0])
            }
            )
              , v = (0,
            r.useStateFromStores)([d.default], ()=>d.default.getChannel(null == L ? void 0 : L.parent_id))
              , x = s === (null == L ? void 0 : L.id)
              , R = (0,
            r.useStateFromStores)([f.default], ()=>null != v ? f.default.can(C.Permissions.MANAGE_CHANNELS, v) : null != t && f.default.can(C.Permissions.MANAGE_CHANNELS, t))
              , M = a.useCallback(e=>{
                null != L && (0,
                o.openContextMenuLazy)(e, async()=>{
                    let {default: e} = await n.e("70623").then(n.bind(n, "99334"));
                    return t=>(0,
                    l.jsx)(e, {
                        ...t,
                        channel: L
                    })
                }
                )
            }
            , [L]);
            if (null == L)
                return null;
            let y = (0,
            h.getChannelItemClassName)(u, I)
              , O = (0,
            h.isChannelItemDisabled)(L, S, _)
              , b = (0,
            l.jsx)("div", {
                className: i()(y, {
                    [g.disabled]: O,
                    [g.selected]: x
                }),
                "data-dnd-name": L.name,
                children: (0,
                l.jsxs)(m.default, {
                    className: g.iconVisibility,
                    channel: L,
                    guild: t,
                    selected: x,
                    onContextMenu: M,
                    forceInteractable: !0,
                    resolvedUnreadSetting: p.UnreadSetting.ONLY_MENTIONS,
                    children: [(0,
                    l.jsx)(h.ChannelItemInviteButton, {
                        channel: L,
                        tabIndex: A
                    }), (0,
                    l.jsx)(h.ChannelItemEditButton, {
                        channel: L,
                        disableManageChannels: E,
                        tabIndex: A
                    })]
                })
            });
            return R && (b = T(N(b))),
            b
        });
        t.default = E
    },
    519358: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            GuildBrowseChannelsRow: function() {
                return L
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("399606")
          , i = n("704215")
          , r = n("692547")
          , o = n("481060")
          , u = n("239091")
          , d = n("605236")
          , c = n("45966")
          , f = n("31445")
          , h = n("22082")
          , m = n("703656")
          , C = n("306680")
          , p = n("648414")
          , g = n("709054")
          , E = n("540126")
          , S = n("434479")
          , _ = n("981631")
          , I = n("176505")
          , N = n("490897")
          , T = n("689938")
          , A = n("658609");
        function L(e) {
            let {guild: t, selected: L} = e
              , v = (0,
            f.default)(t)
              , x = (0,
            d.useIsDismissibleContentDismissed)(i.DismissibleContent.CHANNEL_BROWSER_NEW_BADGE_NUX)
              , R = (0,
            s.useStateFromStoresArray)([h.default], ()=>Array.from(h.default.getNewChannelIds(t.id)).filter(e=>h.default.shouldIndicateNewChannel(t.id, e)))
              , M = (0,
            s.useStateFromStores)([C.default], ()=>C.default.hasUnread(t.id, N.ReadStateTypes.GUILD_ONBOARDING_QUESTION))
              , y = R.length > E.MAX_NEW_CHANNELS_TO_SHOW
              , O = (0,
            s.useStateFromStores)([c.default, C.default], ()=>{
                let e = c.default.lastFetchedAt(t.id)
                  , n = C.default.lastMessageId(t.id, N.ReadStateTypes.GUILD_ONBOARDING_QUESTION);
                if (null == n)
                    return !1;
                let l = g.default.extractTimestamp(n);
                return null != e && e > l
            }
            )
              , b = a.useCallback(()=>{
                (0,
                m.transitionTo)(_.Routes.CHANNEL(t.id, v ? I.StaticChannelRoute.CUSTOMIZE_COMMUNITY : I.StaticChannelRoute.CHANNEL_BROWSER))
            }
            , [t.id, v])
              , D = a.useCallback(e=>{
                (0,
                u.openContextMenuLazy)(e, async()=>{
                    let {default: e} = await n.e("8926").then(n.bind(n, "156673"));
                    return n=>(0,
                    l.jsx)(e, {
                        ...n,
                        guild: t
                    })
                }
                )
            }
            , [t])
              , j = null;
            return (!x || M || y) && !L && !O && (j = (0,
            l.jsx)(o.TextBadge, {
                color: r.default.unsafe_rawColors.BRAND_260.css,
                text: T.default.Messages.NEW,
                className: A.newChannel
            })),
            (0,
            l.jsx)(S.BasicChannelRow, {
                id: "channels-".concat(t.id),
                renderIcon: e=>(0,
                l.jsx)(p.default, {
                    className: e
                }),
                text: v ? T.default.Messages.CHANNELS_AND_ROLES : T.default.Messages.CHANNEL_BROWSER_TITLE,
                selected: L,
                onClick: b,
                onContextMenu: D,
                trailing: j
            })
        }
    },
    315174: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("920906")
          , o = n("873546")
          , u = n("481060")
          , d = n("666188")
          , c = n("695346")
          , f = n("752916")
          , h = n("898140")
          , m = n("768581")
          , C = n("358555")
          , p = n("981631")
          , g = n("647086")
          , E = n("689938")
          , S = n("431264");
        function _(e) {
            var t;
            let {guild: n, controller: a, guildBanner: s, animate: u} = e
              , {value: d} = a.springs
              , f = c.GifAutoPlay.getSetting();
            return (0,
            l.jsx)(r.animated.div, {
                className: S.animatedContainer,
                style: {
                    opacity: d,
                    transform: d.to(e=>"translateY(-".concat((1 - e) * 90, "px)"))
                },
                children: (0,
                l.jsx)(r.animated.div, {
                    className: i()(S.bannerImage, {
                        [S.bannerImgFullWidth]: o.isMobile
                    }),
                    style: {
                        transform: d.to(e=>f ? "translateY(".concat((1 - e) * 60, "px) scale(").concat(1 + (1 - e) * .2, ")") : "translateY(".concat((1 - e) * 90, "px)"))
                    },
                    children: (0,
                    l.jsx)("img", {
                        className: i()(S.bannerImg, {
                            [S.bannerImgFullWidth]: o.isMobile
                        }),
                        src: null !== (t = m.default.getGuildBannerURL({
                            id: n.id,
                            banner: s
                        }, u)) && void 0 !== t ? t : "",
                        alt: "",
                        height: 135,
                        width: 240,
                        "aria-hidden": !0
                    })
                })
            })
        }
        function I(e) {
            let {guild: t, controller: n, hasBanner: a, hasSubheader: s} = e
              , {value: o} = n.springs
              , d = t.hasFeature(p.GuildFeatures.DISCOVERABLE)
              , c = (0,
            l.jsx)("div", {
                className: S.communityInfo,
                children: d && (0,
                l.jsx)(u.Tooltip, {
                    text: E.default.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC_INFO,
                    position: "right",
                    children: e=>(0,
                    l.jsxs)("div", {
                        className: S.communityInfoPill,
                        ...e,
                        children: [(0,
                        l.jsx)(f.default, {
                            width: 12,
                            height: 12,
                            className: S.communityIcon
                        }), (0,
                        l.jsx)(u.Text, {
                            variant: "text-xs/normal",
                            color: "none",
                            children: E.default.Messages.DISCOVERABLE_GUILD_HEADER_PUBLIC
                        })]
                    })
                })
            });
            return s ? (0,
            l.jsx)("div", {
                className: i()(S.communityInfoContainer, S.hasSubheader),
                children: c
            }) : (0,
            l.jsx)(r.animated.div, {
                className: S.communityInfoContainer,
                style: a ? {
                    opacity: o
                } : {
                    height: o.to(e=>"".concat(20 * e, "px"))
                },
                children: c
            })
        }
        function N() {
            return (0,
            l.jsx)(h.default, {
                className: S.favoritesIcon,
                height: 20,
                width: 20
            })
        }
        t.default = a.memo(function(e) {
            var t;
            let {bannerVisible: n, controller: s, className: r, onClick: f, onContextMenu: h, onMouseDown: T, disableBannerAnimation: A, "aria-expanded": L, "aria-controls": v, guild: x, guildBanner: R, animationOverlayHeight: M, children: y, headerClassName: O, communityInfoVisible: b, hasSubheader: D} = e
              , j = x.hasFeature(p.GuildFeatures.ANIMATED_BANNER)
              , P = (0,
            d.default)(x)
              , G = !P && x.hasCommunityInfoSubheader()
              , U = (0,
            m.isAnimatedIconHash)(R) && j && !A
              , [w,B] = a.useState(!1)
              , F = a.useRef()
              , V = a.useRef(null)
              , H = a.useRef()
              , k = c.GifAutoPlay.getSetting();
            a.useEffect(()=>{
                if (U && n && !F.current && k)
                    return B(!0),
                    H.current = setTimeout(()=>{
                        B(!1)
                    }
                    , 5e3),
                    ()=>{
                        clearTimeout(H.current)
                    }
            }
            , [U, n, k]),
            a.useEffect(()=>{
                F.current = n
            }
            , [n]);
            let Y = ()=>{
                let {renderBanner: t, guildBanner: n} = e;
                return null != n && !t
            }
            ;
            return (0,
            l.jsxs)(l.Fragment, {
                children: [(0,
                l.jsxs)("div", {
                    ref: V,
                    className: i()(r, {
                        [S.container]: !0,
                        [S.clickable]: null != f,
                        [S.selected]: null != f && L,
                        [S.hasBanner]: Y(),
                        [S.bannerVisible]: n,
                        [S.communityInfoVisible]: !P && b || D && G
                    }),
                    onMouseDown: T,
                    onContextMenu: h,
                    onClick: f,
                    children: [(0,
                    l.jsxs)("header", {
                        className: i()(S.header, O, {
                            [S.themedHeaderMobile]: o.isMobile
                        }),
                        children: [(0,
                        l.jsxs)("div", {
                            className: i()(S.headerContent, S.primaryInfo),
                            children: [(0,
                            l.jsx)(C.default, {
                                guild: x,
                                isBannerVisible: n
                            }), x.id === g.FAVORITES_RAW_GUILD_ID && (0,
                            l.jsx)(N, {}), (0,
                            l.jsx)(u.Heading, {
                                variant: "text-md/semibold",
                                lineClamp: 1,
                                className: S.name,
                                children: x.toString()
                            }), null != f && (0,
                            l.jsx)(u.Clickable, {
                                className: S.headerButton,
                                "aria-controls": v,
                                "aria-expanded": L,
                                focusProps: {
                                    ringTarget: V,
                                    offset: 4
                                },
                                onClick: f,
                                onContextMenu: h,
                                "aria-label": E.default.Messages.GUILD_SIDEBAR_ACTIONS_BUTTON.format({
                                    guildName: null !== (t = null == x ? void 0 : x.toString()) && void 0 !== t ? t : ""
                                })
                            }), (0,
                            l.jsx)("div", {
                                className: S.headerChildren,
                                children: y
                            })]
                        }), G && (0,
                        l.jsx)(I, {
                            guild: x,
                            controller: s,
                            hasBanner: null != R,
                            hasSubheader: null != D && D
                        })]
                    }), null != R ? (0,
                    l.jsx)(_, {
                        guild: x,
                        controller: s,
                        guildBanner: R,
                        animate: w
                    }) : null]
                }), U && Y() ? (0,
                l.jsx)("div", {
                    className: S.animatedBannerHoverLayer,
                    onMouseEnter: ()=>{
                        B(!0),
                        clearTimeout(H.current)
                    }
                    ,
                    onMouseLeave: ()=>B(!1),
                    style: {
                        height: M
                    }
                }) : null]
            })
        })
    },
    910595: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return d
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("703656")
          , s = n("308570")
          , i = n("434479")
          , r = n("981631")
          , o = n("176505")
          , u = n("689938");
        function d(e) {
            let {guild: t, selected: n} = e;
            return (0,
            l.jsx)(i.BasicChannelRow, {
                id: "home-tab-".concat(t.id),
                renderIcon: e=>(0,
                l.jsx)(s.default, {
                    className: e
                }),
                text: u.default.Messages.SERVER_GUIDE,
                selected: n,
                onClick: function() {
                    (0,
                    a.transitionTo)(r.Routes.CHANNEL(t.id, o.StaticChannelRoute.GUILD_HOME))
                }
            })
        }
    },
    466935: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return E
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("481060")
          , r = n("970606")
          , o = n("693546")
          , u = n("826581")
          , d = n("246364")
          , c = n("98493")
          , f = n("703656")
          , h = n("669405")
          , m = n("434479")
          , C = n("981631")
          , p = n("176505")
          , g = n("689938");
        function E(e) {
            let {guild: t, selected: n} = e
              , E = (0,
            s.useStateFromStores)([u.default], ()=>u.default.getSubmittedGuildJoinRequestTotal(t.id))
              , S = null != E ? E : 0;
            return a.useEffect(()=>{
                o.default.fetchGuildJoinRequests({
                    guildId: t.id,
                    status: d.GuildJoinRequestApplicationStatuses.SUBMITTED,
                    limit: c.MEMBER_APPLICATION_FETCH_LIMIT
                })
            }
            , [t.id]),
            (0,
            l.jsx)(m.BasicChannelRow, {
                id: "application-review-".concat(t.id),
                renderIcon: e=>(0,
                l.jsx)(h.default, {
                    className: e,
                    width: 24,
                    height: 24
                }),
                text: g.default.Messages.MEMBER_VERIFICATION_MEMBER_APPLICATIONS,
                selected: n,
                onClick: ()=>{
                    (0,
                    r.trackClanApplicationNavigation)({
                        guildId: t.id,
                        source: C.AnalyticsSections.CHANNEL_LIST,
                        tab: p.StaticChannelRoute.MEMBER_APPLICATIONS
                    }),
                    (0,
                    f.transitionTo)(C.Routes.CHANNEL(t.id, p.StaticChannelRoute.MEMBER_APPLICATIONS))
                }
                ,
                trailing: S > 0 ? (0,
                l.jsx)(i.NumberBadge, {
                    count: S
                }) : null
            })
        }
    },
    120818: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            GuildNewMemberActionsProgressBar: function() {
                return E
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("924826")
          , i = n("442837")
          , r = n("481060")
          , o = n("44315")
          , u = n("563534")
          , d = n("846121")
          , c = n("703656")
          , f = n("259580")
          , h = n("981631")
          , m = n("176505")
          , C = n("689938")
          , p = n("590575");
        function g(e, t) {
            return (0,
            l.jsx)(r.Text, {
                variant: "text-xs/bold",
                color: "text-normal",
                children: e
            }, t)
        }
        let E = a.memo(function(e) {
            let {guild: t} = e
              , n = (0,
            i.useStateFromStores)([u.default], ()=>u.default.getNewMemberActions(t.id), [t.id])
              , E = (0,
            i.useStateFromStores)([d.default], ()=>d.default.getCompletedActions(t.id))
              , S = a.useMemo(()=>{
                if (null == n || null == E)
                    return 0;
                let e = 0;
                return n.forEach(t=>{
                    null != E[t.channelId] && e++
                }
                ),
                e
            }
            , [E, n])
              , _ = null == n ? 0 : n.length
              , I = (0,
            s.useListItem)("progress-bar-".concat(t.id));
            return (0,
            l.jsxs)("li", {
                children: [(0,
                l.jsxs)(r.Clickable, {
                    ...I,
                    role: "button",
                    focusProps: {
                        offset: {
                            right: 4
                        }
                    },
                    className: p.progressBarContainer,
                    onClick: function() {
                        (0,
                        c.transitionTo)(h.Routes.CHANNEL(t.id, m.StaticChannelRoute.GUILD_HOME))
                    },
                    children: [(0,
                    l.jsxs)("div", {
                        className: p.progressBarText,
                        children: [(0,
                        l.jsx)(r.Heading, {
                            variant: "heading-sm/bold",
                            children: C.default.Messages.GUILD_ONBOARDING_NEW_MEMBER_PROGRESS_BAR_GET_STARTED
                        }), (0,
                        l.jsxs)("div", {
                            className: p.rightContainer,
                            children: [(0,
                            l.jsx)(r.Text, {
                                variant: "text-xs/medium",
                                color: "text-muted",
                                className: p.rightText,
                                children: C.default.Messages.GUILD_ONBOARDING_NEW_MEMBER_PROGRESS_BAR_COUNTER.format({
                                    numberHook: g,
                                    total: _.toString(),
                                    completed: S.toString()
                                })
                            }), (0,
                            l.jsx)(f.default, {
                                className: p.arrow,
                                width: 16,
                                height: 16,
                                direction: f.default.Directions.RIGHT
                            })]
                        })]
                    }), (0,
                    l.jsx)(r.Progress, {
                        className: p.progressBar,
                        foregroundGradientColor: [(0,
                        o.getColor)(h.Color.GREEN_300), (0,
                        o.getColor)(h.Color.GREEN_230)],
                        percent: S / _ * 100 + 3,
                        animate: !0
                    })]
                }), (0,
                l.jsx)("div", {
                    role: "separator",
                    className: p.divider
                })]
            })
        })
    },
    61642: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return c
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("239091")
          , s = n("396828")
          , i = n("703656")
          , r = n("434479")
          , o = n("981631")
          , u = n("176505")
          , d = n("689938");
        function c(e) {
            let {guild: t, selected: c} = e;
            return (0,
            l.jsx)(r.BasicChannelRow, {
                id: "subscriptions-".concat(t.id),
                renderIcon: e=>(0,
                l.jsx)(s.default, {
                    className: e
                }),
                text: d.default.Messages.GUILD_ROLE_SUBSCRIPTIONS_TITLE,
                selected: c,
                onClick: ()=>{
                    (0,
                    i.transitionTo)(o.Routes.CHANNEL(t.id, u.StaticChannelRoute.ROLE_SUBSCRIPTIONS))
                }
                ,
                onContextMenu: e=>{
                    null != t && (0,
                    a.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await n.e("28249").then(n.bind(n, "613329"));
                        return n=>(0,
                        l.jsx)(e, {
                            ...n,
                            guild: t
                        })
                    }
                    )
                }
            })
        }
    },
    848442: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return y
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("399606")
          , r = n("704215")
          , o = n("433517")
          , u = n("481060")
          , d = n("239091")
          , c = n("607070")
          , f = n("367907")
          , h = n("357352")
          , m = n("652515")
          , C = n("550951")
          , p = n("886176")
          , g = n("605236")
          , E = n("703656")
          , S = n("984933")
          , _ = n("430824")
          , I = n("696202")
          , N = n("626135")
          , T = n("434479")
          , A = n("981631")
          , L = n("176505")
          , v = n("629481")
          , x = n("689938")
          , R = n("119059");
        function M(e) {
            let {guildId: t, selected: n, handleClick: a} = e
              , d = (0,
            m.useIsEligibleForSubscriptionsInGuildShop)(t, "guild_shop_channel_row")
              , C = (0,
            i.useStateFromStores)([_.default], ()=>_.default.getGuild(t))
              , L = (null == C ? void 0 : C.hasFeature(A.GuildFeatures.ROLE_SUBSCRIPTIONS_AVAILABLE_FOR_PURCHASE)) === !0
              , M = "false" === o.Storage.get(v.GUILD_SHOP_CHANNEL_ROW_CLICK, "false")
              , y = (0,
            i.useStateFromStores)([c.default], ()=>c.default.useReducedMotion);
            return (0,
            l.jsx)(T.BasicChannelRow, {
                id: "shop-".concat(t),
                className: s()(R.previewChannelRow, {
                    [R.selected]: n,
                    [R.phantomPreview]: M
                }),
                innerClassName: R.previewChannelRowContent,
                renderIcon: e=>(0,
                l.jsx)(p.default, {
                    width: 20,
                    height: 20,
                    className: s()([e, R.shopIcon])
                }),
                text: x.default.Messages.GUILD_SHOP_CHANNEL_LABEL,
                selected: n,
                onClick: a,
                trailing: (0,
                l.jsxs)("div", {
                    className: R.gifSection,
                    children: [y ? (0,
                    l.jsx)(u.TextBadge, {
                        color: u.tokens.unsafe_rawColors.BRAND_260.css,
                        text: x.default.Messages.NEW,
                        className: R.newBadge
                    }) : (0,
                    l.jsx)("img", {
                        src: (0,
                        h.getAssetCDNUrl)("server_products/storefront/money.gif"),
                        className: R.money,
                        alt: ""
                    }), n && (0,
                    l.jsx)(u.Clickable, {
                        className: R.closeButton,
                        onClick: e=>{
                            if (e.stopPropagation(),
                            (0,
                            g.markDismissibleContentAsDismissed)(r.DismissibleContent.SERVER_SHOP_PHANTOM_PREVIEW),
                            N.default.track(A.AnalyticEvents.GUILD_SHOP_PREVIEW_CLICK, {
                                ...(0,
                                f.collectGuildAnalyticsMetadata)(t),
                                action_taken: v.GuildShopPreviewClickActions.DISMISS_CHANNEL_ROW
                            }),
                            !d || !L) {
                                var n;
                                (0,
                                E.replaceWith)(A.Routes.CHANNEL(t, null === (n = S.default.getDefaultChannel(t)) || void 0 === n ? void 0 : n.id))
                            }
                        }
                        ,
                        "aria-label": x.default.Messages.CLOSE,
                        children: (0,
                        l.jsx)(I.default, {
                            width: 16,
                            height: 16
                        })
                    })]
                })
            })
        }
        function y(e) {
            let {guild: t, selected: a} = e
              , s = (0,
            C.useGuildShopPreviewVisible)(t, "guild_shop_channel_row")
              , i = ()=>{
                o.Storage.set(v.GUILD_SHOP_CHANNEL_ROW_CLICK, "true"),
                (0,
                E.transitionTo)(A.Routes.CHANNEL(t.id, L.StaticChannelRoute.GUILD_SHOP))
            }
            ;
            return s ? (0,
            l.jsx)(M, {
                guildId: t.id,
                selected: a,
                handleClick: i
            }) : (0,
            l.jsx)(T.BasicChannelRow, {
                id: "shop-".concat(t.id),
                renderIcon: e=>(0,
                l.jsx)(p.default, {
                    width: 20,
                    height: 20,
                    className: e
                }),
                text: x.default.Messages.GUILD_SHOP_CHANNEL_LABEL,
                selected: a,
                onClick: i,
                onContextMenu: e=>{
                    null != t && (0,
                    d.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await n.e("66050").then(n.bind(n, "376573"));
                        return n=>(0,
                        l.jsx)(e, {
                            ...n,
                            guild: t
                        })
                    }
                    )
                }
            })
        }
    },
    53425: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("442837")
          , o = n("592125")
          , u = n("938475")
          , d = n("823379")
          , c = n("734190")
          , f = n("689938")
          , h = n("52645");
        t.default = a.memo(function(e) {
            let {channel: t, selectedChannel: n, selectedVoiceChannelId: a, sortedThreadIds: s, withGuildIcon: m} = e
              , C = (0,
            r.useStateFromStoresArray)([o.default], ()=>s.map(e=>o.default.getChannel(e)).filter(d.isNotNullish), [s])
              , p = (0,
            r.useStateFromStores)([u.default], ()=>{
                let e = C[C.length - 1];
                if (null == e)
                    return 0;
                let t = u.default.getVoiceStates(e.guild_id)[e.id];
                return null == t || 0 === t.length ? 0 : a !== e.id ? 40 : 32 * t.length + 8
            }
            );
            return (0,
            l.jsx)("li", {
                className: h.container,
                children: (0,
                l.jsxs)("ul", {
                    role: "group",
                    "aria-label": f.default.Messages.THREAD_GROUP_A11Y_LABEL.format({
                        channelName: t.name
                    }),
                    children: [(0,
                    l.jsx)("div", {
                        className: i()(h.spineBorder, {
                            [h.spineBorderWithGuildIcon]: m
                        }),
                        style: {
                            bottom: 24 + p
                        }
                    }), C.map((e,t)=>(0,
                    l.jsx)(c.default, {
                        thread: e,
                        isSelectedChannel: (null == n ? void 0 : n.id) === e.id,
                        isSelectedVoice: a === e.id,
                        isLast: t === C.length - 1,
                        withGuildIcon: m
                    }, e.id))]
                })
            })
        })
    },
    734190: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("924826")
          , o = n("442837")
          , u = n("481060")
          , d = n("493683")
          , c = n("239091")
          , f = n("569471")
          , h = n("488131")
          , m = n("592125")
          , C = n("306680")
          , p = n("979651")
          , g = n("938475")
          , E = n("514342")
          , S = n("714794")
          , _ = n("135724")
          , I = n("25601")
          , N = n("207055")
          , T = n("981631")
          , A = n("124368")
          , L = n("689938")
          , v = n("513285")
          , x = n("628462")
          , R = n("52645");
        function M(e) {
            let {style: t, withGuildIcon: n} = e;
            return (0,
            l.jsx)("svg", {
                className: i()(R.spine, {
                    [R.spineWithGuildIcon]: n
                }),
                width: "12",
                height: "11",
                viewBox: "0 0 12 11",
                fill: "none",
                "aria-hidden": !0,
                style: t,
                children: (0,
                l.jsx)("path", {
                    d: "M11 9H4C2.89543 9 2 8.10457 2 7V1C2 0.447715 1.55228 0 1 0C0.447715 0 0 0.447715 0 1V7C0 9.20914 1.79086 11 4 11H11C11.5523 11 12 10.5523 12 10C12 9.44771 11.5523 9 11 9Z",
                    fill: "currentColor"
                })
            })
        }
        t.default = a.memo(function(e) {
            let {thread: t, isSelectedChannel: s, isSelectedVoice: R, isLast: y, withGuildIcon: O} = e
              , b = (0,
            o.useStateFromStores)([g.default], ()=>g.default.getVoiceStatesForChannel(t), [t])
              , D = (0,
            o.useStateFromStores)([p.default], ()=>p.default.hasVideo(t.id))
              , {unread: j, mentionCount: P} = (0,
            o.useStateFromStoresObject)([C.default], ()=>({
                unread: C.default.hasUnread(t.id),
                mentionCount: C.default.getMentionCount(t.id)
            }))
              , G = (0,
            o.useStateFromStores)([f.default], ()=>f.default.isMuted(t.id))
              , U = a.useCallback(e=>{
                (0,
                h.openThreadSidebarForViewing)(t, !e.shiftKey, A.OpenThreadAnalyticsLocations.CHANNEL_LIST)
            }
            , [t])
              , w = a.useCallback(()=>{
                d.default.preload(t.guild_id, t.id)
            }
            , [t.guild_id, t.id])
              , B = a.useCallback(e=>{
                let a = m.default.getChannel(t.id);
                null != a && (0,
                c.openContextMenuLazy)(e, async()=>{
                    let {default: e} = await n.e("78650").then(n.bind(n, "422200"));
                    return t=>(0,
                    l.jsx)(e, {
                        ...t,
                        channel: a
                    })
                }
                )
            }
            , [t.id])
              , F = null == b ? 0 : b.length
              , {role: V, ...H} = (0,
            r.useListItem)(t.id)
              , k = a.useRef(null)
              , Y = P > 0 ? L.default.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_MENTIONS.format({
                channelName: t.name,
                mentionCount: P
            }) : j ? L.default.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL_WITH_UNREADS.format({
                channelName: t.name
            }) : L.default.Messages.GUILD_SIDEBAR_THREAD_A11Y_LABEL.format({
                channelName: t.name
            });
            return (0,
            l.jsxs)("li", {
                role: V,
                className: i()(v.containerDefault, {
                    [v.selected]: s
                }),
                children: [(0,
                l.jsx)(M, {
                    withGuildIcon: O
                }), y ? null : (0,
                l.jsx)(M, {
                    withGuildIcon: O,
                    style: {
                        transform: "rotateX(180deg) translateY(-9px)"
                    }
                }), (0,
                l.jsx)(u.FocusRing, {
                    focusTarget: k,
                    ringTarget: k,
                    offset: {
                        top: 2,
                        bottom: 2,
                        right: 4
                    },
                    children: (0,
                    l.jsxs)("div", {
                        className: i()(v.iconVisibility, x.wrapper, x.typeThread, {
                            [x.modeSelected]: s,
                            [x.modeMuted]: !s && G,
                            [x.modeUnreadImportant]: !G && !s && j,
                            [x.withGuildIcon]: O
                        }),
                        onMouseDown: w,
                        onContextMenu: B,
                        children: [!j || G || s ? null : (0,
                        l.jsx)("div", {
                            className: i()(x.unread, x.unreadImportant)
                        }), (0,
                        l.jsx)(u.Clickable, {
                            ...H,
                            innerRef: k,
                            className: x.link,
                            onClick: U,
                            "aria-label": Y,
                            focusProps: {
                                enabled: !1
                            },
                            children: (0,
                            l.jsxs)("div", {
                                className: i()(x.linkTop, x.__invalid_threadMainContent),
                                children: [(0,
                                l.jsx)(E.default, {
                                    className: x.name,
                                    "aria-hidden": !0,
                                    children: t.name
                                }), (0,
                                l.jsxs)("div", {
                                    className: x.children,
                                    children: [F > 0 && t.userLimit > 0 ? (0,
                                    l.jsx)(_.default, {
                                        userCount: F,
                                        video: D,
                                        channel: t
                                    }) : null, (0,
                                    S.default)(P) ? (0,
                                    l.jsx)(I.default, {
                                        mentionsCount: P
                                    }) : null]
                                })]
                            })
                        })]
                    })
                }), (0,
                l.jsx)(N.default, {
                    channel: t,
                    collapsed: !R,
                    collapsedMax: 6,
                    voiceStates: b,
                    location: T.AnalyticsLocations.GUILD_CHANNEL_LIST
                })]
            })
        })
    },
    25601: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return r
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("831209")
          , s = n("481060")
          , i = n("735323");
        function r(e) {
            let {mentionsCount: t} = e;
            return (0,
            l.jsx)("div", {
                className: i.mentionsBadge,
                "aria-hidden": !0,
                children: (0,
                l.jsx)(s.NumberBadge, {
                    count: t,
                    color: a.default.STATUS_DANGER
                })
            })
        }
    },
    424785: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return z
            }
        }),
        n("47120"),
        n("411104");
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("442837")
          , r = n("481060")
          , o = n("475179")
          , u = n("239091")
          , d = n("146773")
          , c = n("888651")
          , f = n("201895")
          , h = n("305325")
          , m = n("281956")
          , C = n("66999")
          , p = n("506936")
          , g = n("359110")
          , E = n("922482")
          , S = n("431328")
          , _ = n("501655")
          , I = n("427679")
          , N = n("71275")
          , T = n("201469")
          , A = n("680089")
          , L = n("592125")
          , v = n("430824")
          , x = n("607744")
          , R = n("496675")
          , M = n("306680")
          , y = n("9156")
          , O = n("979651")
          , b = n("514342")
          , D = n("974029")
          , j = n("934415")
          , P = n("98597")
          , G = n("648501")
          , U = n("473403")
          , w = n("207055")
          , B = n("981631")
          , F = n("647086")
          , V = n("689938")
          , H = n("513285")
          , k = n("562522");
        function Y(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        class K extends P.default {
            getVoiceStatesCount() {
                var e;
                let {voiceStates: t} = this.props;
                return null !== (e = null == t ? void 0 : t.length) && void 0 !== e ? e : 0
            }
            isFull() {
                let {channel: e} = this.props;
                return (0,
                j.isChannelFull)(e, O.default, v.default)
            }
            getModeClass() {
                let {position: e, sortingPosition: t, isUserOver: n} = this.props;
                if (n)
                    return H.containerUserOver;
                if (null != t)
                    return e > t ? H.containerDragAfter : H.containerDragBefore;
                return H.containerDefault
            }
            renderVoiceUsers() {
                let {channel: e, collapsed: t, tabIndex: n, speakerVoiceStates: a, numAudience: s} = this.props;
                return (0,
                l.jsx)(w.default, {
                    channel: e,
                    voiceStates: a,
                    collapsed: t,
                    tabIndex: n,
                    location: B.AnalyticsLocations.GUILD_CHANNEL_LIST,
                    numAudience: s
                })
            }
            renderChannelInfo() {
                return this.props.channelInfo
            }
            render() {
                let {channel: e, selected: t, connected: n, locked: a, connectChannelDropTarget: i, connectChannelDragSource: o, connectUserDropTarget: u, connectDragPreview: d, canReorderChannel: c, canMoveMembers: h, stageInstance: m, isSubscriptionGated: C, needSubscriptionToAccess: p, unread: g, resolvedUnreadSetting: E, mentionCount: S, isFavoriteSuggestion: _} = this.props
                  , {shouldShowGuildVerificationPopout: I} = this.state
                  , N = this.getVoiceStatesCount()
                  , T = (0,
                l.jsxs)("li", {
                    className: s()(this.getModeClass(), {
                        [H.disabled]: this.isDisabled()
                    }),
                    "data-dnd-name": e.name,
                    children: [(0,
                    l.jsx)(r.Popout, {
                        position: "right",
                        renderPopout: this.renderPopout,
                        spacing: 0,
                        onRequestClose: this.closeGuildVerificationPopout,
                        shouldShow: I,
                        children: ()=>(0,
                        l.jsx)(r.Tooltip, {
                            text: this.getTooltipText(),
                            children: i=>{
                                let {onClick: r, onContextMenu: o, ...u} = i;
                                return (0,
                                l.jsxs)(U.default, {
                                    className: H.iconVisibility,
                                    iconClassName: s()({
                                        [k.iconLive]: null != m
                                    }),
                                    channel: e,
                                    selected: !_ && t,
                                    connected: n,
                                    unread: n ? g : void 0,
                                    resolvedUnreadSetting: E,
                                    mentionCount: S,
                                    locked: a,
                                    onClick: ()=>{
                                        this.handleClick(),
                                        null == r || r()
                                    }
                                    ,
                                    onContextMenu: e=>{
                                        this.handleContextMenu(e),
                                        null == o || o()
                                    }
                                    ,
                                    connectDragPreview: d,
                                    subtitle: this.renderSubtitle(),
                                    isFavoriteSuggestion: _,
                                    "aria-label": (0,
                                    f.default)({
                                        channel: e,
                                        unread: g,
                                        mentionCount: S,
                                        userCount: N,
                                        isSubscriptionGated: C,
                                        needSubscriptionToAccess: p
                                    }),
                                    ...u,
                                    children: [_ && this.renderAcceptSuggestionButton(), _ && this.renderRemoveSuggestionButton(), !_ && this.renderOpenChatButton(), !_ && this.renderInviteButton(), !_ && this.renderEditButton(), !_ && this.renderChannelInfo()]
                                })
                            }
                        })
                    }), this.renderVoiceUsers()]
                });
                return h && (T = u(T)),
                c && (T = i(o(T))),
                T
            }
            constructor(...e) {
                super(...e),
                Y(this, "state", {
                    shouldShowGuildVerificationPopout: !1
                }),
                Y(this, "closeGuildVerificationPopout", ()=>{
                    this.setState({
                        shouldShowGuildVerificationPopout: !1
                    })
                }
                ),
                Y(this, "handleClick", ()=>{
                    let {channel: e, locked: t, connected: n, unverifiedAccount: l} = this.props
                      , a = e.getGuildId();
                    null != a && (0,
                    m.shouldShowMembershipVerificationGate)(a) && (0,
                    h.openMemberVerificationModal)(a),
                    l && this.setState({
                        shouldShowGuildVerificationPopout: !0
                    }),
                    !t && !n && !e.isRoleSubscriptionTemplatePreviewChannel() && (0,
                    E.connectAndOpen)(e),
                    !__OVERLAY__ && (0,
                    g.transitionToChannel)(e.id)
                }
                ),
                Y(this, "handleClickChat", ()=>{
                    let {channel: e, locked: t} = this.props;
                    !__OVERLAY__ && !t && (0,
                    g.transitionToChannel)(e.id)
                }
                ),
                Y(this, "handleContextMenu", e=>{
                    let {channel: t} = this.props
                      , a = v.default.getGuild(t.getGuildId());
                    null != a && (0,
                    u.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await Promise.all([n.e("8137"), n.e("83331")]).then(n.bind(n, "213202"));
                        return n=>(0,
                        l.jsx)(e, {
                            ...n,
                            channel: t,
                            guild: a
                        })
                    }
                    )
                }
                ),
                Y(this, "renderPopout", ()=>{
                    let {channel: e} = this.props
                      , {shouldShowGuildVerificationPopout: t} = this.state;
                    if (t)
                        return (0,
                        l.jsx)(p.default, {
                            type: p.GuildVerificationPopoutTypes.VOICE,
                            guildId: e.guild_id,
                            closePopout: this.closeGuildVerificationPopout
                        });
                    throw Error("VoiceChannel.renderPopout: There must always be something to render")
                }
                ),
                Y(this, "renderOpenChatButton", ()=>{
                    let {channel: e, locked: t, forceShowButtons: n} = this.props;
                    if (!t)
                        return (0,
                        l.jsx)(r.Tooltip, {
                            text: V.default.Messages.OPEN_CHAT,
                            children: t=>{
                                let {onMouseEnter: a, onMouseLeave: i, onFocus: u, onBlur: d} = t;
                                return (0,
                                l.jsx)(r.Clickable, {
                                    className: s()(H.iconItem, n ? H.alwaysShown : null),
                                    onClick: ()=>{
                                        o.default.updateChatOpen(e.id, !0),
                                        this.handleClickChat()
                                    }
                                    ,
                                    "aria-label": V.default.Messages.OPEN_CHAT,
                                    onMouseEnter: a,
                                    onMouseLeave: i,
                                    onFocus: u,
                                    onBlur: d,
                                    children: (0,
                                    l.jsx)(D.default, {
                                        width: 16,
                                        height: 16,
                                        className: H.actionIcon
                                    })
                                })
                            }
                        })
                }
                ),
                Y(this, "getTooltipText", ()=>{
                    let {connected: e} = this.props;
                    return this.isFull() && !e ? V.default.Messages.UNABLE_TO_JOIN_CHANNEL_FULL : null
                }
                ),
                Y(this, "renderSubtitle", ()=>{
                    var e;
                    let t = null === (e = this.props.stageInstance) || void 0 === e ? void 0 : e.topic;
                    return null == t ? null : (0,
                    l.jsx)(b.default, {
                        children: t
                    })
                }
                )
            }
        }
        let W = (0,
        d.makeChannelSortable)((0,
        c.makeVoiceUserDroppable)(K));
        function z(e) {
            let {guild: t, channel: n, disableSorting: a, isFavoriteCategory: s, collapsed: r, voiceStates: o} = e
              , u = (0,
            i.useStateFromStoresObject)([M.default], ()=>({
                unread: M.default.hasUnread(n.id),
                mentionCount: M.default.getMentionCount(n.id)
            }))
              , d = (0,
            i.useStateFromStores)([y.default], ()=>y.default.resolveUnreadSetting(n))
              , c = (0,
            i.useStateFromStoresObject)([L.default, x.default, R.default], ()=>{
                let e = L.default.getChannel(n.parent_id)
                  , l = x.default.getCheck(n.guild_id);
                return {
                    canManageChannel: null != t && R.default.can(B.Permissions.MANAGE_CHANNELS, n),
                    canReorderChannel: !0 !== a && (t.id === F.FAVORITES_RAW_GUILD_ID || (null != e ? R.default.can(B.Permissions.MANAGE_CHANNELS, e) : R.default.can(B.Permissions.MANAGE_CHANNELS, t))),
                    canMoveMembers: R.default.can(B.Permissions.MOVE_MEMBERS, n),
                    locked: !R.default.can(B.Permissions.CONNECT, n),
                    bypassLimit: R.default.can(B.Permissions.MOVE_MEMBERS, n),
                    unverifiedAccount: !l.canChat
                }
            }
            )
              , f = (0,
            i.useStateFromStores)([A.default], ()=>A.default.isCollapsed(n.parent_id))
              , h = (0,
            T.default)(n.id)
              , m = (0,
            i.useStateFromStores)([I.default], ()=>I.default.getStageInstanceByChannel(n.id), [n.id])
              , p = (0,
            S.useStageParticipantsCount)(n.id, _.StageChannelParticipantNamedIndex.AUDIENCE)
              , {isSubscriptionGated: g, needSubscriptionToAccess: E} = (0,
            C.default)(n.id)
              , v = (0,
            i.useStateFromStores)([y.default], ()=>y.default.isFavorite(t.id, n.id))
              , O = (0,
            N.getStageHasMedia)(n.id)
              , b = (0,
            G.default)({
                channel: n,
                isChannelSelected: !1,
                isChannelCollapsed: r,
                voiceStates: o,
                isSubscriptionGated: g,
                needSubscriptionToAccess: E,
                enableConnectedUserLimit: O || n.userLimit > 0 && n.userLimit < B.MAX_STAGE_VOICE_USER_LIMIT
            })
              , D = e.connected && null == b;
            return (0,
            l.jsx)(W, {
                categoryCollapsed: f,
                connectAction: h,
                numAudience: p,
                stageInstance: m,
                isSubscriptionGated: g,
                needSubscriptionToAccess: E,
                ...u,
                ...c,
                ...e,
                isFavoriteSuggestion: s && !v,
                forceShowButtons: D,
                channelInfo: b,
                resolvedUnreadSetting: d
            })
        }
    },
    770202: function(e, t, n) {
        "use strict";
        n.r(t),
        n("411104"),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("442837")
          , o = n("493683")
          , u = n("239091")
          , d = n("146773")
          , c = n("201895")
          , f = n("703656")
          , h = n("592125")
          , m = n("430824")
          , C = n("496675")
          , p = n("98597")
          , g = n("473403")
          , E = n("981631")
          , S = n("490897")
          , _ = n("513285");
        function I(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        function N(e, t) {
            let n = t.getGuildId();
            if (null == n)
                throw Error("TextChannel, preloadChannel: Channel does not have a guildId");
            o.default.preload(n, t.id)
        }
        class T extends p.default {
            render() {
                let {channel: e, selected: t, connectChannelDropTarget: n, connectChannelDragSource: a, connectDragPreview: s, canReorderChannel: r} = this.props
                  , o = (0,
                l.jsx)("li", {
                    className: i()(this.getClassName(), {
                        [_.disabled]: this.isDisabled()
                    }),
                    "data-dnd-name": e.name,
                    children: (0,
                    l.jsxs)(g.default, {
                        className: _.iconVisibility,
                        channel: e,
                        selected: t,
                        onClick: this.handleClick,
                        onMouseDown: N,
                        onContextMenu: this.handleContextMenu,
                        connectDragPreview: r ? s : null,
                        "aria-label": (0,
                        c.default)({
                            channel: e
                        }),
                        resolvedUnreadSetting: S.UnreadSetting.ONLY_MENTIONS,
                        children: [this.renderInviteButton(), this.renderEditButton()]
                    })
                });
                return r ? n(a(o)) : o
            }
            constructor(...e) {
                super(...e),
                I(this, "handleContextMenu", e=>{
                    let {channel: t} = this.props
                      , a = m.default.getGuild(t.getGuildId());
                    null != a && (0,
                    u.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await n.e("99905").then(n.bind(n, "649400"));
                        return n=>(0,
                        l.jsx)(e, {
                            ...n,
                            channel: t,
                            guild: a
                        })
                    }
                    )
                }
                ),
                I(this, "handleClick", e=>{
                    !function(e) {
                        let t = e.getGuildId();
                        if (null == t)
                            throw Error("TextChannel, transitionTo: Channel does not have a guildId");
                        (0,
                        f.transitionTo)(E.Routes.CHANNEL(t, e.id), {
                            state: {
                                analyticsSource: {
                                    page: E.AnalyticsPages.GUILD_CHANNEL,
                                    section: E.AnalyticsSections.CHANNEL_LIST,
                                    object: E.AnalyticsObjects.CHANNEL
                                }
                            }
                        })
                    }(e)
                }
                )
            }
        }
        let A = (0,
        d.makeChannelSortable)(T);
        t.default = a.memo(function(e) {
            let {channel: t, guild: n, disableSorting: a} = e
              , s = (0,
            r.useStateFromStoresObject)([h.default, C.default], ()=>{
                let e = h.default.getChannel(t.parent_id);
                return {
                    canManageChannel: C.default.can(E.Permissions.MANAGE_CHANNELS, t),
                    canReorderChannel: !0 !== a && null != e ? C.default.can(E.Permissions.MANAGE_CHANNELS, e) : C.default.can(E.Permissions.MANAGE_CHANNELS, n)
                }
            }
            );
            return (0,
            l.jsx)(A, {
                ...s,
                ...e
            })
        })
    },
    79556: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return P
            }
        }),
        n("47120");
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("442837")
          , r = n("481060")
          , o = n("493683")
          , u = n("239091")
          , d = n("146773")
          , c = n("867176")
          , f = n("619915")
          , h = n("201895")
          , m = n("873696")
          , C = n("66999")
          , p = n("22082")
          , g = n("665906")
          , E = n("592125")
          , S = n("430824")
          , _ = n("496675")
          , I = n("306680")
          , N = n("9156")
          , T = n("594174")
          , A = n("109446")
          , L = n("98597")
          , v = n("648501")
          , x = n("473403")
          , R = n("304471")
          , M = n("981631")
          , y = n("647086")
          , O = n("513285");
        function b(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        class D extends L.default {
            componentWillUnmount() {
                this.resetTextChannelPopoutTimers()
            }
            resetTextChannelPopoutTimers() {
                clearTimeout(this.enterTimer),
                clearTimeout(this.exitTimer)
            }
            renderChannelInfo() {
                let {channelInfo: e} = this.props;
                return null == e ? null : (0,
                l.jsx)("div", {
                    className: O.channelInfo,
                    children: e
                })
            }
            render() {
                let {channel: e, guild: t, selected: n, muted: a, unread: i, hasActiveThreads: o, hasMoreActiveThreads: u, mentionCount: d, connectChannelDropTarget: c, connectChannelDragSource: f, connectDragPreview: C, canReorderChannel: p, isSubscriptionGated: g, isFavoriteSuggestion: E, subtitle: S, forceTopLevelThread: _, embeddedApps: I, resolvedUnreadSetting: N, withGuildIcon: T, enableActivities: A} = this.props
                  , L = A && null != I && I.length > 0
                  , v = (0,
                m.getChannelSubtitle)(S)
                  , R = (0,
                l.jsx)("li", {
                    className: s()(this.getClassName(), {
                        [O.disabled]: this.isDisabled(),
                        [O.selected]: n
                    }),
                    "data-dnd-name": e.name,
                    onMouseEnter: u || L ? this.handleMouseEnter : void 0,
                    onMouseLeave: u || L ? this.handleMouseLeave : void 0,
                    children: (0,
                    l.jsx)(r.Popout, {
                        position: "right",
                        renderPopout: this.renderPopout,
                        spacing: 0,
                        onRequestClose: this.handleClosePopout,
                        shouldShow: u && this.state.shouldShowThreadsPopout || L && this.state.shouldShowActivities,
                        children: ()=>(0,
                        l.jsxs)(x.default, {
                            className: O.iconVisibility,
                            channel: e,
                            guild: t,
                            selected: !E && n,
                            muted: a,
                            unread: i,
                            mentionCount: d,
                            hasActiveThreads: o,
                            subtitle: null == v ? void 0 : v.subtitle,
                            subtitleColor: null == v ? void 0 : v.color,
                            onMouseDown: this.handleMouseDown,
                            onContextMenu: this.handleContextMenu,
                            connectDragPreview: p ? C : null,
                            isFavoriteSuggestion: E,
                            channelTypeOverride: _ ? M.ChannelTypes.GUILD_TEXT : void 0,
                            resolvedUnreadSetting: N,
                            withGuildIcon: T,
                            "aria-label": (0,
                            h.default)({
                                channel: e,
                                unread: i,
                                mentionCount: d,
                                isSubscriptionGated: g
                            }),
                            children: [E && this.renderAcceptSuggestionButton(), E && this.renderRemoveSuggestionButton(), !E && this.renderInviteButton(), !E && this.renderEditButton(), !E && this.renderChannelInfo()]
                        })
                    })
                });
                return p ? c(f(R)) : R
            }
            constructor(...e) {
                super(...e),
                b(this, "state", {
                    shouldShowThreadsPopout: !1,
                    shouldShowActivities: !1
                }),
                b(this, "enterTimer", 0),
                b(this, "exitTimer", 0),
                b(this, "handleMouseEnter", ()=>{
                    (this.props.canShowThreadPreviewForUser || null != this.props.embeddedApps) && (this.resetTextChannelPopoutTimers(),
                    this.enterTimer = setTimeout(()=>{
                        null != this.props.embeddedApps && this.props.embeddedApps.length > 0 ? this.setState({
                            shouldShowActivities: !0
                        }) : this.props.canShowThreadPreviewForUser && this.setState({
                            shouldShowThreadsPopout: !0
                        })
                    }
                    , 200))
                }
                ),
                b(this, "handleMouseLeave", ()=>{
                    this.resetTextChannelPopoutTimers(),
                    this.exitTimer = setTimeout(()=>{
                        this.state.shouldShowActivities && this.setState({
                            shouldShowActivities: !1
                        }),
                        this.state.shouldShowThreadsPopout && this.setState({
                            shouldShowThreadsPopout: !1
                        })
                    }
                    , 250)
                }
                ),
                b(this, "handleThreadsPopoutClose", ()=>{
                    this.resetTextChannelPopoutTimers(),
                    this.setState({
                        shouldShowThreadsPopout: !1
                    })
                }
                ),
                b(this, "handleActivitiesPopoutClose", ()=>{
                    this.resetTextChannelPopoutTimers(),
                    this.setState({
                        shouldShowActivities: !1
                    })
                }
                ),
                b(this, "handleClosePopout", ()=>{
                    this.state.shouldShowActivities && this.handleActivitiesPopoutClose(),
                    this.state.shouldShowThreadsPopout && this.handleThreadsPopoutClose()
                }
                ),
                b(this, "handleMouseDown", ()=>{
                    this.handleActivitiesPopoutClose(),
                    this.handleThreadsPopoutClose();
                    let {channel: e} = this.props
                      , t = e.getGuildId();
                    o.default.preload(null != t ? t : M.ME, e.id)
                }
                ),
                b(this, "renderPopout", e=>{
                    let {channel: t, sorting: n, embeddedApps: a} = this.props
                      , {shouldShowActivities: s} = this.state;
                    return null != a && a.length > 0 && s && !n ? (0,
                    l.jsx)(R.default, {
                        onAction: this.handleActivitiesPopoutClose,
                        channel: t
                    }) : (0,
                    l.jsx)(A.default, {
                        ...e,
                        channel: this.props.channel
                    })
                }
                ),
                b(this, "handleContextMenu", e=>{
                    let {channel: t} = this.props;
                    if (t.type === M.ChannelTypes.GROUP_DM) {
                        (0,
                        u.openContextMenuLazy)(e, async()=>{
                            let {default: e} = await Promise.all([n.e("99387"), n.e("25421")]).then(n.bind(n, "354741"));
                            return n=>(0,
                            l.jsx)(e, {
                                ...n,
                                channel: t,
                                selected: !0
                            })
                        }
                        );
                        return
                    }
                    if (t.type === M.ChannelTypes.DM) {
                        let a = T.default.getUser(t.getRecipientId());
                        null != a && (0,
                        u.openContextMenuLazy)(e, async()=>{
                            let {default: e} = await Promise.all([n.e("99387"), n.e("36441"), n.e("56826")]).then(n.bind(n, "131404"));
                            return n=>(0,
                            l.jsx)(e, {
                                ...n,
                                user: a,
                                channel: t,
                                showModalItems: !1
                            })
                        }
                        );
                        return
                    }
                    let a = S.default.getGuild(t.getGuildId());
                    null != a && (0,
                    u.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await Promise.all([n.e("99387"), n.e("8137"), n.e("54310")]).then(n.bind(n, "373651"));
                        return n=>(0,
                        l.jsx)(e, {
                            ...n,
                            channel: t,
                            guild: a
                        })
                    }
                    )
                }
                )
            }
        }
        let j = (0,
        d.makeChannelSortable)(D);
        function P(e) {
            let {channel: t, guild: n, disableSorting: a, isFavoriteCategory: s, muted: r, selected: o} = e
              , {hasActiveThreads: u, hasMoreActiveThreads: d} = (0,
            g.useHasActiveThreads)(t)
              , h = (0,
            i.useStateFromStoresObject)([I.default], ()=>({
                unread: I.default.hasUnread(t.id),
                ackMessageId: I.default.ackMessageId(t.id),
                mentionCount: I.default.getMentionCount(t.id)
            }))
              , m = (0,
            i.useStateFromStores)([N.default], ()=>N.default.resolveUnreadSetting(t))
              , S = (0,
            i.useStateFromStoresObject)([E.default, _.default], ()=>{
                let e = E.default.getChannel(t.parent_id);
                return {
                    canManageChannel: _.default.can(M.Permissions.MANAGE_CHANNELS, t),
                    canReorderChannel: !0 !== a && (n.id === y.FAVORITES_RAW_GUILD_ID || (null != e ? _.default.can(M.Permissions.MANAGE_CHANNELS, e) : _.default.can(M.Permissions.MANAGE_CHANNELS, n)))
                }
            }
            )
              , A = (0,
            i.useStateFromStores)([p.default], ()=>p.default.shouldIndicateNewChannel(n.id, t.id))
              , {needSubscriptionToAccess: L, isSubscriptionGated: x} = (0,
            C.default)(t.id)
              , R = (0,
            i.useStateFromStores)([N.default], ()=>N.default.isFavorite(n.id, t.id))
              , O = (0,
            i.useStateFromStores)([T.default], ()=>{
                let e = T.default.getCurrentUser();
                return null != e && (!t.isNSFW() || e.nsfwAllowed)
            }
            , [t])
              , b = (0,
            c.useIsActivitiesInTextEnabled)(t.id, !1, "webGuildTextChannel")
              , D = (0,
            v.default)({
                channel: t,
                isChannelCollapsed: !1,
                isChannelSelected: o,
                isSubscriptionGated: x,
                needSubscriptionToAccess: L,
                isNewChannel: A,
                muted: r,
                enableActivities: b,
                resolvedUnreadSetting: m
            })
              , P = (0,
            f.default)(t);
            return (0,
            l.jsx)(j, {
                ...h,
                ...S,
                ...e,
                hasActiveThreads: u,
                hasMoreActiveThreads: d,
                isSubscriptionGated: x,
                needSubscriptionToAccess: L,
                isNewChannel: A && e.canBeNewChannel,
                isFavoriteSuggestion: s && !R,
                canShowThreadPreviewForUser: O,
                channelInfo: D,
                embeddedApps: P,
                resolvedUnreadSetting: m,
                hasChannelInfo: null != D,
                enableActivities: b
            })
        }
    },
    304471: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return u
            }
        }),
        n("47120");
        var l = n("735250");
        n("470079");
        var a = n("481060")
          , s = n("619915")
          , i = n("737592")
          , r = n("561788")
          , o = n("254193");
        function u(e) {
            let {channel: t, onAction: n} = e
              , u = (0,
            s.default)(t)
              , d = Array.from((0,
            s.useEmbeddedAppsWithPresence)(u).values());
            return 0 === d.length ? null : (0,
            l.jsxs)(a.Scroller, {
                className: o.container,
                children: [(0,
                l.jsx)("div", {
                    className: o.popoutHeaderContainer,
                    children: (0,
                    l.jsx)(r.default, {
                        channel: t
                    })
                }), (0,
                l.jsx)("div", {
                    className: o.headerDivider
                }), d.map((e,a)=>{
                    var s;
                    return (0,
                    l.jsx)(i.default, {
                        embeddedApp: e,
                        presenceActivity: null !== (s = e.presenceActivity) && void 0 !== s ? s : void 0,
                        channel: t,
                        onAction: n
                    }, a)
                }
                )]
            })
        }
    },
    428127: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return A
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("920906")
          , o = n("442837")
          , u = n("692547")
          , d = n("481060")
          , c = n("607070")
          , f = n("492162")
          , h = n("451478")
          , m = n("409216")
          , C = n("86813")
          , p = n("826026")
          , g = n("632184")
          , E = n("934415")
          , S = n("968847")
          , _ = n("689938")
          , I = n("367473");
        let N = {
            friction: 30,
            tension: 300
        };
        function T(e) {
            var t;
            let {guildChannels: n, jumpToVoiceChannels: s} = e
              , r = n.getCategoryFromSection(n.voiceChannelsSectionNumber)
              , o = (0,
            f.default)(n.id)
              , c = a.useCallback(e=>{
                e.preventDefault(),
                e.stopPropagation(),
                s()
            }
            , [s])
              , h = null !== (t = null == r ? void 0 : r.getChannelRecords()) && void 0 !== t ? t : []
              , C = (0,
            E.computeSummarizedVoiceUsers)({
                channels: h,
                selectedChannelId: null,
                selectedVoiceChannelId: null,
                voiceStates: o
            });
            return (0,
            l.jsxs)(d.Clickable, {
                className: i()(I.bar),
                onClick: c,
                children: [(0,
                l.jsx)(g.default, {
                    className: I.voiceChannelsIcon,
                    width: 14,
                    height: 14,
                    color: u.default.unsafe_rawColors.GREEN_330.css
                }), (0,
                l.jsx)(d.Text, {
                    variant: "text-xs/semibold",
                    color: "text-positive",
                    className: I.barText,
                    children: _.default.Messages.VOICE_CHANNEL_BAR_ACTIVE.format({
                        count: C.length
                    })
                }), (0,
                l.jsx)(m.default, {
                    guildId: n.id,
                    className: I.voiceChannelsUsers,
                    users: C.slice(0, 4),
                    renderMoreUsers: ()=>null,
                    max: 4,
                    size: d.AvatarSizes.SIZE_16
                })]
            })
        }
        function A(e) {
            let {position: t, guildChannels: n, guildChannelsVersion: s, jumpToVoiceChannels: u, jumpToChannel: f} = e
              , {bottomBar: m, topBar: g} = (0,
            o.useStateFromStoresObject)([S.default], ()=>S.default.getUnreadStateForGuildId(n.id))
              , E = (0,
            o.useStateFromStores)([c.default], ()=>c.default.useReducedMotion)
              , A = (0,
            o.useStateFromStores)([h.default], ()=>h.default.isFocused())
              , {mode: L, mentionCount: v, targetChannelId: x} = "bottom" === t ? m : g
              , R = L === S.UnreadBarMode.HIDDEN
              , M = (0,
            r.useSpring)({
                to: {
                    transform: R ? "bottom" === t ? "translateY(180%)" : "translateY(-180%)" : "translateY(0%)"
                },
                config: N,
                immediate: E || !A
            })
              , y = a.useCallback(e=>{
                e.preventDefault(),
                e.stopPropagation(),
                null != x && f(x)
            }
            , [f, x]);
            return (0,
            l.jsx)("div", {
                className: i()(I.container, {
                    [I.top]: "top" === t,
                    [I.bottom]: "bottom" === t
                }),
                children: (0,
                l.jsx)(r.animated.div, {
                    className: I.containerPadding,
                    style: M,
                    "aria-hidden": R,
                    children: L === S.UnreadBarMode.HIDDEN ? (0,
                    l.jsx)("div", {
                        className: i()(I.bar, I.emptyBar)
                    }) : L === S.UnreadBarMode.UNREAD ? (0,
                    l.jsxs)(d.Clickable, {
                        className: I.bar,
                        onClick: y,
                        children: ["bottom" === t ? (0,
                        l.jsx)(C.default, {
                            className: I.unreadIcon,
                            height: 14,
                            width: 14
                        }) : (0,
                        l.jsx)(p.default, {
                            className: I.unreadIcon,
                            height: 14,
                            width: 14
                        }), (0,
                        l.jsx)(d.Text, {
                            variant: "text-xs/semibold",
                            color: "interactive-normal",
                            className: I.barText,
                            children: _.default.Messages.NEW_UNREADS
                        })]
                    }) : L === S.UnreadBarMode.MENTIONS ? (0,
                    l.jsx)(d.Clickable, {
                        className: i()(I.bar, I.mentionsBar),
                        onClick: y,
                        children: (0,
                        l.jsx)(d.Text, {
                            variant: "text-xs/semibold",
                            color: "status-danger-text",
                            className: I.barText,
                            children: _.default.Messages.NEW_MENTIONS_COUNT.format({
                                count: v
                            })
                        })
                    }) : L === S.UnreadBarMode.VOICE_CHANNELS ? (0,
                    l.jsx)(T, {
                        jumpToVoiceChannels: u,
                        guildChannels: n,
                        guildChannelsVersion: s
                    }) : void 0
                })
            })
        }
    },
    950969: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("718528")
          , r = n("220444")
          , o = n("569471")
          , u = n("592125")
          , d = n("306680")
          , c = n("9156")
          , f = n("451478")
          , h = n("816779");
        function m(e) {
            let t = u.default.getChannel(e);
            return null != t && null != t.getGuildId() && !(t.isThread() ? o.default.isMuted(t.id) : c.default.isChannelMuted(t.getGuildId(), t.id)) && (0,
            r.getHasImportantUnread)(t)
        }
        function C(e) {
            let t = u.default.getChannel(e);
            if (null == t)
                return !1;
            let n = t.getGuildId();
            if (null == n)
                return !1;
            let l = c.default.isGuildCollapsed(n)
              , a = c.default.isChannelMuted(n, t.id);
            return (!l || !a) && d.default.getMentionCount(e) > 0
        }
        t.default = a.forwardRef(function(e, t) {
            let {guildId: n, guildChannels: a, guildChannelsVersion: r, ...o} = e
              , u = (0,
            i.useFlattenedChannelIdListWithThreads)(n, a, r, !1, {
                ignoreRecents: !0
            })
              , d = (0,
            s.useStateFromStores)([f.default], ()=>f.default.isFocused());
            return (0,
            l.jsx)(h.default, {
                ref: t,
                ...o,
                isUnread: m,
                isMentioned: C,
                items: u,
                animate: d
            })
        })
    },
    233657: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return g
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("704215")
          , i = n("481060")
          , r = n("239091")
          , o = n("605236")
          , u = n("554747")
          , d = n("306680")
          , c = n("9156")
          , f = n("305878")
          , h = n("434479")
          , m = n("490897")
          , C = n("689938")
          , p = n("628462");
        function g(e) {
            let {guild: t, selected: g} = e
              , {hasUnread: E, mentionCount: S} = (0,
            a.useStateFromStoresObject)([d.default], ()=>({
                hasUnread: d.default.hasUnread(t.id, m.ReadStateTypes.GUILD_EVENT),
                mentionCount: d.default.getMentionCount(t.id, m.ReadStateTypes.GUILD_EVENT)
            }), [t.id])
              , _ = (0,
            a.useStateFromStores)([c.default], ()=>c.default.isMuteScheduledEventsEnabled(t.id));
            async function I() {
                await (0,
                i.openModalLazy)(async()=>{
                    let {default: e} = await Promise.all([n.e("99387"), n.e("22347"), n.e("56236")]).then(n.bind(n, "17671"));
                    return n=>(0,
                    l.jsx)(e, {
                        ...n,
                        guildId: t.id
                    })
                }
                ),
                (0,
                o.markDismissibleContentAsDismissed)(s.DismissibleContent.GUILD_HEADER_EVENT_UPSELL)
            }
            let N = (0,
            u.default)(t.id)
              , T = N.length > 0 ? C.default.Messages.GUILD_EVENTS_PLURAL.format({
                number: N.length
            }) : C.default.Messages.GUILD_EVENTS;
            return (0,
            l.jsx)(h.BasicChannelRow, {
                id: "upcoming-events-".concat(t.id),
                renderIcon: e=>(0,
                l.jsx)(f.default, {
                    className: e
                }),
                text: T,
                selected: g,
                onClick: I,
                onContextMenu: e=>{
                    (0,
                    r.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await n.e("95307").then(n.bind(n, "867757"));
                        return n=>(0,
                        l.jsx)(e, {
                            ...n,
                            guildId: t.id
                        })
                    }
                    )
                }
                ,
                showUnread: E && !_,
                trailing: !_ && S > 0 ? (0,
                l.jsx)(i.NumberBadge, {
                    className: p.numberBadge,
                    disableColor: !0,
                    count: S
                }) : null
            })
        }
    },
    831700: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return J
            }
        }),
        n("47120"),
        n("411104");
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("442837")
          , r = n("846519")
          , o = n("481060")
          , u = n("475179")
          , d = n("239091")
          , c = n("146773")
          , f = n("888651")
          , h = n("619915")
          , m = n("339340")
          , C = n("201895")
          , p = n("718589")
          , g = n("933557")
          , E = n("557135")
          , S = n("873696")
          , _ = n("446226")
          , I = n("305325")
          , N = n("281956")
          , T = n("66999")
          , A = n("554747")
          , L = n("506936")
          , v = n("574176")
          , x = n("359110")
          , R = n("155409")
          , M = n("695346")
          , y = n("592125")
          , O = n("430824")
          , b = n("607744")
          , D = n("496675")
          , j = n("306680")
          , P = n("9156")
          , G = n("979651")
          , U = n("974029")
          , w = n("934415")
          , B = n("98597")
          , F = n("648501")
          , V = n("473403")
          , H = n("830993")
          , k = n("653577")
          , Y = n("207055")
          , K = n("981631")
          , W = n("647086")
          , z = n("689938")
          , Z = n("513285");
        function X(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        class q extends B.default {
            componentWillUnmount() {
                this.activitiesHideTimeout.stop()
            }
            getVoiceStatesCount() {
                var e;
                let {voiceStates: t} = this.props;
                return null !== (e = null == t ? void 0 : t.length) && void 0 !== e ? e : 0
            }
            isFull() {
                let {channel: e} = this.props;
                return (0,
                w.isChannelFull)(e, G.default, O.default)
            }
            getModeClass() {
                let {position: e, sortingPosition: t, isUserOver: n} = this.props;
                if (n)
                    return Z.containerUserOver;
                if (null != t)
                    return e > t ? Z.containerDragAfter : Z.containerDragBefore;
                return Z.containerDefault
            }
            renderSubtitle() {
                var e;
                let {channel: t, connected: n, enableHangStatus: a, allowChannelTopic: s} = this.props
                  , i = null === (e = (0,
                S.getChannelSubtitle)(this.props.subtitle)) || void 0 === e ? void 0 : e.subtitle
                  , {hovered: r} = this.state;
                return (0,
                l.jsx)(k.default, {
                    onClick: this.handleVoiceStatusClick,
                    channel: t,
                    connected: n,
                    subtitle: i,
                    hovered: r,
                    enableHangStatus: a,
                    allowChannelTopic: s
                })
            }
            renderVoiceUsers() {
                let {channel: e, voiceStates: t, collapsed: n, withGuildIcon: a, tabIndex: s} = this.props;
                return (0,
                l.jsx)(Y.default, {
                    channel: e,
                    collapsed: n,
                    collapsedMax: 6,
                    voiceStates: t,
                    withGuildIcon: a,
                    tabIndex: s,
                    location: K.AnalyticsLocations.GUILD_CHANNEL_LIST
                })
            }
            renderChannelInfo() {
                let {channelInfo: e} = this.props;
                return null == e ? null : (0,
                l.jsx)("div", {
                    className: Z.channelInfo,
                    children: e
                })
            }
            render() {
                let {channel: e, selected: t, connected: n, unread: a, resolvedUnreadSetting: i, mentionCount: r, locked: u, sorting: d, isUserOver: c, connectChannelDropTarget: f, connectChannelDragSource: h, connectUserDropTarget: m, connectDragPreview: g, canReorderChannel: E, canMoveMembers: S, showTutorial: _, hasActiveEvent: I, embeddedApps: N, isSubscriptionGated: T, isFavoriteSuggestion: A, withGuildIcon: L} = this.props
                  , {shouldShowActivities: v, shouldShowGuildVerificationPopout: x} = this.state
                  , M = this.getVoiceStatesCount()
                  , y = (0,
                l.jsxs)("li", {
                    className: s()(this.getModeClass(), {
                        [Z.disabled]: this.isDisabled()
                    }),
                    "data-dnd-name": e.name,
                    children: [(0,
                    l.jsx)("div", {
                        onMouseEnter: this.handleMouseEnter,
                        onMouseLeave: this.handleMouseLeave,
                        children: (0,
                        l.jsx)(o.Popout, {
                            position: "right",
                            renderPopout: this.renderPopout,
                            spacing: 0,
                            onRequestClose: this.closeGuildVerificationPopout,
                            shouldShow: v && !d && !c && !x || x,
                            children: ()=>(0,
                            l.jsx)(o.Tooltip, {
                                text: this.getTooltipText(),
                                children: o=>{
                                    let {onClick: d, onContextMenu: c, ...f} = o;
                                    return (0,
                                    l.jsxs)(V.default, {
                                        className: Z.iconVisibility,
                                        iconClassName: s()({
                                            [Z.iconLive]: I
                                        }),
                                        channel: e,
                                        selected: !A && t,
                                        connected: n,
                                        unread: n ? a : void 0,
                                        resolvedUnreadSetting: i,
                                        mentionCount: r,
                                        locked: u,
                                        subtitle: this.renderSubtitle(),
                                        onClick: ()=>{
                                            this.handleClick(),
                                            null == d || d()
                                        }
                                        ,
                                        onContextMenu: e=>{
                                            this.handleContextMenu(e),
                                            null == c || c()
                                        }
                                        ,
                                        connectDragPreview: g,
                                        isFavoriteSuggestion: A,
                                        "aria-label": (0,
                                        C.default)({
                                            channel: e,
                                            unread: a,
                                            mentionCount: r,
                                            userCount: M,
                                            embeddedActivitiesCount: N.length,
                                            isSubscriptionGated: T
                                        }),
                                        "aria-describedby": (0,
                                        p.default)({
                                            channel: e,
                                            embeddedApps: N
                                        }),
                                        withGuildIcon: L,
                                        ...f,
                                        children: [A && this.renderAcceptSuggestionButton(), A && this.renderRemoveSuggestionButton(), !A && this.renderOpenChatButton(), !A && this.renderInviteButton(), !A && this.renderEditButton(), !A && this.renderChannelInfo()]
                                    })
                                }
                            })
                        })
                    }), this.renderVoiceUsers()]
                });
                return S && (y = m(y)),
                E && (y = f(h(y))),
                _ && (y = (0,
                l.jsx)(R.default, {
                    tutorialId: "voice-conversations",
                    position: "right",
                    offsetX: -20,
                    children: y
                })),
                y
            }
            constructor(...e) {
                super(...e),
                X(this, "state", {
                    shouldShowActivities: !1,
                    shouldShowGuildVerificationPopout: !1,
                    hovered: !1
                }),
                X(this, "activitiesHideTimeout", new r.Timeout),
                X(this, "closeGuildVerificationPopout", ()=>{
                    this.setState({
                        shouldShowGuildVerificationPopout: !1
                    })
                }
                ),
                X(this, "handleVoiceConnect", ()=>{
                    let {locked: e, connected: t, channel: n, unverifiedAccount: l, needSubscriptionToAccess: a} = this.props;
                    l && this.setState({
                        shouldShowGuildVerificationPopout: !0
                    }),
                    E.default.handleVoiceConnect({
                        channel: n,
                        connected: t,
                        needSubscriptionToAccess: a,
                        locked: e
                    })
                }
                ),
                X(this, "handleContextMenu", e=>{
                    let {channel: t} = this.props
                      , a = O.default.getGuild(t.getGuildId());
                    null != a && (0,
                    d.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await Promise.all([n.e("8137"), n.e("83331")]).then(n.bind(n, "213202"));
                        return n=>(0,
                        l.jsx)(e, {
                            ...n,
                            channel: t,
                            guild: a
                        })
                    }
                    )
                }
                ),
                X(this, "handleMouseEnter", ()=>{
                    this.activitiesHideTimeout.stop(),
                    this.setState({
                        shouldShowActivities: !0,
                        hovered: !0
                    })
                }
                ),
                X(this, "handleMouseLeave", ()=>{
                    this.activitiesHideTimeout.start(100, ()=>this.setState({
                        shouldShowActivities: !1,
                        hovered: !1
                    }))
                }
                ),
                X(this, "closePopout", ()=>{
                    this.activitiesHideTimeout.stop(),
                    this.setState({
                        shouldShowActivities: !1
                    })
                }
                ),
                X(this, "handleClick", ()=>{
                    let {channel: e} = this.props
                      , t = e.getGuildId();
                    null != t && (0,
                    N.shouldShowMembershipVerificationGate)(t) && (0,
                    I.openMemberVerificationModal)(t),
                    this.handleVoiceConnect()
                }
                ),
                X(this, "handleVoiceStatusClick", e=>{
                    let {connected: t, channel: a} = this.props;
                    t && (e.stopPropagation(),
                    (0,
                    o.openModalLazy)(async()=>{
                        let {default: e} = await Promise.resolve().then(n.bind(n, "339340"));
                        return t=>(0,
                        l.jsx)(e, {
                            channel: a,
                            ...t
                        })
                    }
                    , {
                        modalKey: m.VOICE_CHANNEL_STATUS_MODAL_KEY
                    }))
                }
                ),
                X(this, "renderPopout", ()=>{
                    let {channel: e, voiceStates: t, sorting: n, isUserOver: a, selected: s, guild: i} = this.props
                      , {shouldShowActivities: r, shouldShowGuildVerificationPopout: o} = this.state;
                    if (r && !n && !a && !o) {
                        let n = M.ActivityRestrictedGuilds.getSetting().includes(i.id);
                        return (0,
                        l.jsx)(H.default, {
                            onAction: this.closePopout,
                            guild: i,
                            channel: e,
                            voiceStates: t,
                            isChannelSelected: s,
                            shouldShowSettingNudge: n
                        })
                    }
                    if (o)
                        return (0,
                        l.jsx)(L.default, {
                            type: L.GuildVerificationPopoutTypes.VOICE,
                            guildId: e.guild_id,
                            closePopout: this.closeGuildVerificationPopout
                        });
                    throw Error("VoiceChannel.renderPopout: There must always be something to render")
                }
                ),
                X(this, "renderOpenChatButton", ()=>{
                    let {channel: e, locked: t, forceShowButtons: n} = this.props;
                    if (!t)
                        return (0,
                        l.jsx)(o.Tooltip, {
                            text: z.default.Messages.OPEN_CHAT,
                            children: t=>{
                                let {onMouseEnter: a, onMouseLeave: i, onFocus: r, onBlur: d} = t;
                                return (0,
                                l.jsx)(o.Clickable, {
                                    className: s()(Z.iconItem, n ? Z.alwaysShown : null),
                                    onClick: ()=>{
                                        u.default.updateChatOpen(e.id, !0),
                                        (0,
                                        x.transitionToChannel)(e.id)
                                    }
                                    ,
                                    "aria-label": z.default.Messages.OPEN_CHAT,
                                    onMouseEnter: a,
                                    onMouseLeave: i,
                                    onFocus: r,
                                    onBlur: d,
                                    children: (0,
                                    l.jsx)(U.default, {
                                        width: 16,
                                        height: 16,
                                        className: Z.actionIcon
                                    })
                                })
                            }
                        })
                }
                ),
                X(this, "getTooltipText", ()=>{
                    let {connected: e} = this.props;
                    return this.isFull() && !e ? z.default.Messages.UNABLE_TO_JOIN_CHANNEL_FULL : null
                }
                )
            }
        }
        let Q = (0,
        c.makeChannelSortable)((0,
        f.makeVoiceUserDroppable)(q));
        function J(e) {
            let {guild: t, channel: n, disableSorting: a, isFavoriteCategory: s, selected: r, collapsed: o, voiceStates: u} = e
              , d = (0,
            i.useStateFromStoresObject)([j.default], ()=>({
                unread: j.default.hasUnread(n.id),
                mentionCount: j.default.getMentionCount(n.id)
            }))
              , c = (0,
            i.useStateFromStores)([P.default], ()=>P.default.resolveUnreadSetting(n))
              , f = (0,
            i.useStateFromStoresObject)([y.default, b.default, D.default], ()=>{
                let e = y.default.getChannel(n.parent_id)
                  , l = b.default.getCheck(n.guild_id);
                return {
                    canManageChannel: D.default.can(K.Permissions.MANAGE_CHANNELS, n),
                    canReorderChannel: !0 !== a && (t.id === W.FAVORITES_RAW_GUILD_ID || (null != e ? D.default.can(K.Permissions.MANAGE_CHANNELS, e) : D.default.can(K.Permissions.MANAGE_CHANNELS, t))),
                    canMoveMembers: D.default.can(K.Permissions.MOVE_MEMBERS, n),
                    locked: !D.default.can(K.Permissions.CONNECT, n),
                    bypassLimit: D.default.can(K.Permissions.MOVE_MEMBERS, n),
                    unverifiedAccount: !l.canChat
                }
            }
            )
              , m = (0,
            i.useStateFromStores)([G.default], ()=>G.default.hasVideo(n.id))
              , C = (0,
            h.default)(n)
              , p = (0,
            g.default)(n)
              , E = (0,
            A.useActiveEvent)(n.id)
              , {isSubscriptionGated: S, needSubscriptionToAccess: I} = (0,
            T.default)(n.id)
              , N = (0,
            _.default)()
              , L = (0,
            i.useStateFromStores)([P.default], ()=>P.default.isFavorite(t.id, n.id))
              , x = e.connected || (null == N ? void 0 : N.channelId) === n.id
              , {enableHangStatus: R, allowChannelTopic: M} = v.HangStatusExperiment.useExperiment({
                guildId: n.guild_id,
                location: "VoiceChannel"
            }, {
                autoTrackExposure: !1
            })
              , O = (0,
            F.default)({
                channel: n,
                isChannelSelected: r,
                isChannelCollapsed: o,
                voiceStates: u,
                isSubscriptionGated: S,
                needSubscriptionToAccess: I,
                enableConnectedUserLimit: !0,
                enableActivities: !0
            })
              , U = x && null == O;
            return (0,
            l.jsx)(Q, {
                channelName: p,
                embeddedApps: C,
                embeddedActivityType: K.ActivityTypes.PLAYING,
                video: m,
                hasActiveEvent: null != E,
                isSubscriptionGated: S,
                needSubscriptionToAccess: I,
                ...d,
                ...f,
                ...e,
                connected: x,
                isFavoriteSuggestion: s && !L,
                forceShowButtons: U,
                channelInfo: O,
                enableHangStatus: R,
                allowChannelTopic: M,
                resolvedUnreadSetting: c
            })
        }
    },
    830993: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return L
            }
        }),
        n("47120"),
        n("653041");
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("481060")
          , r = n("58540")
          , o = n("619915")
          , u = n("620662")
          , d = n("841784")
          , c = n("471445")
          , f = n("430824")
          , h = n("496675")
          , m = n("158776")
          , C = n("979651")
          , p = n("823379")
          , g = n("355363")
          , E = n("737592")
          , S = n("561788")
          , _ = n("135724")
          , I = n("543432")
          , N = n("981631")
          , T = n("689938")
          , A = n("254193");
        function L(e) {
            var t, c;
            let {channel: f, guild: h, onAction: C, voiceStates: g, isChannelSelected: S, shouldShowSettingNudge: _} = e;
            !function(e, t) {
                let n = a.useMemo(()=>{
                    var n;
                    return null == t || t.length > 50 ? {} : {
                        [e.getGuildId()]: null !== (n = t.map(e=>{
                            let {user: t} = e;
                            return t.id
                        }
                        )) && void 0 !== n ? n : []
                    }
                }
                , [e, t]);
                (0,
                r.useSubscribeGuildMembers)(n)
            }(f, g);
            let I = (0,
            o.default)(f)
              , L = Array.from((0,
            o.useEmbeddedAppsWithPresence)(I).values())
              , x = null !== (t = null == g ? void 0 : g.filter(p.isNotNullish)) && void 0 !== t ? t : []
              , R = e=>t=>[N.ActivityTypes.PLAYING, N.ActivityTypes.WATCHING].includes(t.type) && (null != t.assets || null != t.state || null != t.details || null != t.party) && (null == t.session_id || t.session_id === e.voiceState.sessionId) || t.type === N.ActivityTypes.LISTENING
              , M = (0,
            s.useStateFromStores)([m.default], ()=>{
                let e = {};
                return x.forEach(t=>{
                    let n = m.default.findActivity(t.user.id, R(t));
                    if (null != n && !(0,
                    d.default)(n)) {
                        var l, a, s, i;
                        let r = "".concat(null !== (a = n.application_id) && void 0 !== a ? a : "", ":").concat(null !== (s = null === (l = n.party) || void 0 === l ? void 0 : l.id) && void 0 !== s ? s : t.user.id)
                          , o = null !== (i = e[r]) && void 0 !== i ? i : {
                            members: [],
                            activity: n
                        };
                        o.members.push(t),
                        !(0,
                        u.default)(o.activity, N.ActivityFlags.JOIN) && (o.activity = n),
                        e[r] = o
                    }
                }
                ),
                Object.values(e)
            }
            , [x], s.statesWillNeverBeEqual);
            return M.length + L.length === 0 ? null : (0,
            l.jsxs)(i.Scroller, {
                className: A.container,
                children: [(0,
                l.jsx)(v, {
                    channel: f,
                    isChannelSelected: S,
                    voiceStatesCount: null !== (c = null == g ? void 0 : g.length) && void 0 !== c ? c : 0
                }), (0,
                l.jsx)("div", {
                    className: A.headerDivider
                }), L.map((e,t)=>{
                    var n;
                    return (0,
                    l.jsx)(E.default, {
                        embeddedApp: e,
                        presenceActivity: null !== (n = e.presenceActivity) && void 0 !== n ? n : void 0,
                        channel: f,
                        onAction: C
                    }, t)
                }
                ), M.map((e,t)=>{
                    let {members: n, activity: a} = e;
                    return (0,
                    l.jsx)(E.default, {
                        presenceActivity: a,
                        channel: f,
                        members: n,
                        onAction: C
                    }, t)
                }
                ), _ && (0,
                l.jsxs)(l.Fragment, {
                    children: [(0,
                    l.jsx)("div", {
                        className: A.headerDivider
                    }), (0,
                    l.jsx)("div", {
                        className: A.settingNudgeText,
                        children: (0,
                        l.jsx)(i.Text, {
                            variant: "text-xs/normal",
                            tag: "span",
                            children: T.default.Messages.VOICE_CHANNEL_ACTIVITY_STATUS_REDIRECT.format({
                                onClick: ()=>{
                                    (0,
                                    i.openModalLazy)(async()=>{
                                        let {default: e} = await Promise.all([n.e("99387"), n.e("59500")]).then(n.bind(n, "241420"));
                                        return t=>(0,
                                        l.jsx)(e, {
                                            ...t,
                                            guild: h
                                        })
                                    }
                                    )
                                }
                            })
                        })
                    })]
                })]
            })
        }
        function v(e) {
            let {channel: t, isChannelSelected: n, voiceStatesCount: a} = e
              , i = (0,
            s.useStateFromStores)([h.default], ()=>!h.default.can(N.Permissions.CONNECT, t))
              , r = (0,
            s.useStateFromStores)([C.default], ()=>C.default.hasVideo(t.id))
              , o = (0,
            g.default)({
                channel: t,
                locked: i,
                video: r,
                selected: n
            })
              , u = (0,
            s.useStateFromStores)([f.default], ()=>f.default.getGuild(t.guild_id));
            return null == (0,
            c.getChannelIconComponent)(t, u) ? null : (0,
            l.jsxs)("div", {
                className: A.popoutHeaderContainer,
                children: [(0,
                l.jsx)(S.default, {
                    channel: t
                }), o ? (0,
                l.jsx)(_.default, {
                    userCount: a,
                    video: r,
                    channel: t
                }) : (0,
                l.jsx)(I.default, {
                    userCount: a
                })]
            })
        }
    },
    653577: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return S
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("442837")
          , o = n("481060")
          , u = n("362721")
          , d = n("12498")
          , c = n("454585")
          , f = n("514342")
          , h = n("586791")
          , m = n("626135")
          , C = n("981631")
          , p = n("689938")
          , g = n("965752")
          , E = n("946278");
        function S(e) {
            let {channel: t, connected: n, hovered: s, subtitle: S, onClick: _, enableHangStatus: I, allowChannelTopic: N} = e
              , T = (0,
            r.useStateFromStores)([d.default], ()=>d.default.getChannelStatus(t))
              , A = null != T && T.length > 0
              , L = (0,
            u.default)(t, !0)
              , v = (!I || !!N) && L
              , x = null != S && S.length > 0;
            a.useEffect(()=>{
                A && m.default.track(C.AnalyticEvents.VOICE_CHANNEL_TOPIC_VIEWED, {
                    guild_id: t.guild_id,
                    channel_id: t.id
                })
            }
            , [t.id, A, t.guild_id]);
            let R = (0,
            o.useRedesignIconContext)().enabled ? 12 : 14;
            if (null == t.guild_id)
                return null;
            let M = i()(g.statusDiv, n && v ? g.hoverable : null);
            if (A)
                return (0,
                l.jsx)(o.Clickable, {
                    className: M,
                    onClick: v ? _ : void 0,
                    children: (0,
                    l.jsx)(o.Text, {
                        variant: "text-xs/medium",
                        className: i()(g.statusText, E.markup),
                        children: (0,
                        l.jsx)(f.default, {
                            children: c.default.parseVoiceChannelStatus(T, !0, {
                                channelId: t.id
                            })
                        })
                    })
                });
            if (n && v && (!x || s))
                return (0,
                l.jsxs)(o.Clickable, {
                    className: M,
                    onClick: _,
                    children: [(0,
                    l.jsx)(o.Text, {
                        variant: "text-xs/medium",
                        className: g.statusText,
                        children: p.default.Messages.VOICE_CHANNEL_SET_STATUS
                    }), (0,
                    l.jsx)(h.default, {
                        className: g.pencilIcon,
                        width: R,
                        height: R
                    })]
                });
            if (x)
                return (0,
                l.jsx)(f.default, {
                    children: S
                });
            return null
        }
    },
    280102: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("119828")
          , r = n("924801");
        function o(e) {
            let {total: t, users: n, videoLimit: a} = e;
            return (0,
            l.jsxs)("div", {
                className: r.wrapper,
                children: [(0,
                l.jsxs)("span", {
                    className: s()(r.users, {
                        [r.video]: a,
                        [r.extraLong]: n >= 100
                    }),
                    children: [a ? (0,
                    l.jsx)(i.default, {
                        className: r.videoIcon
                    }) : null, n.toString().padStart(2, "0")]
                }), (0,
                l.jsx)("span", {
                    className: s()(r.total, {
                        [r.extraLong]: t >= 100
                    }),
                    children: t.toString().padStart(2, "0")
                })]
            })
        }
    },
    543432: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return r
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("481060")
          , s = n("158010")
          , i = n("394102");
        function r(e) {
            let {userCount: t} = e;
            return (0,
            l.jsxs)("div", {
                className: i.container,
                children: [(0,
                l.jsx)(s.default, {
                    width: 12,
                    height: 12,
                    className: i.peopleIcon
                }), (0,
                l.jsx)(a.Text, {
                    variant: "text-sm/normal",
                    color: "header-secondary",
                    className: i.userCountText,
                    children: t
                })]
            })
        }
    },
    506936: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            GuildVerificationPopoutTypes: function() {
                return a
            }
        });
        var l, a, s = n("735250");
        n("470079");
        var i = n("442837")
          , r = n("481060")
          , o = n("893776")
          , u = n("391650")
          , d = n("144114")
          , c = n("607744")
          , f = n("594174")
          , h = n("153124")
          , m = n("981631")
          , C = n("815660")
          , p = n("689938")
          , g = n("227960");
        (l = a || (a = {}))[l.VOICE = 0] = "VOICE";
        t.default = e=>{
            let {type: t, guildId: l, closePopout: a} = e
              , E = (0,
            h.useUID)()
              , {notClaimed: S, notEmailVerified: _, notPhoneVerified: I, newAccount: N, newMember: T} = (0,
            i.useStateFromStores)([c.default], ()=>c.default.getCheck(l), [l])
              , A = 0 === t ? p.default.Messages.GUILD_VERIFICATION_VOICE_HEADER : null
              , L = null
              , v = null;
            return (0 === t && (S ? (L = p.default.Messages.GUILD_VERIFICATION_VOICE_NOT_CLAIMED,
            v = p.default.Messages.CLAIM_ACCOUNT) : I ? (L = p.default.Messages.GUILD_VERIFICATION_VOICE_NOT_PHONE_VERIFIED,
            v = p.default.Messages.VERIFY_PHONE) : _ ? (L = p.default.Messages.GUILD_VERIFICATION_VOICE_NOT_VERIFIED,
            v = p.default.Messages.RESEND_VERIFICATION_EMAIL) : T ? (L = p.default.Messages.GUILD_VERIFICATION_VOICE_MEMBER_AGE.format({
                min: m.VerificationCriteria.MEMBER_AGE
            }),
            v = p.default.Messages.OKAY) : N && (L = p.default.Messages.GUILD_VERIFICATION_VOICE_ACCOUNT_AGE.format({
                min: m.VerificationCriteria.ACCOUNT_AGE
            }),
            v = p.default.Messages.OKAY)),
            null == A || null == L) ? null : (0,
            s.jsxs)(r.Dialog, {
                className: g.container,
                "aria-labelledby": E,
                children: [(0,
                s.jsx)("img", {
                    alt: "",
                    className: g.image,
                    src: n("64395")
                }), (0,
                s.jsxs)("div", {
                    className: g.content,
                    children: [(0,
                    s.jsx)(r.Heading, {
                        variant: "heading-md/semibold",
                        id: E,
                        children: A
                    }), (0,
                    s.jsx)(r.Text, {
                        color: "header-secondary",
                        variant: "text-sm/normal",
                        children: L
                    }), (0,
                    s.jsxs)("div", {
                        className: g.buttonContainer,
                        children: [null != v ? (0,
                        s.jsx)(r.Button, {
                            onClick: ()=>{
                                S ? u.openClaimAccountModal() : I ? (0,
                                r.openModalLazy)(async()=>{
                                    let {default: e} = await Promise.all([n.e("49237"), n.e("99387"), n.e("76540"), n.e("7954")]).then(n.bind(n, "607018"));
                                    return t=>(0,
                                    s.jsx)(e, {
                                        reason: d.ChangePhoneReason.GUILD_PHONE_REQUIRED,
                                        ...t
                                    })
                                }
                                , {
                                    modalKey: C.PHONE_VERIFICATION_MODAL_KEY
                                }) : _ && (o.default.verifyResend(),
                                (0,
                                r.openModal)(e=>{
                                    var t;
                                    return (0,
                                    s.jsx)(r.ConfirmModal, {
                                        header: p.default.Messages.VERIFICATION_EMAIL_TITLE,
                                        confirmText: p.default.Messages.OKAY,
                                        confirmButtonColor: r.Button.Colors.BRAND,
                                        ...e,
                                        children: (0,
                                        s.jsx)(r.Text, {
                                            variant: "text-md/normal",
                                            children: p.default.Messages.VERIFICATION_EMAIL_BODY.format({
                                                email: null === (t = f.default.getCurrentUser()) || void 0 === t ? void 0 : t.email
                                            })
                                        })
                                    })
                                }
                                )),
                                a()
                            }
                            ,
                            className: g.primaryButton,
                            children: v
                        }) : null, S || I || _ ? (0,
                        s.jsx)(r.Button, {
                            onClick: a,
                            look: r.Button.Looks.BLANK,
                            className: g.cancel,
                            children: p.default.Messages.NEVERMIND
                        }) : null]
                    })]
                })]
            })
        }
    },
    289090: function(e, t, n) {
        "use strict";
        var l, a;
        n.r(t),
        n.d(t, {
            SpecialGuildsNodeIds: function() {
                return l
            }
        }),
        (a = l || (l = {}))[a.PENDING_JOIN_REQUESTS_FOLDER = 1] = "PENDING_JOIN_REQUESTS_FOLDER"
    },
    901621: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return h
            }
        }),
        n("47120");
        var l = n("106351")
          , a = n("442837")
          , s = n("835473")
          , i = n("592125")
          , r = n("430824")
          , o = n("496675")
          , u = n("158776")
          , d = n("979651")
          , c = n("823379")
          , f = n("981631");
        function h(e) {
            let t = (0,
            a.useStateFromStores)([r.default], ()=>r.default.getGuild(e))
              , n = null == t ? void 0 : t.afkChannelId
              , h = (0,
            a.useStateFromStoresArray)([d.default, u.default, i.default, o.default], ()=>{
                let t = new Set
                  , a = d.default.getVoiceStates(e);
                for (let s in a) {
                    let r = i.default.getBasicChannel(a[s].channelId);
                    if (null != r && r.type !== l.ChannelTypes.GUILD_STAGE_VOICE && n !== r.id && !!o.default.canBasicChannel(f.BasicPermissions.VIEW_CHANNEL, r))
                        u.default.getActivities(s, e).forEach(e=>{
                            let n = e.application_id;
                            if (e.type !== f.ActivityTypes.PLAYING || null == n)
                                return [];
                            t.add(n)
                        }
                        )
                }
                return [...t]
            }
            , [n, e]);
            return (0,
            s.default)([...h]).filter(c.isNotNullish).length > 0
        }
    },
    605951: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return s
            }
        });
        var l = n("470079")
          , a = n("914010");
        function s(e) {
            l.useLayoutEffect(()=>{
                let t = null;
                function n() {
                    let n = a.default.getGuildId();
                    n !== t && (t = null != n ? n : null,
                    e(null != n ? n : null, !1))
                }
                return a.default.addChangeListener(n),
                n(),
                ()=>{
                    a.default.removeChangeListener(n)
                }
            }
            , [e])
        }
    },
    278464: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            useIsHomeSelected: function() {
                return i
            }
        });
        var l = n("266067")
          , a = n("905423")
          , s = n("981631");
        function i() {
            let e = (0,
            a.default)(e=>e.guildId)
              , {pathname: t} = (0,
            l.useLocation)()
              , n = t.startsWith(s.Routes.GUILD_DISCOVERY)
              , i = t.startsWith(s.Routes.GUILD_MEMBER_VERIFICATION(""))
              , r = t.startsWith(s.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(""));
            return null == e && !(n || i || r)
        }
    },
    61634: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return O
            }
        }),
        n("47120");
        var l = n("470079")
          , a = n("392711")
          , s = n.n(a)
          , i = n("106351")
          , r = n("442837")
          , o = n("846519")
          , u = n("941028")
          , d = n("867176")
          , c = n("317381")
          , f = n("554747")
          , h = n("146085")
          , m = n("427679")
          , C = n("131704")
          , p = n("199902")
          , g = n("314897")
          , E = n("592125")
          , S = n("650774")
          , _ = n("430824")
          , I = n("496675")
          , N = n("944486")
          , T = n("9156")
          , A = n("979651")
          , L = n("709054")
          , v = n("510601")
          , x = n("901621")
          , R = n("981631");
        let M = [];
        function y(e, t) {
            let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : I.default;
            return null != e && e.type !== i.ChannelTypes.GUILD_STAGE_VOICE && t !== e.id && n.canBasicChannel(R.BasicPermissions.VIEW_CHANNEL, e)
        }
        function O(e) {
            var t;
            let n = (0,
            r.useStateFromStores)([T.default], ()=>T.default.isMuted(e))
              , a = (0,
            f.useGuildActiveEvent)(e);
            !function(e, t) {
                let n = l.useRef(new Set)
                  , a = l.useRef(new o.Timeout)
                  , {shouldSubscribeToGuildMemberUpdates: i} = v.default.useExperiment({
                    location: "useGuildMediaState"
                }, {
                    autoTrackExposure: !1
                })
                  , d = (0,
                r.useStateFromStores)([S.default], ()=>{
                    let t = S.default.getMemberCount(e);
                    return null == t || t > 1e3
                }
                )
                  , c = (0,
                r.useStateFromStoresObject)([A.default], ()=>{
                    if (!i || t || d)
                        return M;
                    let n = Object.keys(A.default.getVoiceStates(e));
                    return 0 === n.length ? M : n.slice(0, 50)
                }
                , [e, t, d, i]);
                l.useEffect(()=>{
                    !function(e, t, n, l, a) {
                        let i = s().random(1e3, 1e4);
                        l.start(i, ()=>{
                            let l = new Set(t)
                              , s = t.filter(e=>!n.has(e))
                              , i = Array.from(n).filter(e=>!l.has(e));
                            (0,
                            u.unsubscribeMembers)(e, i),
                            (0,
                            u.subscribeMembers)(e, s),
                            a()
                        }
                        )
                    }(e, c, n.current, a.current, ()=>{
                        n.current = new Set(c)
                    }
                    )
                }
                , [e, c]),
                l.useEffect(()=>()=>{
                    a.current.stop(),
                    (0,
                    u.unsubscribeMembers)(e, Array.from(n.current))
                }
                , [e])
            }(e, n);
            let i = (0,
            x.default)(e)
              , R = (0,
            r.useStateFromStores)([c.default], ()=>c.default.getEmbeddedActivitiesForGuild(e))
              , O = (0,
            d.useIsActivitiesInTextEnabled)(null === (t = R[0]) || void 0 === t ? void 0 : t.channelId, !1, "GuildMediaState")
              , {guildHasVoice: b, guildHasVideo: D, selectedVoiceChannelHasVideo: j} = (0,
            r.useStateFromStoresObject)([A.default, E.default, I.default, _.default, N.default], ()=>{
                var t;
                let l = N.default.getVoiceChannelId()
                  , a = null === (t = _.default.getGuild(e)) || void 0 === t ? void 0 : t.afkChannelId
                  , s = A.default.getUsersWithVideo(e)
                  , i = A.default.getVoiceStates(e)
                  , r = (()=>{
                    if (n)
                        return !1;
                    for (let e in i)
                        if (y(E.default.getBasicChannel(i[e].channelId), null != a ? a : void 0, I.default))
                            return !0;
                    return !1
                }
                )();
                return {
                    guildHasVoice: r,
                    guildHasVideo: (()=>{
                        if (n)
                            return !1;
                        for (let e of s)
                            if (y(E.default.getBasicChannel(i[e].channelId), null != a ? a : void 0, I.default))
                                return !0;
                        return !1
                    }
                    )(),
                    selectedVoiceChannelHasVideo: null != l && A.default.hasVideo(l)
                }
            }
            , [e, n])
              , P = g.default.getId();
            return (0,
            r.useStateFromStoresObject)([N.default, p.default, m.default, E.default, I.default, c.default], ()=>{
                var t, l, s;
                let r = N.default.getVoiceChannelId()
                  , o = (null === (t = E.default.getChannel(r)) || void 0 === t ? void 0 : t.guild_id) === e
                  , u = !1
                  , d = !1
                  , f = !1
                  , g = !1
                  , S = !1
                  , _ = !1;
                if (!o && n)
                    return {
                        audio: u,
                        video: g,
                        screenshare: S,
                        liveStage: f,
                        activeEvent: d,
                        activity: _,
                        gaming: i,
                        isCurrentUserConnected: !1
                    };
                let T = L.default.keys(m.default.getStageInstancesByGuild(e)).some(e=>{
                    let t = E.default.getChannel(e);
                    return null != t && I.default.can(h.JOIN_VOCAL_CHANNEL_PERMISSIONS, t)
                }
                )
                  , A = o && null !== (s = null === (l = E.default.getChannel(r)) || void 0 === l ? void 0 : l.isGuildStageVoice()) && void 0 !== s && s
                  , v = !!o && null != p.default.getActiveStreamForUser(P, e)
                  , x = p.default.getAllApplicationStreams().some(t=>t.guildId === e)
                  , M = o && j
                  , y = (()=>{
                    if (O)
                        return R.length > 0;
                    for (let e of R) {
                        let t = E.default.getChannel(e.channelId);
                        if (null != t && (0,
                        C.isVoiceChannel)(t.type))
                            return !0
                    }
                    return !1
                }
                )()
                  , G = c.default.getEmbeddedActivitiesForGuild(e).length > 0;
                return o ? (u = !0,
                d = (null == a ? void 0 : a.channel_id) === r,
                f = A,
                g = M,
                S = v,
                _ = G) : (u = b,
                d = null != a,
                f = T,
                g = D,
                S = x,
                _ = y),
                {
                    audio: u,
                    video: g,
                    screenshare: S,
                    liveStage: f,
                    activeEvent: d,
                    activity: _,
                    gaming: i,
                    isCurrentUserConnected: o || A
                }
            }
            , [P, R, i, a, e, O, n, D, b, j])
        }
    },
    234383: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return i
            }
        });
        var l = n("442837")
          , a = n("937111")
          , s = n("430824");
        function i() {
            return (0,
            l.useStateFromStoresArray)([a.default, s.default], ()=>{
                let e = a.default.computeGuildIds()
                  , t = s.default.getGuilds();
                return e.filter(e=>null == t[e])
            }
            )
        }
    },
    919436: function(e, t, n) {
        "use strict";
        n.r(t),
        n("411104"),
        n("47120");
        var l, a = n("735250"), s = n("470079"), i = n("920906"), r = n("924826"), o = n("442837"), u = n("481060"), d = n("239091"), c = n("358221"), f = n("43267"), h = n("933557"), m = n("93687"), C = n("266076"), p = n("199902"), g = n("19780"), E = n("306680"), S = n("944486"), _ = n("594174"), I = n("451478"), N = n("880080"), T = n("682662"), A = n("662146"), L = n("674552"), v = n("981631"), x = n("134751");
        function R(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let M = {
            friction: 28,
            tension: 600
        };
        function y(e) {
            switch (e) {
            case "height":
            case "opacity":
                return {
                    duration: 150,
                    ...M
                };
            case "scale":
                return {
                    ...M
                };
            default:
                throw Error("DirectMessage: getSpringConfigs() - Invalid spring ".concat(String(e)))
            }
        }
        class O extends (l = s.PureComponent) {
            componentWillEnter(e) {
                let {controller: t} = this.state;
                e(),
                t.update({
                    immediate: !I.default.isFocused(),
                    height: 1,
                    opacity: 1,
                    scale: 1,
                    config: y
                }).start().then(()=>this.setState({
                    animating: !1
                }))
            }
            componentWillAppear(e) {
                let {controller: t} = this.state;
                t.update({
                    immediate: !0,
                    scale: 1,
                    opacity: 1,
                    height: 1,
                    config: y
                }).start().then(e)
            }
            componentWillLeave(e) {
                let {controller: t} = this.state;
                this.setState({
                    animating: !0
                }, ()=>t.update({
                    immediate: !I.default.isFocused(),
                    height: 0,
                    opacity: 0,
                    scale: 0,
                    config: y
                }).start().then(e))
            }
            componentWillUnmount() {
                this.state.controller.dispose()
            }
            getAnimatedStyle() {
                let {controller: e} = this.state
                  , {opacity: t, height: n, scale: l} = e.springs;
                return {
                    opacity: t,
                    height: n.to([0, 1], [0, 56]),
                    transform: l.to([0, 1], [.5, 1]).to(e=>"scale(".concat(e, ")"))
                }
            }
            getChannelIcon() {
                let {channel: e} = this.props
                  , t = e.type === v.ChannelTypes.DM ? _.default.getUser(e.getRecipientId()) : null;
                return null != t ? t.getAvatarURL(void 0, 48, !1) : (0,
                f.getChannelIconURL)(e)
            }
            render() {
                let {channel: e, channelName: t, selected: n, badge: l, audio: s, video: o, stream: d, isCurrentUserInThisDMCall: c, unread: f, isGDMFacepileEnabled: h} = this.props
                  , {hovered: m, animating: p} = this.state
                  , g = e.isMultiUserDM() && null == e.icon && h;
                return (0,
                a.jsx)(i.animated.div, {
                    style: this.getAnimatedStyle(),
                    children: (0,
                    a.jsxs)(T.ListItem, {
                        children: [(0,
                        a.jsx)(N.default, {
                            hovered: !p && m,
                            selected: !p && n,
                            unread: !p && f,
                            className: x.pill
                        }), (0,
                        a.jsx)(A.default, {
                            text: null != t ? t : "",
                            selected: n,
                            children: (0,
                            a.jsx)(u.BlobMask, {
                                selected: n || m,
                                lowerBadge: l > 0 ? (0,
                                L.renderMentionBadge)(l) : null,
                                upperBadge: (0,
                                L.renderMediaBadge)({
                                    audio: s,
                                    video: o,
                                    screenshare: d,
                                    isCurrentUserConnected: c
                                }),
                                lowerBadgeSize: {
                                    width: (0,
                                    u.getBadgeWidthForValue)(l)
                                },
                                children: (0,
                                a.jsx)(r.ListNavigatorItem, {
                                    id: e.id,
                                    children: l=>(0,
                                    a.jsx)(u.NavItem, {
                                        to: v.Routes.CHANNEL(v.ME, e.id),
                                        onMouseEnter: ()=>this.setState({
                                            hovered: !0
                                        }),
                                        onMouseLeave: ()=>this.setState({
                                            hovered: !1
                                        }),
                                        selected: n || m,
                                        ariaLabel: null != t ? t : "",
                                        onContextMenu: this.handleContextMenu,
                                        icon: g ? void 0 : this.getChannelIcon(),
                                        backgroundStyle: g ? "on-hover" : "always",
                                        children: g ? (0,
                                        a.jsx)(C.default, {
                                            channel: e,
                                            size: u.AvatarSizes.SIZE_48,
                                            facepileSizeOverride: u.AvatarSizes.SIZE_32,
                                            experimentLocation: "unread_gdm",
                                            "aria-hidden": !0
                                        }) : void 0,
                                        ...l
                                    })
                                })
                            })
                        })]
                    })
                })
            }
            constructor(...e) {
                super(...e),
                R(this, "state", {
                    hovered: !1,
                    animating: !0,
                    controller: new i.Controller({
                        scale: 0,
                        height: 0,
                        opacity: 0,
                        config: y
                    })
                }),
                R(this, "handleContextMenu", e=>{
                    let {channel: t} = this.props
                      , l = t.type === v.ChannelTypes.DM ? _.default.getUser(t.getRecipientId()) : null;
                    null != l ? (0,
                    d.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await Promise.all([n.e("99387"), n.e("36441"), n.e("56826")]).then(n.bind(n, "131404"));
                        return n=>(0,
                        a.jsx)(e, {
                            ...n,
                            channel: t,
                            user: l
                        })
                    }
                    ) : (0,
                    d.openContextMenuLazy)(e, async()=>{
                        let {default: e} = await Promise.all([n.e("99387"), n.e("25421")]).then(n.bind(n, "354741"));
                        return n=>(0,
                        a.jsx)(e, {
                            ...n,
                            channel: t,
                            selected: !1
                        })
                    }
                    )
                }
                )
            }
        }
        R(O, "defaultProps", {
            badge: 0,
            audio: !1,
            video: !1,
            isCurrentUserInThisDMCall: !1
        }),
        t.default = s.forwardRef(function(e, t) {
            let n = e.channel.id
              , l = (0,
            h.default)(e.channel)
              , s = (0,
            o.useStateFromStores)([g.default], ()=>g.default.getChannelId(), [])
              , i = (0,
            o.useStateFromStores)([c.default], ()=>null != s ? c.default.getMode(s) : v.ChannelModes.VOICE, [s])
              , r = (0,
            o.useStateFromStores)([p.default], ()=>p.default.getAllApplicationStreamsForChannel(n).length > 0)
              , u = (0,
            o.useStateFromStores)([S.default], ()=>S.default.getChannelId(), [])
              , d = (0,
            o.useStateFromStores)([E.default], ()=>E.default.getMentionCount(n), [n])
              , {isFacepileEnabled: f} = m.default.useExperiment({
                location: "unread_direct_message"
            }, {
                autoTrackExposure: !1
            })
              , C = s === n
              , _ = !1
              , I = !1;
            return C && (_ = i === v.ChannelModes.VOICE,
            I = i === v.ChannelModes.VIDEO),
            (0,
            a.jsx)(O, {
                ...e,
                ref: t,
                channelName: l,
                unread: d > 0,
                selected: u === n,
                badge: d,
                audio: _,
                video: I,
                stream: r,
                isCurrentUserInThisDMCall: C,
                isGDMFacepileEnabled: f
            })
        })
    },
    199540: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return A
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("920906")
          , o = n("866442")
          , u = n("442837")
          , d = n("477690")
          , c = n("481060")
          , f = n("430824")
          , h = n("346656")
          , m = n("286908")
          , C = n("624138")
          , p = n("674552")
          , g = n("981631")
          , E = n("689938")
          , S = n("538962");
        let _ = (0,
        C.cssValueToNumber)(d.default.FOLDER_ITEM_ANIMATION_DURATION)
          , I = (0,
        C.cssValueToNumber)(d.default.FOLDER_ITEM_GUILD_ICON_SIZE);
        function N(e) {
            let {guildId: t, animate: n} = e
              , a = (0,
            u.useStateFromStores)([f.default], ()=>f.default.getGuild(t), [t]);
            return null == a ? (0,
            l.jsx)("div", {
                className: S.guildIconUnavailable,
                children: "!"
            }) : (0,
            l.jsx)(h.default, {
                guild: a,
                animate: n,
                size: h.default.Sizes.SMOL,
                className: S.guildIcon,
                tabIndex: -1
            })
        }
        function T(e) {
            let t, n, {folderNode: s, hovered: i, expanded: u} = e, {color: d, children: c} = s, f = null != d ? d : g.DEFAULT_FOLDER_COLOR, h = c.map(e=>e.id), [C,p] = a.useState(!1), [E,T] = a.useState(u), A = u ? 0 : -I, L = (0,
            r.useSpring)({
                transform: "translate3d(0, ".concat(A, "px, 0)"),
                config: {
                    duration: _
                },
                onStart() {
                    p(!0),
                    T(u)
                },
                onRest() {
                    p(!1),
                    T(u)
                }
            }), v = C ? L : void 0;
            return (C || E) && (t = (0,
            l.jsx)(r.animated.div, {
                style: v,
                className: S.expandedFolderIconWrapper,
                children: (0,
                l.jsx)(m.default, {
                    style: {
                        color: (0,
                        o.int2hex)(f)
                    }
                })
            })),
            (C || !E) && (n = (0,
            l.jsx)(r.animated.div, {
                style: v,
                className: S.closedFolderIconWrapper,
                children: h.slice(0, 4).map(e=>(0,
                l.jsx)(N, {
                    guildId: e,
                    animate: i
                }, e))
            })),
            (0,
            l.jsxs)("div", {
                "aria-hidden": !0,
                style: u ? void 0 : {
                    backgroundColor: (0,
                    o.int2rgba)(f, .4)
                },
                className: S.folderIconWrapper,
                children: [t, n]
            })
        }
        function A(e) {
            let {folderNode: t, forceCircular: n, expanded: s, sorting: r, mediaState: o, mentionCount: u=0, tooltipName: d, folderGroupId: f, folderIconContent: h, onClick: m, onContextMenu: C, onHoverChange: g, onKeyDown: _, treeItemProps: {onFocus: I, ...N}} = e
              , [A,L] = a.useState(!1)
              , v = a.useCallback(()=>{
                r || L(!0),
                null == g || g(!0)
            }
            , [r, g])
              , x = a.useCallback(()=>{
                r || L(!1),
                null == g || g(!1)
            }
            , [r, g])
              , R = s || null == o ? null : (0,
            p.renderMediaBadge)(o)
              , M = !s && u > 0 ? (0,
            p.renderMentionBadge)(u) : null;
            return (0,
            l.jsx)(c.BlobMask, {
                selected: !n,
                upperBadge: R,
                lowerBadge: M,
                lowerBadgeSize: {
                    width: (0,
                    c.getBadgeWidthForValue)(u)
                },
                children: (0,
                l.jsx)(c.Clickable, {
                    className: i()(S.folder, {
                        [S.hover]: A
                    }),
                    onClick: m,
                    onContextMenu: C,
                    onMouseEnter: v,
                    onMouseLeave: x,
                    onKeyDown: _,
                    onFocus: I,
                    "aria-label": E.default.Messages.GUILD_FOLDER_TOOLTIP_A11Y_LABEL.format({
                        folderName: d,
                        mentions: u
                    }),
                    "aria-expanded": s,
                    "aria-owns": f,
                    focusProps: {
                        enabled: !1
                    },
                    ...N,
                    role: "treeitem",
                    children: null != h ? (0,
                    l.jsx)("div", {
                        className: S.expandedFolderIconWrapper,
                        children: h
                    }) : (0,
                    l.jsx)(T, {
                        folderNode: t,
                        hovered: A,
                        expanded: s
                    })
                })
            })
        }
    },
    249792: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return f
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("920906")
          , r = n("692547")
          , o = n("481060")
          , u = n("346656")
          , d = n("252686")
          , c = n("538962");
        function f(e) {
            let {guild: t, show: n, active: a, onAnimationStart: f, onAnimationRest: h} = e
              , m = {}
              , C = {};
            m.transform = "translate3d(10px, 10px, 0) scale3d(3, 3, 1)",
            C.transform = "translate3d(0, 0, 0) scale3d(1, 1, 1)";
            let p = (0,
            o.useToken)(r.default.unsafe_rawColors.BRAND_500).hex()
              , g = (0,
            o.useToken)(r.default.unsafe_rawColors.PRIMARY_630).hex();
            a && null == t.icon && (m.backgroundColor = p,
            C.backgroundColor = g);
            let E = (0,
            i.useTransition)(n, {
                from: m,
                enter: C,
                leave: m,
                config: {
                    duration: 100
                },
                onStart: f,
                onRest: h
            });
            return (0,
            l.jsx)(l.Fragment, {
                children: E((e,n,a)=>n && (0,
                l.jsx)("div", {
                    className: s()(c.folder, c.hover),
                    children: (0,
                    l.jsx)("div", {
                        className: c.folderIconWrapper,
                        children: (0,
                        l.jsxs)("div", {
                            className: c.closedFolderIconWrapper,
                            children: [(0,
                            l.jsx)(i.animated.div, {
                                className: c.folderIconPreview,
                                style: e,
                                children: (0,
                                l.jsx)(u.default, {
                                    guild: t,
                                    size: u.default.Sizes.SMOL,
                                    className: c.guildIcon
                                })
                            }), (0,
                            l.jsx)(d.default, {
                                className: c.miniPlaceholder
                            })]
                        })
                    })
                }, a.key))
            })
        }
    },
    40153: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            FolderEndDropTarget: function() {
                return I
            },
            PlaceholderDropTarget: function() {
                return N
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("512722")
          , o = n.n(r)
          , u = n("176617")
          , d = n("749210")
          , c = n("626135")
          , f = n("727258")
          , h = n("662146")
          , m = n("981631")
          , C = n("689938")
          , p = n("990237");
        function g(e) {
            let t = a.useRef(null)
              , n = e.map(e=>e[0]);
            return a.useLayoutEffect(()=>{
                let n = requestAnimationFrame(()=>{
                    let n = t.current;
                    if (null != n)
                        for (let[t,l] of e)
                            t ? n.classList.add(l) : n.classList.remove(l)
                }
                );
                return ()=>cancelAnimationFrame(n)
            }
            , n),
            t
        }
        function E(e, t) {
            let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]
              , l = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
            return o()(t.type !== f.GuildsNodeType.ROOT, "[GuildDropTarget] Tried using a root node as a drop target."),
            {
                accept: e,
                canDrop: e=>e.nodeId !== t.id && (!l || e.type !== f.GuildsNodeType.FOLDER || t.type !== f.GuildsNodeType.FOLDER) && (e.type !== f.GuildsNodeType.FOLDER || null == t.parentId) && !0,
                drop(e) {
                    let {nodeId: a} = e;
                    l && t.type !== f.GuildsNodeType.FOLDER && c.default.track(m.AnalyticEvents.GUILD_FOLDER_CREATED),
                    d.default.moveById(a, t.id, n, l)
                },
                collect: e=>({
                    canDrop: e.canDrop(),
                    isOver: e.isOver()
                })
            }
        }
        function S(e) {
            let {name: t, targetNode: n, combine: s, below: r} = e
              , o = a.useMemo(()=>E([f.GuildsNodeType.GUILD, f.GuildsNodeType.FOLDER], n, r, s), [n, r, s])
              , [{canDrop: d, isOver: c},h] = (0,
            u.useDrop)(o)
              , m = g([[d, p.autoPointerEvents], [c, p.dragOver]]);
            return (0,
            l.jsx)("div", {
                ref: e=>{
                    m.current = e,
                    h(e)
                }
                ,
                "data-dnd-name": C.default.Messages.DND_DROP_ABOVE.format({
                    itemName: t
                }),
                className: i()(p.target)
            })
        }
        function _(e) {
            let {name: t, targetNode: n, onDragOverChanged: s} = e
              , [{canDrop: r, isOver: o},d] = (0,
            u.useDrop)(()=>E([f.GuildsNodeType.GUILD], n, !0, !0));
            a.useEffect(()=>{
                null == s || s(o)
            }
            , [s, o]);
            let c = g([[r, p.autoPointerEvents], [o, p.dragOver]]);
            return (0,
            l.jsx)(h.default, {
                text: t,
                shouldShow: o,
                forceOpen: o,
                disableWrapper: !0,
                tooltipClass: p.centerTargetTooltip,
                children: (0,
                l.jsx)("div", {
                    ref: e=>{
                        c.current = e,
                        d(e)
                    }
                    ,
                    "data-dnd-name": C.default.Messages.DND_DROP_COMBINE.format({
                        itemName: t
                    }),
                    className: i()(p.centerTarget, {})
                })
            })
        }
        function I(e) {
            let {name: t, targetNode: n} = e
              , [{canDrop: a, isOver: s},r] = (0,
            u.useDrop)(()=>E([f.GuildsNodeType.GUILD], n, !0, !0))
              , o = g([[s, p.wrapperOver]])
              , d = g([[s, p.dragOver], [a, p.autoPointerEvents]]);
            return (0,
            l.jsx)("div", {
                ref: o,
                className: i()(p.folderEndWrapper),
                "aria-hidden": !0,
                children: (0,
                l.jsx)("div", {
                    className: p.folderTarget,
                    children: (0,
                    l.jsx)("div", {
                        ref: e=>{
                            d.current = e,
                            r(e)
                        }
                        ,
                        "aria-label": "At end of ".concat(t),
                        className: i()(p.target)
                    })
                })
            })
        }
        function N(e) {
            let {children: t} = e
              , [,n] = (0,
            u.useDrop)({
                accept: []
            });
            return (0,
            l.jsx)("div", {
                ref: n,
                children: t
            })
        }
        t.default = a.memo(function(e) {
            let {name: t, targetNode: n, noCombine: a=!1, below: s=!1, onDragOverChanged: i} = e
              , r = !a && null == n.parentId;
            return (0,
            l.jsxs)("div", {
                className: p.wrapper,
                "aria-hidden": !0,
                children: [(0,
                l.jsx)(S, {
                    name: t,
                    targetNode: n,
                    below: s
                }), r ? (0,
                l.jsx)(_, {
                    name: t,
                    targetNode: n,
                    onDragOverChanged: i
                }) : null]
            })
        })
    },
    416568: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("392711")
          , o = n.n(r)
          , u = n("699581")
          , d = n("613828")
          , c = n("924826")
          , f = n("374470")
          , h = n("442837")
          , m = n("902704")
          , C = n("846519")
          , p = n("481060")
          , g = n("925549")
          , E = n("209613")
          , S = n("100527")
          , _ = n("906732")
          , I = n("358221")
          , N = n("963202")
          , T = n("353093")
          , A = n("706590")
          , L = n("940777")
          , v = n("41776")
          , x = n("905423")
          , R = n("802718")
          , M = n("796974")
          , y = n("271383")
          , O = n("430824")
          , b = n("771845")
          , D = n("358085")
          , j = n("709054")
          , P = n("792125")
          , G = n("727258")
          , U = n("605951")
          , w = n("474109")
          , B = n("741616")
          , F = n("187835")
          , V = n("162050")
          , H = n("118122")
          , k = n("193154")
          , Y = n("602147")
          , K = n("773182")
          , W = n("222059")
          , z = n("751277")
          , Z = n("65721")
          , X = n("843343")
          , q = n("654142")
          , Q = n("695301")
          , J = n("836697")
          , $ = n("921230")
          , ee = n("981631")
          , et = n("689938")
          , en = n("31836");
        function el(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let ea = 56
          , es = (0,
        D.isWindows)() ? 4 : (0,
        D.isMac)() ? 0 : 12
          , ei = ea - 16
          , er = es + 10;
        class eo {
            setGuildsTree(e) {
                this.guildsTree = e
            }
            constructor(e, t, n, l, s) {
                el(this, "guildsTree", void 0),
                el(this, "setScrolling", void 0),
                el(this, "onScroll", void 0),
                el(this, "onScrollStateChanged", void 0),
                el(this, "scrollToDiscovery", void 0),
                el(this, "scrollerRef", void 0),
                el(this, "guildDiscoveryRef", void 0),
                el(this, "nodeRefs", void 0),
                el(this, "timeout", void 0),
                el(this, "isScrolling", void 0),
                el(this, "isNearBottom", void 0),
                el(this, "scrollToGuild", void 0),
                el(this, "handleJumpToGuild", void 0),
                el(this, "scrollTo", void 0),
                el(this, "isItemVisible", void 0),
                el(this, "handleScroll", void 0),
                el(this, "_handleScrollDebounced", void 0),
                el(this, "_handleScrollThrottled", void 0),
                el(this, "setNodeRef", void 0),
                this.guildsTree = e,
                this.setScrolling = t,
                this.onScroll = n,
                this.onScrollStateChanged = l,
                this.scrollToDiscovery = s,
                this.scrollerRef = a.createRef(),
                this.guildDiscoveryRef = a.createRef(),
                this.nodeRefs = {},
                this.timeout = new C.Timeout,
                this.isScrolling = !1,
                this.isNearBottom = !1,
                this.scrollToGuild = (e,t)=>{
                    let n = this.scrollerRef.current;
                    if (null == n)
                        return;
                    if (null == e && window.location.pathname.startsWith(ee.Routes.GUILD_DISCOVERY) || e === ee.ViewHistoryKeys.SERVER_DISCOVERY_BADGE || e === ee.ViewHistoryKeys.E3_SERVER_DISCOVERY_BADGE) {
                        if (this.scrollToDiscovery) {
                            let e = (0,
                            u.findDOMNode)(this.guildDiscoveryRef.current);
                            (0,
                            f.isElement)(e, HTMLElement) ? n.scrollIntoViewNode({
                                node: e,
                                animate: t,
                                padding: 8
                            }) : n.scrollTo({
                                to: 0,
                                animate: t
                            })
                        }
                        return
                    }
                    if (null == e) {
                        n.scrollTo({
                            to: 0,
                            animate: t
                        });
                        return
                    }
                    let l = this.nodeRefs[e];
                    for (; null == l; ) {
                        let t = this.guildsTree.getNode(e);
                        if ((null == t ? void 0 : t.parentId) == null)
                            break;
                        l = this.nodeRefs[t.parentId]
                    }
                    null != l && (0,
                    f.isElement)(l) ? n.scrollIntoViewNode({
                        node: l,
                        animate: t,
                        padding: 8
                    }) : n.scrollTo({
                        to: 0,
                        animate: t
                    })
                }
                ,
                this.handleJumpToGuild = e=>{
                    this.scrollToGuild(e, !0)
                }
                ,
                this.scrollTo = e=>{
                    var t;
                    null === (t = this.scrollerRef.current) || void 0 === t || t.scrollTo(e)
                }
                ,
                this.isItemVisible = (e,t,n)=>{
                    let l = this.scrollerRef.current;
                    if (null == l)
                        return !1;
                    let a = n.findIndex(t=>"string" == typeof t || null == t ? t === e : t.includes(e));
                    if (a < 0)
                        return !1;
                    let s = ea * a + er;
                    !t && (s += ei);
                    let i = l.getScrollerState();
                    return !t && !!(s >= i.scrollTop) || !!t && !!(s + ea <= i.scrollTop + i.offsetHeight) || !1
                }
                ,
                this.handleScroll = ()=>{
                    !this.isScrolling && this.setScrolling(!0),
                    this.timeout.start(200, ()=>this.setScrolling(!1)),
                    this._handleScrollDebounced(),
                    this._handleScrollThrottled()
                }
                ,
                this._handleScrollDebounced = o().debounce(()=>{
                    let e = this.scrollerRef.current;
                    if (null == e)
                        return;
                    let {scrollTop: t} = e.getScrollerState();
                    g.default.updateGuildListScrollTo(t),
                    this.onScroll()
                }
                , 200),
                this._handleScrollThrottled = o().throttle(()=>{
                    let e = this.scrollerRef.current;
                    if (null == e)
                        return;
                    let {scrollTop: t, scrollHeight: n, offsetHeight: l} = e.getScrollerState()
                      , a = t + l >= n - 24;
                    a !== this.isNearBottom && (this.isNearBottom = a,
                    this.onScrollStateChanged({
                        isNearBottom: a
                    }))
                }
                , 100),
                this.setNodeRef = (e,t)=>{
                    this.nodeRefs[e] = t
                }
            }
        }
        function eu(e) {
            let {disableAppDownload: t=D.isPlatformEmbedded, isOverlay: n=!1, className: s, themeOverride: r} = e
              , [o] = (0,
            h.useStateFromStoresArray)([b.default], ()=>{
                let e = b.default.getGuildsTree();
                return [e, e.version]
            }
            )
              , u = (0,
            h.useStateFromStores)([v.default], ()=>v.default.lurkingGuildIds())
              , f = a.useMemo(()=>n ? [] : u, [u, n])
              , m = (0,
            h.useStateFromStoresArray)([O.default, y.default], ()=>j.default.keys(O.default.getGuilds()).filter(e=>y.default.isCurrentUserGuest(e)))
              , g = f.concat(m)
              , E = (0,
            h.useStateFromStores)([I.default], ()=>I.default.isFullscreenInContext())
              , el = (0,
            h.useStateFromStores)([O.default], ()=>O.default.getGeoRestrictedGuilds())
              , [ea,es] = a.useState(!1)
              , ei = a.useCallback(()=>es(!0), [])
              , er = a.useCallback(()=>es(!1), [])
              , eu = a.useRef(!1)
              , [ed] = a.useState(()=>new C.Timeout)
              , ec = a.useRef(null)
              , ef = a.useRef(null)
              , [eh,em] = a.useState(!1)
              , {guilds: eC, defaultGameId: ep} = (0,
            N.useClanPrepilotExperimentForAllGuilds)({
                location: "guilds_bar",
                includeConverted: !0
            })
              , eg = eC.length > 0
              , eE = a.useMemo(()=>eC.filter(e=>!(0,
            T.isGuildAClan)(e)), [eC]).length > 0
              , {clanDiscoveryEnabled: eS, defaultGameId: e_} = (0,
            N.useClanPilotExperiment)("guilds_bar")
              , eI = a.useMemo(()=>eE ? K.GuildsBarClanAdminUpsellPopout : eS ? K.GuildsBarClanUserUpsellPopout : void 0, [eS, eE])
              , eN = a.useMemo(()=>eE ? ep : eS ? e_ : void 0, [ep, eS, eE, e_])
              , eT = null != eI
              , eA = !eT
              , {ref: eL, ...ev} = (0,
            c.useListContainerProps)()
              , ex = (0,
            p.useFocusJumpSection)()
              , [eR,eM] = a.useState(!1)
              , ey = a.useMemo(()=>new eo(o,eM,()=>{
                var e, t;
                null === (e = ec.current) || void 0 === e || e.calculateState(),
                null === (t = ef.current) || void 0 === t || t.calculateState()
            }
            ,e=>{
                let {isNearBottom: t} = e;
                em(t)
            }
            ,eA), [o, eA])
              , {analyticsLocations: eO} = (0,
            _.default)(S.default.GUILDS_LIST)
              , {pathname: eb} = (0,
            d.useLocation)()
              , eD = eb.startsWith(ee.Routes.GUILD_DISCOVERY)
              , ej = eb.startsWith(ee.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(""));
            a.useLayoutEffect(()=>{
                if (!eu.current) {
                    if (0 !== o.size) {
                        if (eD)
                            ey.scrollToGuild(null, !1);
                        else {
                            let {scrollTop: e} = M.default.getGuildListDimensions();
                            ey.scrollTo({
                                to: e,
                                animate: !1
                            })
                        }
                        return eu.current = !0,
                        ()=>ed.stop()
                    }
                }
            }
            , []),
            a.useEffect(()=>{
                if (ey.setGuildsTree(o),
                eu.current || 0 === o.size)
                    return;
                let e = x.default.getState().guildId;
                ey.scrollToGuild(e, !1);
                let t = null;
                return x.default.subscribe(e=>{
                    let {guildId: n} = e;
                    n !== t && (t = n,
                    ey.scrollToGuild(t, !1))
                }
                )
            }
            , [o, ey]);
            let eP = a.useCallback(()=>{
                ey.scrollTo({
                    to: 0,
                    animate: !1
                })
            }
            , [ey]);
            (0,
            U.default)(ey.scrollToGuild);
            let eG = o.getRoots()
              , eU = (0,
            A.default)()
              , ew = (0,
            R.useSignUpButton)()
              , eB = el.map(e=>(0,
            l.jsx)(k.default, {
                id: e.id,
                name: e.name,
                icon: e.icon
            }, e.id));
            return (0,
            l.jsx)(_.AnalyticsLocationProvider, {
                value: eO,
                children: (0,
                l.jsx)("nav", {
                    className: i()(en.wrapper, s, (0,
                    P.getThemeClass)(r), {
                        [en.hidden]: E
                    }),
                    "aria-label": et.default.Messages.GUILDS_BAR_A11Y_LABEL,
                    children: (0,
                    l.jsxs)("ul", {
                        ref: eL,
                        ...ev,
                        ...ex,
                        role: "tree",
                        className: en.tree,
                        children: [(0,
                        l.jsx)(w.default, {
                            ref: ec,
                            isVisible: ey.isItemVisible,
                            onJumpTo: ey.handleJumpToGuild,
                            className: en.unreadMentionsIndicatorTop,
                            barClassName: en.unreadMentionsBar
                        }), (0,
                        l.jsxs)(p.AdvancedScrollerNone, {
                            className: i()({
                                [en.scroller]: !0,
                                [en.scrolling]: eR
                            }),
                            ref: ey.scrollerRef,
                            onScroll: ey.handleScroll,
                            children: [(0,
                            l.jsx)(W.HomeButton, {}), eU ? (0,
                            l.jsx)(L.default, {}) : null, (0,
                            l.jsx)(V.default, {}), (0,
                            l.jsx)(z.default, {
                                isOnHubVerificationRoute: ej
                            }), (0,
                            l.jsx)(B.default, {}), ew, g.map(e=>(0,
                            l.jsx)($.default, {
                                guildId: e
                            }, e)), (0,
                            l.jsx)(J.default, {
                                onActivate: eP
                            }), (0,
                            l.jsx)(Z.default, {}), (0,
                            l.jsx)("div", {
                                "aria-label": et.default.Messages.SERVERS,
                                children: eG.map(function e(t) {
                                    switch (t.type) {
                                    case G.GuildsNodeType.FOLDER:
                                        return (0,
                                        l.jsx)(q.default, {
                                            folderNode: t,
                                            setNodeRef: ey.setNodeRef,
                                            draggable: !0,
                                            sorting: ea,
                                            onDragStart: ei,
                                            onDragEnd: er,
                                            renderChildNode: e
                                        }, t.id);
                                    case G.GuildsNodeType.GUILD:
                                        return (0,
                                        l.jsx)(Q.default, {
                                            guildNode: t,
                                            setRef: ey.setNodeRef,
                                            draggable: !0,
                                            sorting: ea,
                                            onDragStart: ei,
                                            onDragEnd: er
                                        }, t.id);
                                    default:
                                        return null
                                    }
                                })
                            }), eB, n ? null : (0,
                            l.jsx)(H.default, {
                                disableTooltip: f.length > 0,
                                lastTargetNode: eG[eG.length - 1]
                            }), n || eg || eS ? null : (0,
                            l.jsx)(Y.default, {
                                ref: ey.guildDiscoveryRef,
                                selected: eD
                            }), (0,
                            l.jsx)(X.default, {}), t ? null : (0,
                            l.jsxs)(l.Fragment, {
                                children: [(0,
                                l.jsx)(Z.default, {}), (0,
                                l.jsx)(F.default, {})]
                            })]
                        }), n || null == eI || null == eN ? !n && eg ? (0,
                        l.jsx)(K.GuildsBarFixedFooter, {
                            hideGradient: eh,
                            children: (0,
                            l.jsx)(Y.default, {
                                ref: ey.guildDiscoveryRef,
                                selected: eD,
                                className: en.fixedDiscoveryIcon
                            })
                        }) : null : (0,
                        l.jsx)(K.GuildsBarFixedFooter, {
                            hideGradient: eh,
                            children: (0,
                            l.jsx)(eI, {
                                defaultGameId: eN,
                                children: e=>{
                                    let {onClick: t} = e;
                                    return (0,
                                    l.jsx)(Y.default, {
                                        ref: ey.guildDiscoveryRef,
                                        selected: eD,
                                        className: en.fixedDiscoveryIcon,
                                        onClick: t
                                    })
                                }
                            })
                        }), (0,
                        l.jsx)(w.default, {
                            reverse: !0,
                            ref: ef,
                            isVisible: ey.isItemVisible,
                            onJumpTo: ey.handleJumpToGuild,
                            className: i()(en.unreadMentionsIndicatorBottom, {
                                [en.unreadMentionsFixedFooter]: !n && eT
                            }),
                            barClassName: en.unreadMentionsBar
                        })]
                    })
                })
            })
        }
        t.default = a.memo(function(e) {
            let t = (0,
            E.default)("guildsnav");
            return (0,
            l.jsx)(c.ListNavigatorProvider, {
                navigator: t,
                children: (0,
                l.jsx)(eu, {
                    ...e
                })
            })
        }, (e,t)=>!1 === t.isVisible || (0,
        m.default)(e, t))
    },
    252686: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("806519")
          , r = n("921375");
        function o(e) {
            let {className: t} = e;
            return (0,
            l.jsx)(i.default, {
                mask: i.default.Masks.SQUIRCLE,
                className: s()(t, r.placeholderMask),
                width: 48,
                height: 48,
                style: {
                    display: "block"
                },
                children: (0,
                l.jsx)("div", {
                    className: r.dragInner
                })
            })
        }
    },
    474109: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("664915")
          , r = n("888369")
          , o = n("358652")
          , u = n("771845")
          , d = n("613060")
          , c = n("451478")
          , f = n("816779")
          , h = n("251625")
          , m = n("981631")
          , C = n("689938");
        let p = "app-download-item"
          , g = "add-server-item";
        function E() {
            return !1
        }
        function S(e) {
            var t;
            let n = r.default.getMutableGuildStates();
            return e === m.ViewHistoryKeys.SERVER_DISCOVERY_BADGE && !d.default.hasViewed(m.ViewHistoryKeys.SERVER_DISCOVERY_BADGE) || e !== p && e !== g && (null === (t = n[null != e ? e : "null"]) || void 0 === t ? void 0 : t.mentionCount) > 0
        }
        let _ = (0,
        h.cachedFunction)((e,t,n)=>["null", ...t, ...e, g, m.ViewHistoryKeys.E3_SERVER_DISCOVERY_BADGE, p]);
        t.default = a.forwardRef(function(e, t) {
            let n = (0,
            s.useStateFromStoresArray)([u.default, o.default, r.default], ()=>_(u.default.getGuildFolders(), o.default.getUnreadPrivateChannelIds(), r.default.getStoreChangeSentinel()))
              , a = (0,
            s.useStateFromStores)([c.default], ()=>c.default.isFocused())
              , d = (0,
            s.useStateFromStores)([i.default], ()=>i.default.getExpandedFolders());
            return (0,
            l.jsx)(f.default, {
                ...e,
                ref: t,
                items: n,
                isUnread: E,
                textUnread: C.default.Messages.NEW,
                textMention: C.default.Messages.NEW,
                isMentioned: S,
                animate: a,
                expandedFolders: d
            })
        })
    },
    741616: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return f
            }
        }),
        n("733860");
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("215569")
          , r = n("762914")
          , o = n("592125")
          , u = n("358652")
          , d = n("19780")
          , c = n("919436");
        function f() {
            (0,
            s.useStateFromStores)([o.default], ()=>o.default.getPrivateChannelsVersion());
            let e = o.default.getMutablePrivateChannels()
              , t = (0,
            s.useStateFromStoresArray)([u.default], ()=>u.default.getUnreadPrivateChannelIds())
              , {selectedVoiceGuildId: n, selectedVoiceChannelId: f} = (0,
            s.useStateFromStoresObject)([d.default], ()=>({
                selectedVoiceGuildId: d.default.getGuildId(),
                selectedVoiceChannelId: d.default.getChannelId()
            }))
              , h = t.map(t=>{
                let n = e[t];
                return null == n || n.id === f || n.isBroadcastChannel() ? null : (0,
                l.jsx)(c.default, {
                    channel: n
                }, n.id)
            }
            )
              , m = null == n && null != f ? e[f] : null
              , C = (0,
            r.useIsBroadcastingGDM)(null == m ? void 0 : m.id);
            return null != m && !C && h.unshift((0,
            l.jsx)(c.default, {
                channel: m
            }, m.id)),
            (0,
            l.jsx)(i.TransitionGroup, {
                component: a.Fragment,
                children: h
            })
        }
    },
    187835: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return u
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("481060")
          , s = n("943461")
          , i = n("603592")
          , r = n("689938");
        let o = "DOWNLOAD_APPS";
        function u() {
            let e = (0,
            a.useModalsStore)(e=>(0,
            a.hasModalOpenSelector)(e, o));
            return (0,
            l.jsx)(i.default, {
                id: "app-download-button",
                onClick: ()=>{
                    (0,
                    a.openModalLazy)(async()=>{
                        let {default: e} = await Promise.resolve().then(n.bind(n, "431583"));
                        return t=>(0,
                        l.jsx)(e, {
                            source: "Guilds",
                            ...t
                        })
                    }
                    , {
                        modalKey: o
                    })
                }
                ,
                selected: e,
                tooltip: r.default.Messages.DOWNLOAD_APPS,
                icon: s.default
            })
        }
    },
    162050: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return E
            }
        }),
        n("47120");
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("481060")
          , i = n("287734")
          , r = n("770471")
          , o = n("592125")
          , u = n("306680")
          , d = n("944486")
          , c = n("594174")
          , f = n("153124")
          , h = n("436088")
          , m = n("51144")
          , C = n("603592")
          , p = n("674552")
          , g = n("689938");
        function E() {
            var e;
            let t = (0,
            f.useUID)()
              , [n,E] = (0,
            a.useStateFromStoresArray)([d.default, o.default], ()=>[o.default.getChannel(d.default.getVoiceChannelId()), d.default.getCurrentlySelectedChannelId(null)])
              , S = (0,
            a.useStateFromStores)([u.default], ()=>null != n ? u.default.getMentionCount(n.id) : 0)
              , _ = (0,
            a.useStateFromStores)([c.default], ()=>c.default.getUser(null == n ? void 0 : n.ownerId))
              , I = null !== (e = m.default.getGlobalName(_)) && void 0 !== e ? e : m.default.getUserTag(_)
              , {canViewBroadcasts: N} = r.default.useExperiment({
                location: "broadcast_button_guilds_bar_no_track"
            }, {
                autoTrackExposure: !1
            })
              , T = null == n ? void 0 : n.isBroadcastChannel()
              , A = T && E === (null == n ? void 0 : n.id);
            return T && N ? (0,
            l.jsx)(C.default, {
                id: t,
                onClick: ()=>{
                    T && null != n && i.default.selectPrivateChannel(n.id)
                }
                ,
                icon: h.default,
                tooltip: null != I ? g.default.Messages.BROADCASTING_CHANNEL_NAME.format({
                    name: I
                }) : void 0,
                selected: A,
                upperBadge: (0,
                l.jsx)(s.Avatar, {
                    size: s.AvatarSizes.SIZE_16,
                    src: null == _ ? void 0 : _.getAvatarURL(null, 16),
                    "aria-label": I
                }),
                lowerBadge: S > 0 ? (0,
                p.renderMentionBadge)(S) : null
            }) : null
        }
    },
    603592: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("924826")
          , o = n("481060")
          , u = n("880080")
          , d = n("682662")
          , c = n("662146")
          , f = n("710563");
        let h = a.forwardRef(function(e, t) {
            let {id: n, onClick: s, onContextMenu: h, icon: m, selected: C, tooltip: p, upperBadge: g, lowerBadge: E, lowerBadgeSize: S, showPill: _=!0, className: I, "aria-label": N, children: T, onMouseEnter: A, onMouseLeave: L, onMouseDown: v} = e
              , x = (0,
            r.useTreeItem)(n)
              , [R,M] = a.useState(!1)
              , y = "string" == typeof p && null == N ? p : N;
            return (0,
            l.jsxs)(d.ListItem, {
                children: [_ ? (0,
                l.jsx)("div", {
                    className: f.pill,
                    children: (0,
                    l.jsx)(u.default, {
                        hovered: R,
                        selected: C
                    })
                }) : null, (0,
                l.jsx)(c.default, {
                    text: p,
                    selected: C,
                    children: (0,
                    l.jsx)(o.BlobMask, {
                        className: f.__invalid_circleButtonMask,
                        selected: C || R,
                        upperBadge: g,
                        lowerBadge: E,
                        lowerBadgeSize: S,
                        children: (0,
                        l.jsx)(o.Clickable, {
                            innerRef: t,
                            onMouseEnter: ()=>{
                                null == A || A(),
                                M(!0)
                            }
                            ,
                            onMouseLeave: ()=>{
                                null == L || L(),
                                M(!1)
                            }
                            ,
                            onMouseDown: v,
                            className: i()(f.circleIconButton, I, {
                                [f.selected]: C || R
                            }),
                            onClick: s,
                            "aria-label": y,
                            onContextMenu: h,
                            focusProps: {
                                enabled: !1
                            },
                            ...x,
                            children: null != m && (0,
                            l.jsx)(m, {
                                className: f.circleIcon,
                                color: "currentColor"
                            })
                        })
                    })
                }), T]
            })
        });
        t.default = h
    },
    118122: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return L
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("184726")
          , r = n("481060")
          , o = n("239091")
          , u = n("906732")
          , d = n("560067")
          , c = n("451603")
          , f = n("885714")
          , h = n("155409")
          , m = n("430824")
          , C = n("594174")
          , p = n("729285")
          , g = n("40153")
          , E = n("603592")
          , S = n("981631")
          , _ = n("675999")
          , I = n("689938")
          , N = n("126702");
        let T = {
            origin: {
                x: -16,
                y: 0
            },
            targetWidth: 48,
            targetHeight: 48,
            offset: {
                x: 0,
                y: 0
            }
        };
        function A(e) {
            (0,
            o.openContextMenuLazy)(e, async()=>{
                let {default: e} = await n.e("9606").then(n.bind(n, "987578"));
                return t=>(0,
                l.jsx)(e, {
                    ...t
                })
            }
            )
        }
        function L(e) {
            let {disableTooltip: t, lastTargetNode: n} = e
              , o = (0,
            s.useStateFromStores)([m.default], ()=>m.default.getGuilds())
              , L = a.useMemo(()=>Object.values(o), [o])
              , v = (0,
            s.useStateFromStores)([C.default], ()=>C.default.getCurrentUser())
              , x = a.useMemo(()=>L.some(e=>e.isOwner(v)), [L, v])
              , R = (0,
            r.useModalsStore)(e=>(0,
            r.hasModalOpenSelector)(e, _.CREATE_GUILD_MODAL_KEY))
              , {analyticsLocations: M} = (0,
            u.default)()
              , y = (0,
            r.useRedesignIconContext)().enabled
              , O = (0,
            l.jsx)(E.default, {
                showPill: !1,
                id: "create-join-button",
                onClick: ()=>{
                    (0,
                    c.isAtGuildCapAndNonPremium)() ? (0,
                    f.default)({
                        analyticsSource: {
                            page: S.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL
                        },
                        analyticsLocation: {
                            page: S.AnalyticsLocations.CREATE_JOIN_GUILD_MODAL,
                            section: S.AnalyticsSections.GUILD_CAP_UPSELL_MODAL
                        },
                        analyticsLocations: M
                    }) : d.default.openCreateGuildModal({
                        location: "Guild List"
                    })
                }
                ,
                selected: R,
                onContextMenu: A,
                tooltip: I.default.Messages.ADD_A_SERVER,
                icon: y ? i.PlusMediumIcon : p.default
            });
            return t ? O : (0,
            l.jsx)("div", {
                className: N.tutorialContainer,
                children: (0,
                l.jsxs)(h.default, {
                    tutorialId: x ? "create-more-servers" : "create-first-server",
                    inlineSpecs: T,
                    position: "right",
                    children: [O, null != n && (0,
                    l.jsx)(g.default, {
                        name: I.default.Messages.DND_END_OF_LIST,
                        targetNode: n,
                        below: !0,
                        noCombine: !0
                    })]
                })
            })
        }
    },
    179809: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return x
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("176617")
          , o = n("920906")
          , u = n("924826")
          , d = n("477690")
          , c = n("153867")
          , f = n("771845")
          , h = n("880080")
          , m = n("624138")
          , C = n("727258")
          , p = n("199540")
          , g = n("40153")
          , E = n("252686")
          , S = n("682662")
          , _ = n("662146")
          , I = n("689938")
          , N = n("538962")
          , T = n("634165");
        let A = (0,
        m.cssValueToNumber)(d.default.FOLDER_ITEM_ANIMATION_DURATION)
          , L = (0,
        m.cssValueToNumber)(d.default.FOLDER_ITEM_GUILD_ICON_SIZE)
          , v = (0,
        m.cssValueToNumber)(d.default.FOLDER_ITEM_GUILD_ICON_MARGIN);
        function x(e) {
            let {folderNode: t, setNodeRef: n, selected: s, expanded: d, mediaState: m, mentionCount: x=0, unread: R=!1, defaultFolderName: M, useCircleMask: y=!1, draggable: O=!1, sorting: b=!1, onDragStart: D, onDragEnd: j, onExpandCollapse: P, onContextMenu: G, renderChildNode: U, folderIconContent: w} = e
              , {id: B, name: F, children: V} = t
              , [H,k] = a.useState(!1)
              , [Y,K] = a.useState(!1)
              , W = H || Y;
            a.useEffect(()=>{
                b && k(!1)
            }
            , [b]);
            let[{dragging: z},Z] = (0,
            r.useDrag)({
                type: C.GuildsNodeType.FOLDER,
                item: ()=>(null == D || D(),
                {
                    type: C.GuildsNodeType.FOLDER,
                    nodeId: t.id
                }),
                end() {
                    null == j || j(),
                    (0,
                    c.saveGuildFolders)(f.default.getCompatibleGuildFolders())
                },
                collect: e=>({
                    dragging: e.isDragging()
                })
            })
              , X = a.useCallback(e=>{
                K(e)
            }
            , [])
              , q = a.useCallback(e=>{
                ("ArrowRight" === e.key && !d || "ArrowLeft" === e.key && d) && P()
            }
            , [P, d])
              , Q = null != F && "" !== F ? F : null != M && "" !== M ? M : I.default.Messages.SERVER_FOLDER_PLACEHOLDER
              , J = (0,
            u.useTreeItem)("".concat(B))
              , $ = "folder-items-".concat(B)
              , ee = V.length * (L + v)
              , et = (0,
            o.useTransition)(!z && d, {
                from: {
                    height: 0
                },
                enter: {
                    height: 1
                },
                leave: {
                    height: 0
                },
                config: {
                    duration: A
                }
            })
              , en = a.useCallback(e=>null == n ? void 0 : n(B, e), [n, B])
              , el = (0,
            l.jsxs)(S.ListItem, {
                children: [(0,
                l.jsx)(h.default, {
                    disabled: z || d,
                    hovered: H,
                    selected: s,
                    unread: R,
                    className: T.pill
                }), (0,
                l.jsx)(_.default, {
                    text: Q,
                    disabled: b,
                    selected: s,
                    disableWrapper: !0,
                    children: (0,
                    l.jsx)("div", {
                        ref: O ? Z : void 0,
                        className: i()({
                            [T.wobble]: !z && Y && !d
                        }),
                        "data-dnd-name": Q,
                        children: z ? (0,
                        l.jsx)(E.default, {}) : (0,
                        l.jsx)(p.default, {
                            folderNode: t,
                            expanded: d,
                            forceCircular: y,
                            sorting: b,
                            mediaState: m,
                            mentionCount: x,
                            tooltipName: Q,
                            folderGroupId: $,
                            onClick: P,
                            onContextMenu: G,
                            onHoverChange: k,
                            onKeyDown: q,
                            treeItemProps: J,
                            folderIconContent: w
                        })
                    })
                }), O ? (0,
                l.jsx)(g.default, {
                    name: Q,
                    targetNode: t,
                    onDragOverChanged: X
                }) : null]
            });
            return (0,
            l.jsxs)("div", {
                ref: en,
                className: N.wrapper,
                children: [!z && (0,
                l.jsx)("span", {
                    className: i()(N.expandedFolderBackground, {
                        [N.collapsed]: !d,
                        [N.hover]: W
                    })
                }), el, et((e,t,n)=>{
                    let {key: a} = n;
                    return t && (0,
                    l.jsx)(o.animated.ul, {
                        id: $,
                        style: {
                            height: e.height.to(e=>e * ee)
                        },
                        className: N.__invalid_expandedGuilds,
                        role: "group",
                        children: V.map(U)
                    }, a)
                }
                ), O && d ? (0,
                l.jsx)(g.FolderEndDropTarget, {
                    name: Q,
                    targetNode: t
                }) : null]
            })
        }
    },
    193154: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return c
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("481060")
          , i = n("460562")
          , r = n("768581")
          , o = n("682662")
          , u = n("662146")
          , d = n("634710");
        function c(e) {
            let[t,c] = a.useState(!1);
            return (0,
            l.jsx)(o.ListItem, {
                children: (0,
                l.jsx)(u.default, {
                    text: e.name,
                    children: (0,
                    l.jsx)(s.BlobMask, {
                        className: d.circleIconButton,
                        selected: t,
                        lowerBadge: (0,
                        l.jsx)(s.IconBadge, {
                            icon: i.default,
                            disableColor: !0,
                            className: d.geoRestrictedBadge
                        }),
                        children: (0,
                        l.jsx)(s.NavItem, {
                            name: e.name,
                            onMouseEnter: ()=>{
                                c(!0)
                            }
                            ,
                            onMouseLeave: ()=>{
                                c(!1)
                            }
                            ,
                            onClick: ()=>{
                                (0,
                                s.openModalLazy)(async()=>{
                                    let {default: t} = await n.e("42358").then(n.bind(n, "210995"));
                                    return n=>(0,
                                    l.jsx)(t, {
                                        name: e.name,
                                        guildId: e.id,
                                        ...n
                                    })
                                }
                                )
                            }
                            ,
                            icon: null != e.icon ? r.default.getGuildIconURL({
                                id: e.id,
                                icon: e.icon,
                                canAnimate: !1,
                                size: 42
                            }) : null
                        })
                    })
                })
            })
        }
    },
    602147: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            handleDiscoveryButtonClick: function() {
                return g
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("704215")
          , i = n("212093")
          , r = n("963202")
          , o = n("605236")
          , u = n("703656")
          , d = n("683301")
          , c = n("104259")
          , f = n("603592")
          , h = n("981631")
          , m = n("731455")
          , C = n("689938")
          , p = n("427122");
        function g() {
            let e = window.location.pathname.startsWith(h.Routes.GUILD_DISCOVERY)
              , t = d.default.getCurrentCategoryId() === m.CategoryId.Clans;
            e && !t && ((0,
            i.clearSearch)(),
            (0,
            i.selectCategory)(m.DISCOVERY_ALL_CATEGORIES_ID, !0));
            let n = (0,
            u.getHistory)().location.search;
            (0,
            u.transitionTo)(h.Routes.GUILD_DISCOVERY, {
                search: n
            })
        }
        let E = a.forwardRef(function(e, t) {
            let {selected: n, tooltip: a, className: i, onClick: u} = e
              , {clanDiscoveryEnabled: d} = (0,
            r.useClanPilotExperiment)("guild_discovery")
              , h = (0,
            o.useIsDismissibleContentDismissed)(s.DismissibleContent.NEW_GAMING_DISCOVERY_NOTIF)
              , m = {
                lowerBadgeSize: {
                    width: 12,
                    height: 12
                }
            };
            return d && !h && (m.lowerBadge = (0,
            l.jsx)("div", {
                className: p.guildNotif
            })),
            (0,
            l.jsx)(f.default, {
                id: "guild-discover-button",
                ref: t,
                className: i,
                onClick: null != u ? u : g,
                selected: n,
                tooltip: null != a ? a : C.default.Messages.GUILD_DISCOVERY_TOOLTIP,
                icon: c.default,
                ...m
            })
        });
        t.default = E
    },
    773182: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            GuildsBarClanAdminUpsellPopout: function() {
                return M
            },
            GuildsBarClanApplicationCoachmarkPopout: function() {
                return y
            },
            GuildsBarClanUserUpsellPopout: function() {
                return R
            },
            GuildsBarFixedFooter: function() {
                return O
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("266067")
          , o = n("727075")
          , u = n("442837")
          , d = n("704215")
          , c = n("481060")
          , f = n("350810")
          , h = n("110924")
          , m = n("100527")
          , C = n("970606")
          , p = n("963202")
          , g = n("824991")
          , E = n("243778")
          , S = n("863249")
          , _ = n("937111")
          , I = n("602147")
          , N = n("981631")
          , T = n("308083")
          , A = n("921944")
          , L = n("689938")
          , v = n("41004");
        function x(e) {
            let {title: t, message: n, dismissibleContent: s, defaultGameId: i, onPopoutVisible: u, onClick: d, children: h, isEligibleForUpsell: m=!0, withInviteIcon: C=!0} = e
              , p = (0,
            r.useLocation)()
              , [S,_] = (0,
            E.useSelectedDismissibleContent)([s], A.DismissibleContentGroupName.SIDEBAR)
              , L = S !== s
              , x = (0,
            f.default)()
              , R = m && !x && !L && p.pathname !== N.Routes.GUILD_DISCOVERY;
            a.useEffect(()=>{
                R && u()
            }
            , [R, u]);
            let M = a.useMemo(()=>{
                switch (i) {
                case T.VALORANT_ID:
                    return v.valorantBackgroundImage;
                case T.GENSHIN_ID:
                    return v.genshinBackgroundImage;
                default:
                    return
                }
            }
            , [i])
              , y = a.useCallback(()=>{
                _(A.ContentDismissActionType.TAKE_ACTION),
                d(),
                (0,
                I.handleDiscoveryButtonClick)()
            }
            , [_, d])
              , O = a.useCallback(e=>{
                e(),
                _(A.ContentDismissActionType.USER_DISMISS)
            }
            , [_]);
            return (0,
            l.jsxs)("div", {
                className: v.container,
                children: [(0,
                l.jsx)(c.Popout, {
                    shouldShow: R,
                    renderPopout: e=>{
                        let {closePopout: a} = e;
                        return (0,
                        l.jsxs)("div", {
                            className: v.popoutContainer,
                            children: [(0,
                            l.jsx)("div", {
                                className: M
                            }), (0,
                            l.jsx)(c.Clickable, {
                                onClick: ()=>O(a),
                                className: v.close,
                                children: (0,
                                l.jsx)(o.CloseSmallIcon, {
                                    width: 16,
                                    height: 16,
                                    color: c.tokens.colors.WHITE
                                })
                            }), (0,
                            l.jsxs)("div", {
                                className: v.popoutContent,
                                children: [C && (0,
                                l.jsx)(g.ClanUpsellInviteByline, {}), (0,
                                l.jsx)(g.ClanUpsellTitle, {
                                    title: t
                                }), (0,
                                l.jsx)(g.ClanUpsellMessage, {
                                    message: n
                                }), (0,
                                l.jsx)(g.ClanUpsellButton, {
                                    onClick: y
                                })]
                            }), (0,
                            l.jsx)("div", {
                                className: v.popoutCaret
                            })]
                        })
                    }
                    ,
                    position: "top",
                    animationPosition: "top",
                    align: "left",
                    spacing: 16,
                    children: e=>(0,
                    l.jsx)("div", {
                        ...e,
                        className: v.popoutAnchor
                    })
                }), h({
                    onClick: y
                })]
            })
        }
        function R(e) {
            let {defaultGameId: t, children: n} = e
              , s = a.useCallback(()=>{
                (0,
                C.trackClanUserInviteViewed)({
                    location: m.default.GUILDS_LIST
                })
            }
            , [])
              , i = a.useCallback(()=>{
                (0,
                C.trackClanUserInviteClicked)({
                    location: m.default.GUILDS_LIST
                })
            }
            , [])
              , [r,o] = a.useMemo(()=>{
                switch (t) {
                case T.GENSHIN_ID:
                    return [L.default.Messages.CLAN_GUILD_LIST_USER_UPSELL_GENSHIN_TITLE, L.default.Messages.CLAN_GUILD_LIST_USER_UPSELL_GENSHIN_MESSAGE];
                case T.VALORANT_ID:
                    return [L.default.Messages.CLAN_GUILD_LIST_USER_UPSELL_VALORANT_TITLE, L.default.Messages.CLAN_GUILD_LIST_USER_UPSELL_VALORANT_MESSAGE];
                default:
                    return [void 0, void 0]
                }
            }
            , [t]);
            return (0,
            l.jsx)(x, {
                title: r,
                message: o,
                dismissibleContent: d.DismissibleContent.GUILD_LIST_CLAN_USER_UPSELL,
                defaultGameId: t,
                onClick: i,
                onPopoutVisible: s,
                withInviteIcon: !1,
                children: n
            })
        }
        function M(e) {
            let {defaultGameId: t, children: n} = e
              , {guilds: s} = (0,
            p.useClanPrepilotExperimentForAllGuilds)({
                location: "GuildsBarClanAdminUpsellPopout",
                includeConverted: !1
            })
              , i = s.length > 0
              , r = a.useCallback(()=>{
                (0,
                C.trackClanAdminInviteViewed)({
                    location: m.default.GUILDS_LIST
                })
            }
            , [])
              , o = a.useCallback(()=>{
                (0,
                C.trackClanAdminInviteClicked)({
                    location: m.default.GUILDS_LIST
                })
            }
            , [])
              , [u,c] = a.useMemo(()=>{
                switch (t) {
                case T.GENSHIN_ID:
                    return [L.default.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_GENSHIN_TITLE, L.default.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_MESSAGE];
                case T.VALORANT_ID:
                    return [L.default.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_VALORANT_TITLE, L.default.Messages.CLAN_CHANNEL_LIST_ADMIN_UPSELL_MESSAGE];
                default:
                    return [void 0, void 0]
                }
            }
            , [t]);
            return (0,
            l.jsx)(x, {
                title: u,
                message: c,
                dismissibleContent: d.DismissibleContent.GUILD_LIST_CLAN_ADMIN_UPSELL,
                defaultGameId: t,
                onClick: o,
                isEligibleForUpsell: i,
                onPopoutVisible: r,
                children: n
            })
        }
        function y(e) {
            let {onActivate: t, children: n} = e
              , s = (0,
            u.useStateFromStores)([_.default], ()=>_.default.hasJoinRequestCoackmark())
              , i = a.useCallback(()=>{
                S.default.clearCoachmark()
            }
            , [])
              , r = (0,
            h.default)(s)
              , o = a.useRef(null);
            return a.useEffect(()=>{
                if (s && s !== r) {
                    var e, n, l, a, i;
                    t(),
                    null === (i = o.current) || void 0 === i || null === (a = i.ref) || void 0 === a || null === (l = a.current) || void 0 === l || null === (n = l.layerRef) || void 0 === n || null === (e = n.current) || void 0 === e || e.updatePosition()
                }
            }
            , [o, s, r, t]),
            (0,
            l.jsxs)("div", {
                className: v.container,
                children: [(0,
                l.jsx)(c.Popout, {
                    ref: o,
                    shouldShow: s,
                    renderPopout: ()=>(0,
                    l.jsxs)("div", {
                        className: v.popoutContainer,
                        children: [(0,
                        l.jsxs)("div", {
                            className: v.popoutContent,
                            children: [(0,
                            l.jsxs)("div", {
                                className: v.coachmarkTextContainer,
                                children: [(0,
                                l.jsx)(c.Heading, {
                                    variant: "heading-md/medium",
                                    children: L.default.Messages.CLAN_USER_APPLICATION_COACHMARK_TITLE
                                }), (0,
                                l.jsx)(c.Text, {
                                    variant: "text-xs/normal",
                                    color: "text-muted",
                                    children: L.default.Messages.CLAN_USER_APPLICATION_COACHMARK_BODY
                                })]
                            }), (0,
                            l.jsx)(c.Button, {
                                fullWidth: !0,
                                size: c.ButtonSizes.SMALL,
                                color: c.ButtonColors.BRAND,
                                onClick: i,
                                children: L.default.Messages.CLAN_USER_APPLICATION_COACHMARK_CTA
                            })]
                        }), (0,
                        l.jsx)("div", {
                            className: v.popoutCaretLeft
                        })]
                    }),
                    position: "right",
                    animationPosition: "right",
                    align: "top",
                    spacing: 16,
                    children: e=>(0,
                    l.jsx)("div", {
                        ...e,
                        className: v.popoutAnchor
                    })
                }), n]
            })
        }
        function O(e) {
            let {hideGradient: t, children: n} = e;
            return (0,
            l.jsxs)("div", {
                className: v.footer,
                children: [(0,
                l.jsx)("div", {
                    className: i()(v.gradient, {
                        [v.gradientHidden]: t
                    })
                }), n]
            })
        }
    },
    325257: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("176617")
          , o = n("924826")
          , u = n("399606")
          , d = n("846519")
          , c = n("481060")
          , f = n("493683")
          , h = n("239091")
          , m = n("153867")
          , C = n("35225")
          , p = n("703656")
          , g = n("769654")
          , E = n("271383")
          , S = n("771845")
          , _ = n("880080")
          , I = n("727258")
          , N = n("249792")
          , T = n("40153")
          , A = n("593618")
          , L = n("252686")
          , v = n("682662")
          , x = n("674552")
          , R = n("981631")
          , M = n("689938")
          , y = n("634165");
        let O = {
            analyticsSource: {
                page: R.AnalyticsPages.GUILD_CHANNEL,
                section: R.AnalyticsSections.CHANNEL_LIST,
                object: R.AnalyticsObjects.CHANNEL
            }
        };
        function b(e, t) {
            (0,
            h.openContextMenuLazy)(e, async()=>{
                let {default: e} = await Promise.all([n.e("49237"), n.e("99387"), n.e("96427"), n.e("7654"), n.e("33053"), n.e("32493"), n.e("75475"), n.e("85093"), n.e("85552"), n.e("58227"), n.e("43502"), n.e("83256"), n.e("90144"), n.e("69760"), n.e("33213"), n.e("19255")]).then(n.bind(n, "545135"));
                return n=>(0,
                l.jsx)(e, {
                    ...n,
                    guild: t
                })
            }
            )
        }
        t.default = a.memo(function(e) {
            var t, n, s, h, D;
            let {guildNode: j, setRef: P, onDragStart: G, onDragEnd: U, route: w, guild: B, animatable: F, selected: V=!1, unread: H=!1, mediaState: k, unavailable: Y=!1, badge: K=0, contextMenu: W=b, draggable: z=!1, sorting: Z=!1, preloadOnClick: X=!0, guildJoinRequestStatus: q} = e
              , {id: Q, parentId: J} = j
              , $ = null !== (t = e.upperBadge) && void 0 !== t ? t : Y ? (0,
            x.renderUnavailableBadge)() : null != k ? (0,
            x.renderMediaBadge)(k) : void 0
              , ee = null !== (n = e.lowerBadge) && void 0 !== n ? n : void 0;
            null == ee && K > 0 ? ee = null !== (s = (0,
            x.renderMentionBadge)(K)) && void 0 !== s ? s : void 0 : null == ee && null != q && (ee = null !== (h = (0,
            x.renderGuildJoinRequestBadge)({
                guildJoinRequestStatus: q
            })) && void 0 !== h ? h : void 0);
            let et = null !== (D = e.lowerBadgeSize) && void 0 !== D ? D : {
                width: (0,
                c.getBadgeWidthForValue)(K)
            }
              , [{dragging: en},el] = (0,
            r.useDrag)({
                type: I.GuildsNodeType.GUILD,
                item: ()=>(requestAnimationFrame(()=>{
                    null == G || G()
                }
                ),
                {
                    type: j.type,
                    nodeId: j.id
                }),
                end() {
                    null == U || U(),
                    (0,
                    m.saveGuildFolders)(S.default.getCompatibleGuildFolders())
                },
                collect: e=>({
                    dragging: e.isDragging()
                })
            })
              , ea = (0,
            o.useTreeItem)(null != Q ? Q : R.EMPTY_STRING_SNOWFLAKE_ID)
              , [es,ei] = a.useState(!1)
              , er = !Z && es
              , [eo,eu] = a.useState(!1)
              , [ed,ec] = a.useState(!1)
              , [ef] = a.useState(()=>new d.DelayedCall(70,()=>ec(!0)));
            a.useEffect(()=>()=>ef.cancel(), [ef]);
            let eh = a.useCallback(()=>{
                if (null != w) {
                    (0,
                    p.transitionTo)(w, {
                        state: O
                    });
                    return
                }
                (0,
                g.transitionToGuild)(Q, {
                    state: O
                })
            }
            , [Q, w])
              , em = a.useCallback(()=>{
                if (null != w || null == B || Y || !X)
                    return;
                let e = (0,
                C.getChannelIdForGuildTransition)(B.id);
                null != e && f.default.preload(B.id, e)
            }
            , [w, B, Y, X])
              , eC = (0,
            u.useStateFromStores)([E.default], ()=>E.default.isCurrentUserGuest(Q))
              , ep = a.useCallback(e=>{
                null != B && !eC && W(e, B)
            }
            , [B, W, eC])
              , eg = a.useCallback(e=>{
                if ("ArrowLeft" === e.key && null != J) {
                    var t;
                    null === (t = document.querySelector("[aria-owns=folder-items-".concat(J, "]"))) || void 0 === t || t.focus()
                }
            }
            , [J])
              , eE = a.useCallback(e=>{
                if (e) {
                    ef.delay();
                    return
                }
                ef.cancel(),
                ec(!1)
            }
            , [ef])
              , eS = a.useCallback(e=>{
                null == P || P(Q, e)
            }
            , [Q, P]);
            if (null == B)
                return null;
            let e_ = ed || eo ? (0,
            l.jsx)(N.default, {
                guild: B,
                show: ed,
                active: V,
                onAnimationStart: function() {
                    eu(ed)
                },
                onAnimationRest: function() {
                    ed || eu(!1)
                }
            }) : (0,
            l.jsx)(c.NavItem, {
                ariaLabel: M.default.Messages.GUILD_TOOLTIP_A11Y_LABEL.format({
                    guildName: B.toString(),
                    mentions: K
                }),
                name: B.toString(),
                onClick: eh,
                onMouseEnter: function() {
                    Z || ei(!0)
                },
                onMouseLeave: function() {
                    Z || ei(!1)
                },
                onMouseDown: em,
                onContextMenu: ep,
                onKeyDown: eg,
                icon: B.getIconURL(96, er && F),
                selected: V || er,
                ...ea,
                role: "treeitem"
            })
              , eI = en ? (0,
            l.jsx)(T.PlaceholderDropTarget, {
                children: (0,
                l.jsx)(L.default, {})
            }) : (0,
            l.jsx)("div", {
                ref: z ? el : void 0,
                "data-dnd-name": B.toString(),
                className: i()(y.blobContainer, {
                    [y.sorting]: Z,
                    [y.wobble]: ed,
                    [y.selected]: ed || V
                }),
                children: (0,
                l.jsx)(c.BlobMask, {
                    selected: ed || V || er,
                    upperBadge: $,
                    lowerBadge: ee,
                    lowerBadgeSize: et,
                    children: e_
                })
            });
            return (0,
            l.jsxs)(v.ListItem, {
                ref: eS,
                children: [(0,
                l.jsx)(_.default, {
                    hovered: !en && er,
                    selected: !en && V,
                    unread: !en && H,
                    className: y.pill
                }), (0,
                l.jsx)(A.default, {
                    guild: B,
                    disabled: Z,
                    isDragging: en,
                    children: eI
                }), z ? (0,
                l.jsx)(T.default, {
                    name: B.name,
                    targetNode: j,
                    onDragOverChanged: eE
                }) : null]
            })
        })
    },
    222059: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            HomeButton: function() {
                return k
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("924826")
          , i = n("442837")
          , r = n("433517")
          , o = n("481060")
          , u = n("339149")
          , d = n("327943")
          , c = n("864682")
          , f = n("67212")
          , h = n("770471")
          , m = n("292584")
          , C = n("835865")
          , p = n("456541")
          , g = n("143614")
          , E = n("544803")
          , S = n("899740")
          , _ = n("155409")
          , I = n("699516")
          , N = n("944486")
          , T = n("594174")
          , A = n("295226")
          , L = n("774343")
          , v = n("417363")
          , x = n("941128")
          , R = n("436088")
          , M = n("880080")
          , y = n("780570")
          , O = n("557177")
          , b = n("278464")
          , D = n("682662")
          , j = n("662146")
          , P = n("674552")
          , G = n("981631")
          , U = n("474936")
          , w = n("871465")
          , B = n("689938")
          , F = n("471155");
        let V = {
            origin: {
                x: -16,
                y: 0
            },
            targetWidth: 48,
            targetHeight: 48,
            offset: {
                x: 0,
                y: 0
            }
        };
        function H(e) {
            let {selected: t, user: n, badge: f, link: m, showProgressBadge: C} = e
              , S = (0,
            i.useStateFromStores)([d.default], ()=>d.default.isEditorOpen)
              , [I,N] = a.useState(!1)
              , [T,A] = a.useState(!1)
              , [L,v] = a.useState(null)
              , [x,y] = a.useState(0)
              , [b,U] = a.useState(!1)
              , {canViewBroadcasts: H} = h.default.useExperiment({
                location: "home_button_no_track"
            }, {
                autoTrackExposure: !1
            })
              , k = (0,
            g.default)()
              , Y = k.length > 0 && H;
            (0,
            p.useTrackNewBroadcastDetected)();
            let K = (0,
            s.useTreeItem)("home")
              , W = ()=>{
                v(null),
                y(0),
                clearTimeout(L)
            }
            ;
            if (null == n)
                return null;
            let z = B.default.Messages.DIRECT_MESSAGES;
            T && (z = r.Storage.get(G.DISCODO_STORAGE_KEY) ? B.default.Messages.DISCODO_ENABLED : B.default.Messages.DISCODO_DISABLED),
            k.length > 0 && h.default.trackExposure({
                location: "home_button"
            });
            let Z = null;
            !t && C ? Z = (0,
            l.jsx)(u.default, {
                className: F.downloadProgress,
                determineOwnVisibility: !1
            }) : Y && (Z = (0,
            l.jsx)(R.default, {
                className: F.broadcastBadge
            }));
            let X = t || I || S
              , q = (0,
            l.jsx)(o.BlobMask, {
                highlight: Y,
                selected: X,
                lowerBadge: f > 0 ? (0,
                P.renderMentionBadge)(f) : null,
                upperBadge: Z,
                lowerBadgeSize: {
                    width: (0,
                    o.getBadgeWidthForValue)(f)
                },
                children: (0,
                l.jsx)(o.NavItem, {
                    onMouseEnter: ()=>N(!0),
                    onMouseLeave: ()=>N(!1),
                    onClick: ()=>{
                        if (!__OVERLAY__ && (null != L && clearTimeout(L),
                        v(setTimeout(W, 500)),
                        y(x + 1),
                        15 === x)) {
                            W();
                            let e = !r.Storage.get(G.DISCODO_STORAGE_KEY);
                            r.Storage.set(G.DISCODO_STORAGE_KEY, e),
                            e && r.Storage.set(w.CUSTOM_NOTIFICATION_SOUNDS_DISCODO_STORAGE_KEY, !0),
                            e ? (0,
                            O.playSound)("discodo") : (0,
                            O.playSound)("user_leave"),
                            A(!0),
                            setTimeout(()=>{
                                A(!1)
                            }
                            , 1e3)
                        }
                    }
                    ,
                    selected: X,
                    ariaLabel: B.default.Messages.DIRECT_MESSAGES,
                    ...K,
                    to: {
                        pathname: m,
                        state: {
                            analyticsSource: {
                                page: G.AnalyticsPages.GUILD_CHANNEL,
                                section: G.AnalyticsSections.NAVIGATION,
                                object: G.AnalyticsObjects.BUTTON_HOME
                            }
                        }
                    },
                    children: (0,
                    l.jsx)(c.default, {})
                })
            })
              , Q = Y ? (0,
            l.jsx)(o.Popout, {
                position: "right",
                renderPopout: e=>{
                    let {closePopout: t} = e;
                    return (0,
                    l.jsx)(E.default, {
                        closePopout: t
                    })
                }
                ,
                onRequestClose: ()=>{
                    U(!1)
                }
                ,
                spacing: 8,
                shouldShow: b,
                children: ()=>q
            }) : null;
            return (0,
            l.jsx)("div", {
                className: F.tutorialContainer,
                onMouseEnter: ()=>{
                    U(!0)
                }
                ,
                onMouseLeave: ()=>{
                    setTimeout(()=>{
                        U(!1)
                    }
                    , 250)
                }
                ,
                children: (0,
                l.jsx)(_.default, {
                    inlineSpecs: V,
                    tutorialId: "friends-list",
                    position: "right",
                    children: (0,
                    l.jsxs)(D.ListItem, {
                        children: [(0,
                        l.jsx)(M.default, {
                            selected: t,
                            hovered: I,
                            className: F.pill
                        }), null != Q ? Q : (0,
                        l.jsx)(j.default, {
                            color: o.Tooltip.Colors.PRIMARY,
                            hideOnClick: !0,
                            text: z,
                            selected: t,
                            children: q
                        })]
                    })
                })
            })
        }
        function k() {
            let e = (0,
            b.useIsHomeSelected)()
              , t = (0,
            i.useStateFromStores)([x.default, v.default], ()=>{
                let e = (0,
                u.getDispatchApplicationStates)(x.default.activeItems, v.default)
                  , {total: t, progress: n} = y.getCombinedProgress(e)
                  , l = y.calculateProgressPercentage(n, t);
                return l > 0 && l < 100
            }
            )
              , n = (0,
            i.useStateFromStores)([m.default], ()=>m.default.getUserIdsToValidate())
              , s = (0,
            i.useStateFromStores)([I.default], ()=>I.default.getPendingCount())
              , r = Object.keys(U.SubscriptionTrials)
              , {unviewedTrialCount: o, unviewedDiscountCount: d} = (0,
            i.useStateFromStoresObject)([A.default], ()=>({
                unviewedTrialCount: A.default.getUnacknowledgedOffers(r).length,
                unviewedDiscountCount: A.default.getUnacknowledgedDiscountOffers().length
            }))
              , c = o + d
              , h = (0,
            i.useStateFromStores)([T.default], ()=>T.default.getCurrentUser())
              , p = (0,
            S.useNewMessageRequestsCount)()
              , g = s + c + p
              , E = g === c && c > 0 && s + p === 0;
            a.useEffect(()=>{
                n.length > 0 && (0,
                f.fetchBroadcasterBuckets)()
            }
            , [n]),
            (0,
            C.default)();
            let _ = L.default.getHomeLink();
            return E && (_ = G.Routes.APPLICATION_STORE),
            (0,
            l.jsx)(H, {
                selected: e,
                user: h,
                selectedChannelId: N.default.getChannelId(G.ME),
                badge: g,
                link: _,
                showProgressBadge: t
            })
        }
    },
    751277: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return h
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("266067")
          , s = n("442837")
          , i = n("601964")
          , r = n("701190")
          , o = n("206017")
          , u = n("836040")
          , d = n("603592")
          , c = n("981631")
          , f = n("689938");
        function h(e) {
            var t;
            let {isOnHubVerificationRoute: n} = e
              , h = (0,
            a.matchPath)(null !== (t = window.location.pathname) && void 0 !== t ? t : "", {
                path: c.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(":guildId", ":inviteCode")
            })
              , m = (0,
            s.useStateFromStores)([r.default], ()=>{
                if (null == h)
                    return null;
                let {inviteCode: e} = h.params;
                return null != e ? r.default.getInvite(e) : null
            }
            )
              , C = (null == m ? void 0 : m.guild) != null ? new i.default(null == m ? void 0 : m.guild) : null;
            return n ? null != C && null != m ? (0,
            l.jsx)(u.default, {
                guild: C,
                invite: m
            }) : (0,
            l.jsx)(d.default, {
                tooltip: f.default.Messages.HUB_DISCORD_HUBS,
                id: "guild-hub-button",
                icon: o.default
            }) : null
        }
    },
    682662: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            ListItem: function() {
                return i
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("126702");
        let i = a.forwardRef((e,t)=>{
            let {children: n} = e;
            return (0,
            l.jsx)("div", {
                className: s.listItem,
                ref: t,
                children: n
            })
        }
        );
        i.displayName = "ListItem"
    },
    662146: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return u
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("481060")
          , o = n("784439");
        function u(e) {
            let {children: t, text: n, color: s, disableWrapper: u=!1, disabled: d=!1, hideOnClick: c=!0, shouldShow: f, forceOpen: h, selected: m=!1, tooltipClass: C, tooltipContentClass: p} = e;
            return (0,
            l.jsx)(r.Tooltip, {
                shouldShow: f,
                forceOpen: h,
                spacing: 20,
                hideOnClick: c,
                text: d ? null : n,
                position: "right",
                color: s,
                "aria-label": !1,
                tooltipClassName: i()(o.listItemTooltip, C),
                tooltipContentClassName: p,
                children: e=>u ? a.cloneElement(a.Children.only(t), {
                    ...e
                }) : (0,
                l.jsx)("div", {
                    className: i()(o.listItemWrapper, {
                        [o.selected]: m
                    }),
                    ...e,
                    children: t
                })
            })
        }
    },
    65721: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return i
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("682662")
          , s = n("201285");
        function i() {
            return (0,
            l.jsx)(a.ListItem, {
                children: (0,
                l.jsx)("div", {
                    className: s.guildSeparator
                })
            })
        }
    },
    843343: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return m
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("481060")
          , i = n("299379")
          , r = n("486472")
          , o = n("430824")
          , u = n("682662")
          , d = n("662146")
          , c = n("981631")
          , f = n("689938")
          , h = n("888278");
        function m() {
            let e = (0,
            a.useStateFromStores)([r.default, o.default], ()=>r.default.unavailableGuilds.filter(e=>null == o.default.getGuild(e)).length);
            return e <= 0 ? null : (0,
            l.jsx)(u.ListItem, {
                children: (0,
                l.jsx)(d.default, {
                    text: f.default.Messages.PARTIAL_OUTAGE.format({
                        count: e
                    }),
                    color: s.Tooltip.Colors.RED,
                    children: (0,
                    l.jsx)(s.Anchor, {
                        href: (0,
                        i.default)(c.LocalizedLinks.TWITTER),
                        target: "_blank",
                        className: h.guildsError,
                        "aria-label": f.default.Messages.PARTIAL_OUTAGE_A11Y.format({
                            count: e
                        }),
                        children: (0,
                        l.jsx)("span", {
                            "aria-hidden": !0,
                            className: h.errorInner,
                            children: "!"
                        })
                    })
                })
            })
        }
    },
    674552: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            renderGuildJoinRequestBadge: function() {
                return x
            },
            renderMediaBadge: function() {
                return v
            },
            renderMentionBadge: function() {
                return A
            },
            renderUnavailableBadge: function() {
                return L
            }
        }),
        n("47120");
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("481060")
          , r = n("44315")
          , o = n("246364")
          , u = n("460562")
          , d = n("305878")
          , c = n("119828")
          , f = n("263704")
          , h = n("465670")
          , m = n("737688")
          , C = n("497309")
          , p = n("169278")
          , g = n("185403")
          , E = n("944581")
          , S = n("632184")
          , _ = n("170039")
          , I = n("510601")
          , N = n("981631")
          , T = n("126702");
        function A(e, t) {
            return (0,
            l.jsx)(i.NumberBadge, {
                count: e,
                color: t
            })
        }
        function L() {
            return (0,
            l.jsx)(i.IconBadge, {
                icon: u.default,
                disableColor: !0,
                className: T.unavailableBadge
            })
        }
        function v(e) {
            let t, {audio: n, video: l, screenshare: a, isCurrentUserConnected: s, liveStage: i, activeEvent: r, activity: o, gaming: u} = e, f = (0,
            I.isGamingVoiceActivityEnabled)("Guild Icon", !1);
            if (!r && !i && !o && !a && !l && u && I.default.trackExposure({
                location: "Guild Icon"
            }),
            r)
                t = d.default;
            else if (i)
                t = _.default;
            else if (o)
                t = E.default;
            else if (a)
                t = p.default;
            else if (l)
                t = c.default;
            else if (u && f)
                t = m.default;
            else {
                if (!n)
                    return null;
                t = S.default
            }
            return R({
                icon: t,
                isCurrentUserConnected: s
            })
        }
        function x(e) {
            let {guildJoinRequestStatus: t} = e
              , [n,l] = function(e) {
                switch (e) {
                case o.GuildJoinRequestApplicationStatuses.SUBMITTED:
                    return [void 0, C.default];
                case o.GuildJoinRequestApplicationStatuses.REJECTED:
                    return [N.Color.RED_400, h.default];
                case o.GuildJoinRequestApplicationStatuses.APPROVED:
                    return [N.Color.GREEN_360, f.default];
                default:
                    return [void 0, g.default]
                }
            }(t);
            return R({
                icon: l,
                color: n
            })
        }
        function R(e) {
            let {icon: t, color: n, isCurrentUserConnected: a} = e
              , o = null == n ? {
                disableColor: !0
            } : {
                color: (0,
                r.getColor)(n)
            };
            return (0,
            l.jsx)(i.IconBadge, {
                icon: t,
                className: s()(T.iconBadge, {
                    [T.isCurrentUserConnected]: a
                }),
                ...o
            })
        }
    },
    654142: function(e, t, n) {
        "use strict";
        n.r(t),
        n("653041"),
        n("47120"),
        n("724458");
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("239091")
          , r = n("749210")
          , o = n("905423")
          , u = n("664915")
          , d = n("888369")
          , c = n("430824")
          , f = n("823379")
          , h = n("179809")
          , m = n("652376")
          , C = n("981631");
        t.default = a.memo(function(e) {
            let {folderNode: t, ...p} = e
              , {id: g, name: E, color: S, children: _} = t
              , I = _.map(e=>e.id)
              , N = (0,
            o.default)(e=>e.guildId)
              , T = (0,
            s.useStateFromStores)([u.default], ()=>u.default.isFolderExpanded(g))
              , A = function(e) {
                let t = e.children.map(e=>{
                    let t = e.id
                      , n = c.default.getGuild(t);
                    return null != n ? n.name : null
                }
                ).filter(f.isNotNullish)
                  , n = 2 * C.MAX_GUILD_FOLDER_NAME_LENGTH
                  , l = [];
                for (let e of t)
                    (e.length < n || 0 === l.length) && (l.push(e),
                    n -= e.length);
                return "".concat(l.join(", ")).concat(l.length < t.length ? ", ..." : "")
            }(t)
              , L = (0,
            m.default)(t)
              , {mentionCount: v, unread: x} = (0,
            s.useStateFromStoresObject)([d.default], ()=>({
                mentionCount: I.map(e=>d.default.getMentionCount(e)).reduce((e,t)=>e + t, 0),
                unread: I.some(e=>d.default.hasUnread(e))
            }))
              , R = a.useCallback(()=>{
                r.default.toggleGuildFolderExpand(g)
            }
            , [g])
              , M = a.useCallback(e=>{
                (0,
                i.openContextMenuLazy)(e, async()=>{
                    let {default: e} = await n.e("52590").then(n.bind(n, "205784"));
                    return t=>(0,
                    l.jsx)(e, {
                        ...t,
                        folderId: g,
                        folderName: E,
                        folderColor: S,
                        unread: x || v > 0
                    })
                }
                )
            }
            , [g, E, S, x, v]);
            return (0,
            l.jsx)(h.default, {
                ...p,
                folderNode: t,
                expanded: T,
                selected: null != N && I.includes(N),
                mentionCount: v,
                unread: x,
                mediaState: L,
                defaultFolderName: A,
                onExpandCollapse: R,
                onContextMenu: M
            })
        })
    },
    695301: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("746916")
          , r = n("965638")
          , o = n("905423")
          , u = n("486472")
          , d = n("888369")
          , c = n("430824")
          , f = n("451478")
          , h = n("291082")
          , m = n("61634")
          , C = n("325257")
          , p = n("640651");
        t.default = a.memo(function(e) {
            let {guildNode: t, lowerBadge: n} = e
              , g = t.id
              , E = (0,
            s.useStateFromStores)([c.default], ()=>c.default.getGuild(g))
              , S = (0,
            i.useCurrentUserGuildBadgeStatus)(g)
              , _ = (0,
            s.useStateFromStores)([f.default], ()=>f.default.isFocused())
              , I = (0,
            s.useStateFromStores)([u.default], ()=>u.default.isUnavailable(g))
              , N = (0,
            o.default)(e=>e.guildId)
              , T = (0,
            m.default)(g)
              , {badge: A, unread: L} = (0,
            s.useStateFromStoresObject)([d.default], ()=>({
                badge: d.default.getMentionCount(g),
                unread: d.default.hasUnread(g)
            }))
              , v = (0,
            r.useShouldShowInvitesDisabledNotif)(E) && 0 === A
              , x = a.useMemo(()=>null != n ? n : v ? (0,
            l.jsx)("div", {
                className: p.pauseBackground,
                children: (0,
                l.jsx)(h.default, {
                    className: p.pause,
                    width: 10,
                    height: 10
                })
            }) : null, [n, v]);
            return (0,
            l.jsx)(C.default, {
                ...e,
                guild: E,
                unavailable: I,
                animatable: _,
                selected: N === g,
                badge: A,
                lowerBadge: x,
                unread: L,
                mediaState: T,
                guildJoinRequestStatus: S
            })
        })
    },
    836040: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return d
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("451478")
          , r = n("727258")
          , o = n("325257")
          , u = n("981631");
        function d(e) {
            let {guild: t, invite: n} = e
              , d = a.useMemo(()=>(0,
            r.createGuildNode)(t.id), [t.id])
              , c = (0,
            s.useStateFromStores)([i.default], ()=>i.default.isFocused());
            return null == t ? null : (0,
            l.jsx)(o.default, {
                guildNode: d,
                guild: t,
                animatable: c,
                draggable: !1,
                contextMenu: ()=>{}
                ,
                selected: !0,
                route: u.Routes.GUILD_MEMBER_VERIFICATION_FOR_HUB(t.id, n.code)
            })
        }
    },
    588275: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return m
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("239091")
          , i = n("246364")
          , r = n("937111")
          , o = n("914010")
          , u = n("451478")
          , d = n("325257")
          , c = n("674552")
          , f = n("981631");
        function h(e, t) {
            (0,
            s.openContextMenuLazy)(e, async()=>{
                let {default: e} = await n.e("6368").then(n.bind(n, "987999"));
                return n=>(0,
                l.jsx)(e, {
                    ...n,
                    guild: t
                })
            }
            )
        }
        function m(e) {
            let {guildNode: t} = e
              , n = t.id
              , s = (0,
            a.useStateFromStores)([r.default], ()=>r.default.getRequest(n))
              , m = (0,
            a.useStateFromStores)([r.default], ()=>r.default.getJoinRequestGuild(n), [n])
              , C = (0,
            a.useStateFromStores)([u.default], ()=>u.default.isFocused())
              , p = (0,
            a.useStateFromStores)([o.default], ()=>o.default.getGuildId());
            return null == m ? null : (0,
            l.jsx)(d.default, {
                guildNode: t,
                guild: m,
                animatable: C,
                draggable: !1,
                selected: n === p,
                preloadOnClick: !1,
                contextMenu: h,
                lowerBadge: (null == s ? void 0 : s.applicationStatus) === i.GuildJoinRequestApplicationStatuses.REJECTED ? (0,
                c.renderGuildJoinRequestBadge)({
                    guildJoinRequestStatus: s.applicationStatus
                }) : void 0,
                route: f.Routes.GUILD_MEMBER_VERIFICATION(n)
            })
        }
    },
    836697: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return _
            }
        }),
        n("47120"),
        n("653041");
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("110924")
          , r = n("693546")
          , o = n("863249")
          , u = n("937111")
          , d = n("914010")
          , c = n("729565")
          , f = n("289090")
          , h = n("727258")
          , m = n("234383")
          , C = n("179809")
          , p = n("773182")
          , g = n("588275")
          , E = n("689938")
          , S = n("693353");
        function _(e) {
            let {onActivate: t} = e
              , [n,_] = a.useState(!1)
              , I = (0,
            s.useStateFromStores)([d.default], ()=>d.default.getGuildId())
              , N = (0,
            s.useStateFromStores)([u.default], ()=>u.default.hasFetchedRequestToJoinGuilds)
              , T = (0,
            m.default)()
              , A = (0,
            i.default)(I)
              , L = a.useMemo(()=>{
                let e = (0,
                h.createFolderNode)({
                    folderId: f.SpecialGuildsNodeIds.PENDING_JOIN_REQUESTS_FOLDER,
                    folderName: E.default.Messages.MEMBER_VERIFICATION_FOLDER_NAME,
                    expanded: n,
                    guildIds: []
                });
                for (let t of T)
                    e.children.push((0,
                    h.createGuildNode)(t, e.id));
                return e
            }
            , [T, n]);
            a.useEffect(()=>{
                n && !N && r.default.fetchRequestToJoinGuilds()
            }
            , [n, N]);
            let v = null != I && T.includes(I);
            return (a.useEffect(()=>{
                !n && v && A !== I && _(!0)
            }
            , [n, v, A, I]),
            0 === T.length) ? null : (0,
            l.jsx)(p.GuildsBarClanApplicationCoachmarkPopout, {
                onActivate: t,
                children: (0,
                l.jsx)(C.default, {
                    folderNode: L,
                    expanded: n,
                    useCircleMask: !n && !v,
                    selected: v,
                    draggable: !1,
                    sorting: !1,
                    onExpandCollapse: ()=>{
                        _(!n),
                        o.default.clearCoachmark()
                    }
                    ,
                    folderIconContent: (0,
                    l.jsx)(c.default, {
                        width: 24,
                        height: 24,
                        className: S.pendingIcon
                    }),
                    renderChildNode: function(e) {
                        return e.type !== h.GuildsNodeType.GUILD ? null : (0,
                        l.jsx)(g.default, {
                            guildNode: e
                        }, e.id)
                    }
                })
            })
        }
    },
    921230: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return f
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("905423")
          , r = n("430824")
          , o = n("451478")
          , u = n("727258")
          , d = n("61634")
          , c = n("325257");
        function f(e) {
            let {guildId: t} = e
              , n = a.useMemo(()=>(0,
            u.createGuildNode)(t), [t])
              , f = (0,
            s.useStateFromStores)([r.default], ()=>r.default.getGuild(t))
              , h = (0,
            s.useStateFromStores)([o.default], ()=>o.default.isFocused())
              , m = t === (0,
            i.default)(e=>{
                let {guildId: t} = e;
                return t
            }
            )
              , C = (0,
            d.default)(t);
            return null == f ? null : (0,
            l.jsx)(c.default, {
                guildNode: n,
                guild: f,
                animatable: h,
                selected: m,
                draggable: !1,
                mediaState: C
            })
        }
    },
    652376: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return u
            }
        });
        var l = n("470079")
          , a = n("442837")
          , s = n("623633")
          , i = n("199902")
          , r = n("19780")
          , o = n("979651");
        function u(e) {
            var t;
            let n = (0,
            a.useStateFromStores)([r.default], ()=>r.default.getGuildId())
              , u = e.children.map(e=>e.id)
              , d = null != n && u.includes(n)
              , c = !1
              , f = !1
              , h = !1
              , m = (0,
            a.useStateFromStores)([r.default], ()=>r.default.getChannelId())
              , C = null === (t = (0,
            s.default)()) || void 0 === t ? void 0 : t.guild_id
              , p = null != C && u.includes(C)
              , g = (0,
            a.useStateFromStores)([o.default], ()=>null != m && o.default.hasVideo(m), [m])
              , E = (0,
            a.useStateFromStores)([i.default], ()=>i.default.getCurrentUserActiveStream());
            return d && (c = !g,
            f = g,
            h = null != E && null != E.guildId && u.includes(E.guildId)),
            l.useMemo(()=>({
                audio: c,
                video: f,
                screenshare: h,
                liveStage: p,
                isCurrentUserConnected: d
            }), [c, f, h, p, d])
        }
    },
    593364: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            renderMentionBadge: function() {
                return s
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("481060");
        function s(e) {
            return (0,
            l.jsx)(a.NumberBadge, {
                count: e
            })
        }
        n("460562"),
        n("81311")
    },
    888592: function(e, t, n) {
        "use strict";
        var l, a;
        n.r(t),
        n.d(t, {
            HubEmailConnectionSteps: function() {
                return l
            },
            INVITE_ROUTING_HUB_GUILD_ID: function() {
                return s
            }
        }),
        (a = l || (l = {})).STUDENT_PROMPT = "STUDENT_PROMPT",
        a.VERIFY_EMAIL = "VERIFY_EMAIL",
        a.VERIFY_PIN = "VERIFY_PIN",
        a.SELECT_SCHOOL = "SELECT_SCHOOL",
        a.SELECT_SCHOOL_SEARCH = "SELECT_SCHOOL_SEARCH",
        a.SUBMIT_SCHOOL = "SUBMIT_SCHOOL",
        a.EMAIL_CONFIRMATION = "EMAIL_CONFIRMATION",
        a.EMAIL_WAITLIST = "EMAIL_WAITLIST";
        let s = "884924873015689226"
    },
    688438: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            useHubUnreadCount: function() {
                return o
            }
        });
        var l = n("442837")
          , a = n("273387")
          , s = n("975984")
          , i = n("306680")
          , r = n("709054");
        function o(e) {
            return (0,
            l.useStateFromStores)([a.default, i.default], ()=>{
                var t;
                if (null == e)
                    return 0;
                let n = i.default.ackMessageId(e.id);
                if (null == n)
                    return 0;
                let l = Object.values(null !== (t = a.default.getDirectoryEntries(e.id)) && void 0 !== t ? t : {}).filter(e=>{
                    let t = r.default.fromTimestamp(new Date(e.createdAt).getTime());
                    return (0,
                    s.hasMinimumMemberCount)(e) && t > n
                }
                );
                return Math.min(s.MAX_CATEGORY_SERVERS, l.length)
            }
            , [e])
        }
    },
    724912: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return i
            }
        });
        var l = n("442837")
          , a = n("430824")
          , s = n("981631");
        function i(e) {
            return (0,
            l.useStateFromStores)([a.default], ()=>{
                var t;
                if (null == e)
                    return !1;
                let n = a.default.getGuild(e);
                return null !== (t = null == n ? void 0 : n.hasFeature(s.GuildFeatures.HUB)) && void 0 !== t && t
            }
            , [e])
        }
    },
    258871: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("115850")
          , r = n("481060")
          , o = n("554747")
          , u = n("434479")
          , d = n("593364")
          , c = n("703656")
          , f = n("944486")
          , h = n("305878")
          , m = n("104259")
          , C = n("729285")
          , p = n("147754")
          , g = n("688438")
          , E = n("981631")
          , S = n("689938");
        let _ = [{
            key: "EVENTS",
            renderIcon: e=>(0,
            l.jsx)(h.default, {
                className: e
            }),
            getName: e=>{
                let {numEvents: t} = e;
                return t > 0 ? S.default.Messages.GUILD_EVENTS_PLURAL.format({
                    number: t
                }) : S.default.Messages.GUILD_EVENTS
            }
            ,
            handler: e=>(0,
            r.openModalLazy)(async()=>{
                let {default: t} = await Promise.all([n.e("99387"), n.e("22347"), n.e("56236")]).then(n.bind(n, "17671"));
                return n=>(0,
                l.jsx)(t, {
                    ...n,
                    guildId: e.id
                })
            }
            )
        }, {
            key: "JOIN_SERVERS",
            renderIcon: e=>(0,
            l.jsx)(m.default, {
                className: e
            }),
            getName: ()=>S.default.Messages.HUB_SIDEBAR_JOIN_SERVERS,
            handler: (e,t)=>(0,
            c.transitionToGuild)(e.id, t.id)
        }, {
            key: "ADD_SERVERS",
            renderIcon: e=>(0,
            l.jsx)(C.default, {
                className: e
            }),
            getName: ()=>S.default.Messages.HUB_SIDEBAR_ADD_SERVERS,
            handler: (e,t)=>(0,
            r.openModalLazy)(async()=>{
                let {default: a} = await Promise.all([n.e("99387"), n.e("79764")]).then(n.bind(n, "533202"));
                return n=>(0,
                l.jsx)(a, {
                    ...n,
                    directoryGuildName: e.name,
                    directoryGuildId: e.id,
                    directoryChannelId: t.id
                })
            }
            )
        }, {
            key: "INVITE_MEMBERS",
            renderIcon: e=>(0,
            l.jsx)(i.GroupPlusIcon, {
                className: e
            }),
            getName: ()=>S.default.Messages.HUB_SIDEBAR_INVITE_MEMBERS,
            handler: (e,t)=>(0,
            r.openModalLazy)(async()=>{
                let {default: a} = await Promise.all([n.e("99387"), n.e("7654"), n.e("1425")]).then(n.bind(n, "560114"));
                return n=>(0,
                l.jsx)(a, {
                    ...n,
                    guild: e,
                    channel: t,
                    source: E.InstantInviteSources.HUB_SIDEBAR
                })
            }
            )
        }];
        t.default = e=>{
            let {guild: t, channel: n} = e
              , i = (0,
            o.default)(t.id);
            a.useEffect(()=>{
                p.default.trackExposure({
                    guildId: t.id,
                    location: "543af8_1"
                })
            }
            , [t.id]);
            let {showHubEventsList: r} = p.default.useExperiment({
                guildId: t.id,
                location: "543af8_2"
            }, {
                autoTrackExposure: !1
            })
              , c = (0,
            s.useStateFromStores)([f.default], ()=>null != n && f.default.getChannelId() === n.id)
              , h = a.useMemo(()=>({
                numEvents: i.length
            }), [i.length])
              , m = (0,
            g.useHubUnreadCount)(n);
            return (0,
            l.jsx)(l.Fragment, {
                children: _.map(e=>{
                    let {key: a, getName: s, handler: i, renderIcon: o} = e;
                    if (!r && "EVENTS" === a)
                        return null;
                    let f = "".concat(a, "-").concat(t.id);
                    return (0,
                    l.jsx)(u.BasicChannelRow, {
                        id: f,
                        renderIcon: o,
                        text: s(h),
                        selected: c && "JOIN_SERVERS" === a,
                        onClick: null != n ? ()=>i(t, n) : void 0,
                        trailing: "JOIN_SERVERS" === a && m > 0 ? (0,
                        d.renderMentionBadge)(m) : null
                    }, f)
                }
                )
            })
        }
    },
    175281: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return P
            }
        }),
        n("47120"),
        n("653041");
        var l, a, s = n("735250"), i = n("470079"), r = n("120356"), o = n.n(r), u = n("512722"), d = n.n(u), c = n("392711"), f = n.n(c), h = n("748780"), m = n("442837"), C = n("215569"), p = n("481060"), g = n("612226"), E = n("951483"), S = n("714338"), _ = n("607070"), I = n("585483"), N = n("557177"), T = n("264549"), A = n("981631"), L = n("689938"), v = n("672945");
        function x(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        (a = l || (l = {})).UP = "UP",
        a.DOWN = "DOWN",
        a.LEFT = "LEFT",
        a.RIGHT = "RIGHT";
        let R = {
            UP: f().throttle(()=>(0,
            N.playSound)("ddr-up"), 100),
            DOWN: f().throttle(()=>(0,
            N.playSound)("ddr-down"), 100),
            LEFT: f().throttle(()=>(0,
            N.playSound)("ddr-left"), 100),
            RIGHT: f().throttle(()=>(0,
            N.playSound)("ddr-right"), 100)
        };
        function M(e) {
            switch (e.keyCode) {
            case A.KeyboardKeys.ARROW_UP:
                return "UP";
            case A.KeyboardKeys.ARROW_DOWN:
                return "DOWN";
            case A.KeyboardKeys.ARROW_LEFT:
                return "LEFT";
            case A.KeyboardKeys.ARROW_RIGHT:
                return "RIGHT";
            default:
                return null
            }
        }
        let y = 1e3 / 60
          , O = [g.KeybindGroup.MESSAGE, g.KeybindGroup.NAVIGATION, g.KeybindGroup.VOICE_AND_VIDEO, g.KeybindGroup.CHAT, g.KeybindGroup.MISCELLANEOUS];
        function b() {
            let e = i.useMemo(()=>f()((0,
            g.getDefaultLayoutContent)()).groupBy(e=>e.group).value(), []);
            return (0,
            s.jsx)("div", {
                className: v.keyboardShortcutList,
                children: O.map(t=>{
                    let n = e[t]
                      , l = (0,
                    g.getNameForKeybindGroup)(t)
                      , a = (0,
                    g.getDescriptionForKeybindGroup)(t);
                    return (0,
                    s.jsxs)("div", {
                        className: v.keyboardShortcutSection,
                        children: [(0,
                        s.jsxs)("div", {
                            children: [(0,
                            s.jsx)(p.Heading, {
                                variant: "heading-lg/semibold",
                                children: l
                            }), null != a && (0,
                            s.jsx)(p.Text, {
                                className: v.keybindGroupDescription,
                                variant: "text-sm/normal",
                                children: a
                            })]
                        }), (0,
                        s.jsx)("div", {
                            className: v.keyboardShortcutListGroup,
                            children: n.map((e,t)=>{
                                var n;
                                return (null === (n = e.predicate) || void 0 === n ? void 0 : n.call(e)) === !1 ? null : (0,
                                s.jsxs)("div", {
                                    className: o()(v.keybindGroup),
                                    children: [(0,
                                    s.jsx)(p.Text, {
                                        variant: "text-sm/normal",
                                        children: e.description
                                    }), (0,
                                    s.jsx)("div", {
                                        className: "keybind-shortcuts",
                                        children: e.binds.map(e=>(0,
                                        s.jsx)(p.KeyCombo, {
                                            className: v.keybindKey,
                                            shortcut: e
                                        }, e))
                                    })]
                                }, t)
                            }
                            )
                        }, t)]
                    }, t)
                }
                )
            })
        }
        class D extends i.PureComponent {
            componentDidMount() {
                this.lastInputedKeys = [],
                I.ComponentDispatch.subscribe(A.ComponentActions.SCROLL_PAGE_UP, this.scrollPageUp),
                I.ComponentDispatch.subscribe(A.ComponentActions.SCROLL_PAGE_DOWN, this.scrollPageDown),
                window.addEventListener("keydown", this.handleKeyDown, {
                    capture: !0
                }),
                window.addEventListener("keyup", this.handleKeyUp, {
                    capture: !0
                })
            }
            componentWillUnmount() {
                I.ComponentDispatch.unsubscribe(A.ComponentActions.SCROLL_PAGE_UP, this.scrollPageUp),
                I.ComponentDispatch.unsubscribe(A.ComponentActions.SCROLL_PAGE_DOWN, this.scrollPageDown),
                window.removeEventListener("keydown", this.handleKeyDown, {
                    capture: !0
                }),
                window.removeEventListener("keyup", this.handleKeyUp, {
                    capture: !0
                })
            }
            render() {
                let {UP: e, DOWN: t, LEFT: n, RIGHT: l} = this.state;
                return (0,
                s.jsxs)(h.default.div, {
                    className: v.keyboardShortcutsModal,
                    style: this.getStyles(),
                    children: [(0,
                    s.jsxs)(p.H, {
                        className: v.modalTitle,
                        children: [(0,
                        s.jsx)("div", {
                            className: v.content,
                            children: L.default.Messages.KEYBIND_DESCRIPTION_MODAL_TITLE
                        }), (0,
                        s.jsx)(p.KeyCombo, {
                            shortcut: "mod+/"
                        })]
                    }), (0,
                    s.jsx)("div", {
                        className: v.modalSubtitle,
                        children: L.default.Messages.KEYBIND_DESCRIPTION_MODAL_SUBTITLE
                    }), (0,
                    s.jsxs)("div", {
                        className: v.ddrArrows,
                        children: [(0,
                        s.jsx)(j, {
                            arrow: "LEFT",
                            isActive: n,
                            className: v.left,
                            children: "left"
                        }), (0,
                        s.jsx)(j, {
                            arrow: "DOWN",
                            isActive: t,
                            className: v.down,
                            children: "down"
                        }), (0,
                        s.jsx)(j, {
                            arrow: "UP",
                            isActive: e,
                            className: v.up,
                            children: "up"
                        }), (0,
                        s.jsx)(j, {
                            arrow: "RIGHT",
                            isActive: l,
                            className: v.right,
                            children: "right"
                        })]
                    }), (0,
                    s.jsx)(p.AdvancedScrollerAuto, {
                        ref: this.scrollerRef,
                        fade: !0,
                        children: (0,
                        s.jsx)(p.HeadingLevel, {
                            children: (0,
                            s.jsx)(b, {})
                        })
                    })]
                })
            }
            constructor(...e) {
                super(...e),
                x(this, "state", {
                    UP: !1,
                    DOWN: !1,
                    LEFT: !1,
                    RIGHT: !1,
                    opacity: new h.default.Value(1),
                    scaleX: new h.default.Value(1),
                    scaleY: new h.default.Value(0),
                    animating: !1
                }),
                x(this, "scrollerRef", i.createRef()),
                x(this, "lastInputedKeys", []),
                x(this, "scrollPageUp", ()=>{
                    let e = this.scrollerRef.current;
                    d()(null != e, "Scroller is pagedUp when not mounted"),
                    e.scrollPageUp({
                        animate: !0
                    })
                }
                ),
                x(this, "scrollPageDown", ()=>{
                    let e = this.scrollerRef.current;
                    d()(null != e, "Scroller is pagedDown when not mounted"),
                    e.scrollPageDown({
                        animate: !0
                    })
                }
                ),
                x(this, "arrowUp", e=>{
                    let {direction: t} = e;
                    this.setState({
                        [t]: !1
                    })
                }
                ),
                x(this, "arrowDown", e=>{
                    let {direction: t} = e;
                    R[t](),
                    this.setState({
                        [t]: !0
                    })
                }
                ),
                x(this, "componentWillLeave", e=>{
                    this.setState({
                        animating: !0
                    }),
                    this.state.opacity.setValue(1),
                    this.state.scaleX.setValue(.5),
                    this.state.scaleY.setValue(1),
                    h.default.sequence([h.default.timing(this.state.opacity, {
                        toValue: .7,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: 1,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: .7,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: 1,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        delay: 300,
                        toValue: .7,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: 1,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: .7,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: 1,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: .7,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: 1,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: .7,
                        duration: 2 * y
                    }), h.default.timing(this.state.opacity, {
                        toValue: 1,
                        duration: 2 * y
                    }), h.default.timing(this.state.scaleY, {
                        delay: 100,
                        toValue: .005,
                        duration: 8 * y,
                        easing: h.default.Easing.in(h.default.Easing.ease)
                    }), h.default.parallel([h.default.timing(this.state.scaleX, {
                        toValue: 1,
                        duration: 10 * y,
                        easing: h.default.Easing.out(h.default.Easing.ease)
                    }), h.default.timing(this.state.opacity, {
                        toValue: 0,
                        duration: 12 * y
                    })])]).start(e)
                }
                ),
                x(this, "toggleOpacity", ()=>{
                    1 === this.state.opacity._value ? this.state.opacity.setValue(0) : this.state.opacity.setValue(1)
                }
                ),
                x(this, "getStyles", ()=>({
                    opacity: this.state.opacity.interpolate({
                        inputRange: [0, 1],
                        outputRange: [0, 1]
                    }),
                    transform: [{
                        scaleX: this.state.scaleX.interpolate({
                            inputRange: [0, 1],
                            outputRange: [0, 2]
                        })
                    }, {
                        scaleY: this.state.scaleY.interpolate({
                            inputRange: [0, 1],
                            outputRange: [0, 1]
                        })
                    }]
                })),
                x(this, "handleKeyDown", e=>{
                    if (this.lastInputedKeys.push(e.keyCode),
                    this.lastInputedKeys = this.lastInputedKeys.slice(-5),
                    this.lastInputedKeys[0] === A.KeyboardKeys.H && this.lastInputedKeys[1] === A.KeyboardKeys.H && this.lastInputedKeys[2] === A.KeyboardKeys.ARROW_RIGHT && this.lastInputedKeys[3] === A.KeyboardKeys.N && this.lastInputedKeys[4] === A.KeyboardKeys.K && this.props.activateRagingDemon(),
                    this.props.keyboardModeEnabled)
                        return;
                    let t = M(e);
                    null !== t && (e.stopPropagation(),
                    e.preventDefault(),
                    this.arrowDown({
                        direction: t
                    }))
                }
                ),
                x(this, "handleKeyUp", e=>{
                    if (this.props.keyboardModeEnabled)
                        return;
                    let t = M(e);
                    null !== t && (e.stopPropagation(),
                    e.preventDefault(),
                    this.arrowUp({
                        direction: t
                    }))
                }
                ),
                x(this, "onArrowClick", e=>{
                    this.arrowDown({
                        direction: e
                    })
                }
                )
            }
        }
        function j(e) {
            let {isActive: t, arrow: n, className: l, children: a} = e
              , [r,u] = i.useState(t)
              , d = i.useCallback(()=>{
                R[n](),
                u(!0)
            }
            , [n]);
            return i.useEffect(()=>{
                if (r) {
                    let e = setTimeout(()=>u(!1), 500);
                    return ()=>clearTimeout(e)
                }
            }
            , [r]),
            (0,
            s.jsx)(p.Clickable, {
                onClick: d,
                className: o()(v.arrow, l, {
                    [v.active]: t || r
                }),
                children: a
            })
        }
        function P(e) {
            let {transitionState: t, onClose: n} = e
              , [l,a] = i.useState(!1)
              , r = i.useMemo(()=>__OVERLAY__ ? (0,
            E.getOverlayLayoutContent)() : (0,
            g.getDefaultLayoutContent)(), [])
              , u = (0,
            m.useStateFromStores)([_.default], ()=>_.default.keyboardModeEnabled);
            return (0,
            s.jsx)(p.ModalRoot, {
                className: o()(v.noBackground, {
                    [v.noShadow]: l
                }),
                size: p.ModalSize.DYNAMIC,
                "aria-label": L.default.Messages.KEYBINDS,
                transitionState: t,
                children: (0,
                s.jsx)(C.TransitionGroup, {
                    component: "div",
                    children: l ? (0,
                    s.jsx)(T.default, {
                        onClose: n
                    }, "raging-demo") : (0,
                    s.jsx)(D, {
                        content: r,
                        keyboardModeEnabled: u,
                        activateRagingDemon: function() {
                            S.default.disable(),
                            a(!0)
                        }
                    }, "modal")
                })
            })
        }
    },
    377400: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250");
        n("470079");
        var a = n("481060")
          , s = n("570140")
          , i = n("317770")
          , r = n("175281")
          , o = n("285371");
        class u extends i.default {
            _initialize() {
                s.default.subscribe("SHOW_KEYBOARD_SHORTCUTS", this.showKeyboardShortcuts),
                s.default.subscribe("HIDE_KEYBOARD_SHORTCUTS", this.hideKeyboardShortcuts)
            }
            _terminate() {
                s.default.unsubscribe("SHOW_KEYBOARD_SHORTCUTS", this.showKeyboardShortcuts),
                s.default.unsubscribe("HIDE_KEYBOARD_SHORTCUTS", this.hideKeyboardShortcuts)
            }
            showKeyboardShortcuts() {
                (0,
                a.openModal)(e=>(0,
                l.jsx)(r.default, {
                    ...e
                }), {
                    modalKey: o.KEYBOARD_SHORTCUT_MODAL_KEY
                })
            }
            hideKeyboardShortcuts() {
                (0,
                a.closeModal)(o.KEYBOARD_SHORTCUT_MODAL_KEY)
            }
        }
        t.default = new u
    },
    264549: function(e, t, n) {
        "use strict";
        n.r(t),
        n("653041"),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("392711")
          , o = n.n(r)
          , u = n("714338")
          , d = n("585483")
          , c = n("981631")
          , f = n("519810");
        function h(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let m = {
            PRIMARY: ()=>!0,
            SECONDARY: ()=>!0
        }
          , C = ()=>(0,
        l.jsxs)("div", {
            className: f.symbol,
            children: [(0,
            l.jsx)("div", {
                className: f.symbolBackground
            }), (0,
            l.jsx)("img", {
                alt: "",
                src: n("977706")
            })]
        }, "symbol");
        class p extends a.PureComponent {
            componentDidMount() {
                this.setState({
                    animating: !0
                }),
                this._renderSecondaryTimeout = setTimeout(()=>{
                    this.setState({
                        renderSecondary: !0
                    })
                }
                , 120),
                this._doneTimeout = setTimeout(this.done, 1e3),
                m.PRIMARY()
            }
            componentDidUpdate(e, t) {
                this.state.renderSecondary && !t.renderSecondary && m.SECONDARY()
            }
            componentWillUnmount() {
                clearTimeout(this._renderSecondaryTimeout),
                clearTimeout(this._doneTimeout)
            }
            renderPrimary() {
                return (0,
                l.jsxs)("div", {
                    className: f.primaryExplosion,
                    children: [(0,
                    l.jsx)("img", {
                        alt: "",
                        className: f.circleInner,
                        src: n("273226"),
                        width: 70,
                        height: 69
                    }), (0,
                    l.jsx)("img", {
                        alt: "",
                        className: f.circleOuter,
                        src: n("922026"),
                        width: 96,
                        height: 95
                    }), (0,
                    l.jsx)("img", {
                        alt: "",
                        className: f.linesSecondary,
                        src: n("827926"),
                        width: 183,
                        height: 104
                    }), (0,
                    l.jsx)("img", {
                        alt: "",
                        className: f.linesMain,
                        src: n("873180"),
                        width: 69,
                        height: 180
                    })]
                }, "primary-explosion")
            }
            renderSecondary(e, t) {
                return (0,
                l.jsxs)("div", {
                    className: f.secondaryExplosion,
                    style: {
                        top: t,
                        left: e
                    },
                    children: [(0,
                    l.jsx)("img", {
                        alt: "",
                        className: f.circleInner,
                        src: n("272162"),
                        width: 61,
                        height: 58
                    }, "circle-inner"), (0,
                    l.jsx)("img", {
                        alt: "",
                        className: f.circleOuter,
                        src: n("632989"),
                        width: 85,
                        height: 85
                    }, "circle-outer"), (0,
                    l.jsx)("img", {
                        alt: "",
                        className: f.linesSecondary,
                        src: n("376252"),
                        width: 162,
                        height: 173
                    }, "lines-secondary"), (0,
                    l.jsx)("img", {
                        alt: "",
                        className: f.linesMain,
                        src: n("720617"),
                        width: 156,
                        height: 306
                    }, "lines-main")]
                }, "secondary-explosion")
            }
            render() {
                let {renderSecondary: e, offsetX: t, offsetY: n, animating: a, scale: s} = this.state
                  , r = [this.renderPrimary()];
                return e && r.push(this.renderSecondary(t, n)),
                (0,
                l.jsx)("div", {
                    className: i()(f.container, {
                        [f.animate]: a
                    }),
                    style: {
                        top: this.props.top,
                        left: this.props.left,
                        transform: "scale(".concat(s, ")")
                    },
                    children: r
                })
            }
            constructor(...e) {
                super(...e),
                h(this, "_renderSecondaryTimeout", null),
                h(this, "_doneTimeout", null),
                h(this, "state", {
                    animating: !1,
                    renderSecondary: !1,
                    scale: o().random(.6, 1, !0),
                    offsetX: o().random(0, 140, !1) - 70,
                    offsetY: o().random(0, 140, !1) - 70
                }),
                h(this, "done", ()=>{
                    this.props.onAnimationComplete(this.props.componentId)
                }
                )
            }
        }
        let g = 240;
        class E extends a.PureComponent {
            componentDidMount() {
                this.setTimeout(()=>{
                    this.setState({
                        visible: !0
                    }),
                    d.ComponentDispatch.dispatch(c.ComponentActions.SHAKE_APP, {
                        duration: 2400
                    })
                }
                , 1800),
                this.setTimeout(this.createExplosion, 1800)
            }
            componentWillUnmount() {
                for (let e of (u.default.enable(),
                this.children.length = 0,
                this._timeouts))
                    clearTimeout(e)
            }
            render() {
                return (0,
                l.jsx)("div", {
                    className: i()(f.ragingDemon, {
                        [f.visible]: this.state.visible
                    }),
                    children: this.children
                })
            }
            constructor(...e) {
                super(...e),
                h(this, "_timeouts", []),
                h(this, "children", []),
                h(this, "state", {
                    explosions: 0,
                    visible: !1
                }),
                h(this, "setTimeout", (e,t)=>{
                    let n = setTimeout(e, t);
                    return this._timeouts.push(n),
                    n
                }
                ),
                h(this, "removeExplosion", e=>{
                    let t = this.children
                      , n = t.findIndex(t=>{
                        if (t.type !== p)
                            return !1;
                        let n = t.props;
                        return null != n.componentId && n.componentId === e
                    }
                    );
                    n >= 0 && t.splice(n, 1),
                    this.forceUpdate()
                }
                ),
                h(this, "createExplosion", ()=>{
                    let e = this.children
                      , t = window.innerWidth / 2 >> 0
                      , n = window.innerHeight / 2 >> 0;
                    if (this.state.explosions < 8) {
                        let a = "expl-".concat(this.state.explosions);
                        e.push((0,
                        l.jsx)(p, {
                            componentId: a,
                            top: o().random(n - 100, n + 100, !1),
                            left: o().random(t - 200, t + 200, !1),
                            onAnimationComplete: this.removeExplosion
                        }, a)),
                        this.setTimeout(this.createExplosion, g),
                        this.setState({
                            explosions: this.state.explosions + 1
                        })
                    } else
                        this.setTimeout(this.addSymbol, 750)
                }
                ),
                h(this, "addSymbol", ()=>{
                    this.children = [(0,
                    l.jsx)(C, {}, "symbol")],
                    this.forceUpdate(),
                    this.setTimeout(this.delayedClose, 3e3)
                }
                ),
                h(this, "delayedClose", ()=>{
                    this.props.onClose()
                }
                )
            }
        }
        t.default = E
    },
    879041: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            useIsNewMessageRequestHomeCountEnabled: function() {
                return a
            }
        });
        let l = (0,
        n("818083").createExperiment)({
            kind: "user",
            id: "2022-12_message_request_home_count",
            label: "Safety Experience Message Request Home Count",
            defaultConfig: {
                enabled: !1
            },
            treatments: [{
                id: 1,
                label: "The Message Request home count uses new data stores",
                config: {
                    enabled: !0
                }
            }]
        });
        function a(e) {
            let {location: t} = e;
            return l.useExperiment({
                location: t
            }, {
                autoTrackExposure: !0
            }).enabled
        }
    },
    900255: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            sortChannelIds: function() {
                return a
            }
        });
        var l = n("709054");
        function a(e) {
            return e.sort((e,t)=>l.default.compare(e.lastMessageId, t.lastMessageId)).reverse()
        }
    },
    899740: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            useMessageRequestsCount: function() {
                return d
            },
            useNewMessageRequestsCount: function() {
                return c
            }
        });
        var l = n("442837")
          , a = n("306680")
          , s = n("709054")
          , i = n("879041")
          , r = n("355298")
          , o = n("177033")
          , u = n("490897");
        function d() {
            return (0,
            l.useStateFromStores)([r.default], ()=>r.default.getMessageRequestsCount())
        }
        function c() {
            let e = (0,
            i.useIsNewMessageRequestHomeCountEnabled)({
                location: "use-message-requests-count"
            })
              , t = (0,
            l.useStateFromStores)([a.default], ()=>a.default.getNonChannelAckId(u.ReadStateTypes.MESSAGE_REQUESTS))
              , n = (0,
            o.default)();
            return e ? n.filter(e=>s.default.compare(e.channel.id, t) > 0).length : n.length
        }
    },
    177033: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return u
            }
        });
        var l = n("470079")
          , a = n("442837")
          , s = n("592125")
          , i = n("594174")
          , r = n("355298")
          , o = n("900255");
        function u() {
            let e = (0,
            a.useStateFromStores)([s.default], ()=>s.default.getPrivateChannelsVersion())
              , t = (0,
            a.useStateFromStoresArray)([s.default, r.default], ()=>{
                let e = s.default.getMutablePrivateChannels()
                  , t = Array.from(r.default.getMessageRequestChannelIds()).map(t=>e[t]).filter(e=>null != e);
                return (0,
                o.sortChannelIds)(t)
            }
            , [e])
              , n = (0,
            a.useStateFromStoresObject)([i.default], ()=>{
                let e = {};
                return t.forEach(t=>{
                    let n = i.default.getUser(t.recipients[0]);
                    null != n && (e[t.id] = n)
                }
                ),
                e
            }
            , [t]);
            return l.useMemo(()=>t.map(e=>({
                channel: e,
                user: n[e.id]
            })), [t, n])
        }
    },
    817915: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            ICON_SIZE: function() {
                return l
            },
            NOW_PLAYING_MINIMUM_WIDTH: function() {
                return a
            }
        });
        let l = 64
          , a = 1200
    },
    656063: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return u
            }
        });
        var l = n("503438")
          , a = n("802856")
          , s = n("420660")
          , i = n("789407")
          , r = n("630186")
          , o = n("250889");
        function u(e) {
            return (0,
            a.default)(e) ? o.XBOX_APPLICATION_ID_PREFIX + e.name : (0,
            l.default)(e) && null != e.party && null != e.party.id ? i.SpotifyApplication.id : (0,
            s.default)(e) && null != e.url ? r.TWITCH_APPLICATION_ID_PREFIX + e.url : null != e.application_id ? e.application_id : null
        }
    },
    761282: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            createBody: function() {
                return u
            },
            createHeader: function() {
                return o
            },
            shouldShowActivity: function() {
                return d
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("261600")
          , s = n("157925")
          , i = n("691970");
        let r = {
            [s.STAGE_APPLICATION_ID]: new a.StageChannelNowPlayingDelegate
        };
        function o(e) {
            var t;
            let n = e.application_id;
            if (null == n)
                return;
            let l = r[n];
            if (null != l && (null === (t = l.shouldShow) || void 0 === t ? void 0 : t.call(l, e)) !== !1)
                return l.createHeader(e)
        }
        function u(e) {
            var t;
            let n = e.application_id;
            if (null == n)
                return;
            let a = r[n];
            if ((null == a ? void 0 : a.body) != null && (null === (t = a.shouldShow) || void 0 === t ? void 0 : t.call(a, e)) !== !1) {
                let t = a.body;
                return (0,
                l.jsx)("section", {
                    className: i.section,
                    children: (0,
                    l.jsx)(t, {
                        activity: e
                    })
                }, "delegate-".concat(n))
            }
        }
        function d(e) {
            var t;
            let n = e.application_id;
            if (null == n)
                return !0;
            let l = r[n];
            return null == l || (null === (t = l.shouldShow) || void 0 === t ? void 0 : t.call(l, e)) !== !1
        }
    },
    868854: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            getNowPlayingVisible: function() {
                return u
            },
            useNowPlayingVisible: function() {
                return o
            }
        });
        var l = n("442837")
          , a = n("480294")
          , s = n("451478")
          , i = n("817915")
          , r = n("981631");
        function o() {
            let e = (0,
            l.useStateFromStores)([s.default], ()=>s.default.windowSize().width);
            return d(e, (0,
            l.useStateFromStores)([a.default], ()=>a.default.hasConsented(r.Consents.PERSONALIZATION)))
        }
        function u() {
            let e = s.default.windowSize().width;
            return d(e, a.default.hasConsented(r.Consents.PERSONALIZATION))
        }
        function d(e, t) {
            return e > i.NOW_PLAYING_MINIMUM_WIDTH && t
        }
    },
    840780: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("512722")
          , o = n.n(r)
          , u = n("442837")
          , d = n("704215")
          , c = n("692547")
          , f = n("115850")
          , h = n("481060")
          , m = n("988298")
          , C = n("475179")
          , p = n("925549")
          , g = n("872810")
          , E = n("438139")
          , S = n("730749")
          , _ = n("607070")
          , I = n("566620")
          , N = n("317381")
          , T = n("620662")
          , A = n("835473")
          , L = n("67212")
          , v = n("757454")
          , x = n("552740")
          , R = n("933557")
          , M = n("311352")
          , y = n("730417")
          , O = n("524347")
          , b = n("853197")
          , D = n("616360")
          , j = n("858064")
          , P = n("594190")
          , G = n("569545")
          , U = n("102172")
          , w = n("74299")
          , B = n("914923")
          , F = n("165393")
          , V = n("989941")
          , H = n("803647")
          , k = n("231664")
          , Y = n("759198")
          , K = n("131704")
          , W = n("199902")
          , z = n("314897")
          , Z = n("592125")
          , X = n("984933")
          , q = n("430824")
          , Q = n("131951")
          , J = n("496675")
          , $ = n("158776")
          , ee = n("699516")
          , et = n("944486")
          , en = n("885110")
          , el = n("594174")
          , ea = n("449224")
          , es = n("366695")
          , ei = n("672752")
          , er = n("499150")
          , eo = n("119828")
          , eu = n("87086")
          , ed = n("466111")
          , ec = n("990138")
          , ef = n("761374")
          , eh = n("976401")
          , em = n("333454")
          , eC = n("864441")
          , ep = n("368666")
          , eg = n("626135")
          , eE = n("358085")
          , eS = n("793224")
          , e_ = n("978769")
          , eI = n("981631")
          , eN = n("918559")
          , eT = n("702512")
          , eA = n("689938")
          , eL = n("497727");
        function ev(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let ex = (0,
        E.default)(function(e) {
            let {message: t} = e;
            return (0,
            l.jsx)(em.default, {
                children: t
            })
        });
        class eR extends a.PureComponent {
            componentDidUpdate(e) {
                !e.dropsActivityPanelExperienceBlocked && this.props.dropsActivityPanelExperienceBlocked && this.setState({
                    isDropsActivityPanelTooltipOpen: !1
                })
            }
            isJoinableActivity() {
                let {application: e, activity: t, embeddedActivity: n} = this.props;
                return null != e && (null != n ? n.applicationId === e.id : null != t && t.application_id === e.id && t.type === eI.ActivityTypes.PLAYING && (0,
                T.default)(t, eI.ActivityFlags.JOIN))
            }
            renderGoLiveButton() {
                let e, t, n, a;
                let {canGoLive: s, guildId: i, isStreaming: r, channel: o, canStream: u, runningGame: d, embeddedActivity: c} = this.props;
                return (null != d || null == c) && (r || s && null != d) ? (r ? (e = !1,
                t = this.handleClickStopStreamingButton,
                n = ec.default,
                a = eA.default.Messages.STOP_STREAMING) : u ? (e = !1,
                t = this.handleClickGoLiveButton,
                n = ef.default,
                a = null != d ? eA.default.Messages.ACTIVITY_PANEL_GO_LIVE_STREAM_GAME.format({
                    game: d.name
                }) : eA.default.Messages.ACTIVITY_PANEL_GO_LIVE) : (e = !0,
                t = null,
                n = ef.default,
                a = null != o && (0,
                K.isVoiceChannel)(o.type) ? eA.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_VOICE : null != i ? eA.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NO_PERMISSION_IN_GUILD : eA.default.Messages.ACTIVITY_PANEL_GO_LIVE_TOOLTIP_NOT_IN_GUILD),
                (0,
                l.jsx)("div", {
                    className: eL.panelButtonContainer,
                    children: (0,
                    l.jsx)(eh.default, {
                        tooltipText: a,
                        disabled: e,
                        onClick: t,
                        icon: n,
                        iconForeground: eL.__invalid_actionIcon
                    })
                })) : null
            }
            renderInviteButton() {
                let {embeddedActivity: e} = this.props;
                return this.isJoinableActivity() && null == e ? (0,
                l.jsx)(eh.default, {
                    tooltipText: eA.default.Messages.INVITE_EMBED_INVITE_TO_JOIN,
                    onClick: this.handleClickInviteButton,
                    icon: f.GroupPlusIcon,
                    iconForeground: eL.__invalid_actionIcon
                }) : null
            }
            renderDropsButton() {
                let {dropsTooltipAction: e, dropsPartnerGame: t} = this.props;
                if (null == t)
                    return null;
                let n = this.state.isDropsActivityPanelTooltipOpen
                  , a = ()=>this.setState({
                    isDropsActivityPanelTooltipOpen: !1
                });
                return (0,
                l.jsx)(h.Popout, {
                    shouldShow: n,
                    position: "top",
                    align: "center",
                    onRequestClose: a,
                    renderPopout: ()=>(0,
                    l.jsx)(j.default, {
                        partnerGame: t,
                        tooltipAction: e,
                        onClose: a
                    }),
                    children: ()=>(0,
                    l.jsxs)(l.Fragment, {
                        children: [this.state.showDropsSparkles && this.renderSparkles(), (0,
                        l.jsx)(eh.default, {
                            "aria-label": eA.default.Messages.DROPS_ENABLED,
                            tooltipText: n ? null : eA.default.Messages.DROPS_ENABLED,
                            onClick: this.handleClickDropsButton,
                            icon: D.default
                        })]
                    })
                })
            }
            renderLeaveEmbeddedActivityButton() {
                let {embeddedActivity: e, channel: t} = this.props;
                return null == e || null == t ? null : (0,
                l.jsx)(eh.default, {
                    tooltipText: eA.default.Messages.EMBEDDED_ACTIVITIES_LEAVE_ACTIVITY,
                    onClick: this.handleClickLeaveEmbeddedActivityButton(e.applicationId, t),
                    icon: eu.default,
                    iconForeground: eL.__invalid_actionIcon
                })
            }
            renderBroadcastButton() {
                let {channel: e} = this.props;
                return null != e && (0,
                K.isVoiceChannel)(e.type) ? null : (0,
                l.jsx)(eS.default, {})
            }
            renderBroadcastSettingsButton() {
                let {broadcast: e} = this.props;
                return null == e ? null : (0,
                l.jsx)(e_.default, {})
            }
            renderSparkles() {
                let {useReducedMotion: e} = this.props;
                async function t() {
                    let {default: e} = await n.e("5217").then(n.t.bind(n, "801048", 19));
                    return e
                }
                return (0,
                l.jsx)("div", {
                    className: eL.sparkleContainer,
                    children: (0,
                    l.jsx)(h.LottieAnimation, {
                        importData: t,
                        shouldAnimate: !e,
                        className: eL.sparkles
                    })
                })
            }
            renderActions() {
                let e = this.renderGoLiveButton()
                  , t = this.renderDropsButton()
                  , n = this.renderInviteButton()
                  , a = this.renderLeaveEmbeddedActivityButton()
                  , s = this.renderClipsButton()
                  , i = this.renderBroadcastButton()
                  , r = this.renderBroadcastSettingsButton();
                return null == e && null == n && null == a ? null : (0,
                l.jsxs)("div", {
                    className: eL.actions,
                    children: [i, e, r, n, null == e ? a : s, t]
                })
            }
            getGameName() {
                let {runningGame: e, application: t} = this.props;
                return null != t ? t.name : null != e ? e.name : eA.default.Messages.STATUS_UNKNOWN
            }
            renderGame() {
                let {isStreaming: e, dropsPartnerGame: t, application: n, runningGame: a} = this.props
                  , s = this.getGameName();
                return (0,
                l.jsxs)("div", {
                    className: i()(eL.gameWrapper, {
                        [eL.clickableGameWrapper]: null != n
                    }),
                    children: [(0,
                    l.jsxs)("div", {
                        className: eL.gameIconWrapper,
                        children: [(0,
                        l.jsx)(es.default, {
                            className: eL.gameIcon,
                            game: n,
                            pid: null == a ? void 0 : a.pid
                        }), e ? (0,
                        l.jsx)(eo.default, {
                            className: eL.liveBadge
                        }) : null]
                    }), (0,
                    l.jsx)("div", {
                        className: i()(eL.info, {
                            [eL.infoWithDrops]: null != t
                        }),
                        children: null != s ? (0,
                        l.jsxs)(l.Fragment, {
                            children: [(0,
                            l.jsx)(eC.default, {
                                children: s
                            }), null != t && (0,
                            l.jsx)("div", {
                                className: eL.dropsBadgeWrapper,
                                children: (0,
                                l.jsx)(h.TextBadge, {
                                    text: eA.default.Messages.DROPS_AVAILABLE,
                                    color: c.default.unsafe_rawColors.BRAND_500.css,
                                    className: eL.dropsBadge
                                })
                            })]
                        }) : null
                    })]
                })
            }
            renderScreenshare() {
                let {isStreaming: e, dropsPartnerGame: t, streamMetadata: n, streamQualityIndicator: a} = this.props
                  , {title: s, sanitizedTitle: r} = (0,
                B.default)(n);
                return (0,
                l.jsxs)("div", {
                    className: eL.gameWrapper,
                    children: [e ? (0,
                    l.jsx)(F.default, {
                        title: r
                    }) : (0,
                    l.jsx)(ep.default, {
                        look: ep.default.Looks.GRAY,
                        size: ep.default.Sizes.SMALL,
                        className: eL.liveIndicator
                    }), (0,
                    l.jsxs)("div", {
                        className: i()(eL.info, {
                            [eL.infoWithDrops]: null != t
                        }),
                        children: [(0,
                        l.jsx)(eC.default, {
                            children: s
                        }), null != a && (0,
                        l.jsxs)("div", {
                            className: eL.perksDemoContainer,
                            children: [(0,
                            l.jsx)(ed.default, {
                                color: ei.GradientCssUrls.PREMIUM_TIER_2,
                                width: 12,
                                height: 12
                            }), (0,
                            l.jsx)(Y.default, {
                                className: eL.perksDemoText,
                                variant: "text-xxs/semibold",
                                children: a
                            })]
                        }), null != t && (0,
                        l.jsx)("div", {
                            className: eL.dropsBadgeWrapper,
                            children: (0,
                            l.jsx)(h.TextBadge, {
                                text: eA.default.Messages.DROPS_AVAILABLE,
                                color: c.default.unsafe_rawColors.BRAND_500.css,
                                className: eL.dropsBadge
                            })
                        })]
                    })]
                })
            }
            renderEmbeddedActivity() {
                let e;
                let {application: t, embeddedActivity: n, channel: a, channelName: s, guildForConnectedChannel: i} = this.props;
                if (null == n || null == a || null == t)
                    return null;
                let r = {
                    start: n.connectedSince
                }
                  , o = s;
                null != i ? (e = eI.Routes.CHANNEL(i.id, a.id),
                o = "".concat(o, " / ").concat(i.name)) : e = eI.Routes.CHANNEL(eI.ME, a.id);
                let u = (0,
                l.jsx)(er.default, {
                    href: e,
                    onClick: this.handleApplicationLinkClick,
                    children: (0,
                    l.jsx)(em.default, {
                        className: eL.channel,
                        children: o
                    })
                });
                return (0,
                l.jsxs)("div", {
                    className: eL.gameWrapper,
                    children: [(0,
                    l.jsx)(es.default, {
                        className: eL.gameIcon,
                        game: t,
                        size: es.default.Sizes.SMALL
                    }), (0,
                    l.jsxs)("div", {
                        className: eL.info,
                        children: [(0,
                        l.jsx)(er.default, {
                            href: e,
                            onClick: this.handleApplicationLinkClick,
                            children: (0,
                            l.jsx)(eC.default, {
                                className: eL.activityName,
                                children: t.name
                            })
                        }), (0,
                        K.isTextChannel)(a.type) ? u : (0,
                        l.jsx)(ex, {
                            timestamps: r
                        })]
                    })]
                })
            }
            render() {
                let {canGoLive: e, embeddedActivity: t, runningGame: n, isStreaming: a, streamMetadata: s, className: r} = this.props;
                return a || (this.isJoinableActivity() || e) && (null != n || null != t) ? (0,
                l.jsx)("div", {
                    className: i()(eL.panel, r),
                    children: (0,
                    l.jsxs)("div", {
                        className: eL.body,
                        children: [(()=>null == n || a && (null == s ? void 0 : s.pid) == null ? null != t ? this.renderEmbeddedActivity() : this.renderScreenshare() : this.renderGame())(), this.renderActions()]
                    })
                }) : null
            }
            constructor(...e) {
                super(...e),
                ev(this, "modalKey", void 0),
                ev(this, "state", {
                    isDropsActivityPanelTooltipOpen: !1,
                    showDropsSparkles: this.props.showDropsSparkles
                }),
                ev(this, "startBroadcast", ()=>{
                    let {stream: e, channel: t, runningGame: n} = this.props
                      , l = null != t && (0,
                    K.isVoiceChannel)(t.type) ? t : null;
                    null != l && null != n && (null == e ? (0,
                    g.createBroadcastChannelOrStartStream)({
                        channelId: l.id,
                        pid: n.pid
                    }) : (0,
                    L.startBroadcastForStream)((0,
                    G.encodeStreamKey)(e), n.pid))
                }
                ),
                ev(this, "handleClickGoLiveButton", ()=>{
                    let {guildId: e, channel: t, canStartBroadcast: a} = this.props
                      , s = null != t && (0,
                    K.isVoiceChannel)(t.type) ? t : null
                      , i = null != s ? s.getGuildId() : e;
                    if ((null == s ? void 0 : s.isBroadcastChannel()) && a) {
                        (0,
                        x.openStartBroadcastConfirmModal)(this.startBroadcast);
                        return
                    }
                    (0,
                    h.openModalLazy)(async()=>{
                        let {default: e} = await Promise.all([n.e("49237"), n.e("99387"), n.e("79477"), n.e("33641")]).then(n.bind(n, "60594"));
                        return t=>(0,
                        l.jsx)(e, {
                            ...t,
                            selectSource: !1,
                            guildId: i,
                            analyticsLocation: eI.AnalyticsLocations.ACTIVITY_PANEL
                        })
                    }
                    ).then(e=>{
                        null != e && (this.modalKey = e)
                    }
                    )
                }
                ),
                ev(this, "handleClickStopStreamingButton", ()=>{
                    let {stream: e, channel: t, userId: n} = this.props
                      , l = null != t && (0,
                    K.isVoiceChannel)(t.type) ? t : null;
                    if ((null == l ? void 0 : l.isBroadcastChannel()) && (null == l ? void 0 : l.isOwner(n))) {
                        (0,
                        x.openStopBroadcastConfirmModal)(()=>(0,
                        H.default)(e));
                        return
                    }
                    (0,
                    H.default)(e)
                }
                ),
                ev(this, "handleClickInviteButton", ()=>{
                    let {activity: e, analyticsContext: t} = this.props;
                    o()(null != e, "Received null activity"),
                    eg.default.track(eI.AnalyticEvents.OPEN_MODAL, {
                        type: "Send Join Invite",
                        application_id: e.application_id,
                        location: t.location
                    }),
                    (0,
                    m.openModal)(e, !1)
                }
                ),
                ev(this, "handleClickDropsButton", ()=>{
                    let {dropsPartnerGame: e, dropsTooltipAction: t, userId: n} = this.props;
                    if (null == e)
                        return;
                    let l = (0,
                    b.getDrop)(e);
                    null != l && (eg.default.track(eI.AnalyticEvents.DROPS_ACTIVITY_PANEL_BUTTON_CLICK, {
                        user_id: n,
                        drops_quest_id: l.dropsQuestId,
                        game_id: l.dropsGameId,
                        game_name: l.title.toLowerCase(),
                        show_sparkles: this.state.showDropsSparkles,
                        tooltip_action: t
                    }),
                    this.setState({
                        isDropsActivityPanelTooltipOpen: !this.state.isDropsActivityPanelTooltipOpen,
                        showDropsSparkles: !1
                    }))
                }
                ),
                ev(this, "handleClickLeaveEmbeddedActivityButton", (e,t)=>()=>{
                    (0,
                    I.stopEmbeddedActivity)({
                        channelId: t.id,
                        applicationId: e
                    })
                }
                ),
                ev(this, "renderClipsButton", ()=>{
                    let {stream: e} = this.props;
                    return null == e ? null : (0,
                    l.jsx)(M.default, {})
                }
                ),
                ev(this, "handleApplicationLinkClick", ()=>{
                    var e;
                    let {channel: t, embeddedActivity: n} = this.props;
                    o()(null != t, "Channel is null during navigation click"),
                    o()(null != n, "Activity null during navigation click"),
                    (0,
                    K.isVoiceChannel)(t.type) && C.default.selectParticipant(t.id, n.applicationId),
                    p.default.channelListScrollTo(null !== (e = t.guild_id) && void 0 !== e ? e : eI.ME, t.id),
                    (0,
                    K.isTextChannel)(t.type) && (0,
                    I.updateActivityPanelMode)(eN.ActivityPanelModes.PANEL)
                }
                )
            }
        }
        t.default = (0,
        S.default)(function(e) {
            var t;
            let {guildId: n, ...a} = e
              , s = (0,
            u.useStateFromStores)([z.default], ()=>z.default.getId())
              , i = (0,
            u.useStateFromStores)([P.default, ea.default], ()=>(0,
            V.default)(P.default, ea.default))
              , r = (0,
            u.useStateFromStores)([et.default, Z.default], ()=>Z.default.getChannel(et.default.getVoiceChannelId()))
              , o = (0,
            u.useStateFromStores)([N.default], ()=>N.default.getConnectedActivityChannelId())
              , c = (0,
            u.useStateFromStores)([Z.default], ()=>Z.default.getChannel(o))
              , f = (0,
            u.useStateFromStores)([q.default], ()=>q.default.getGuild(null == c ? void 0 : c.guild_id))
              , [h,m] = (0,
            u.useStateFromStoresArray)([W.default], ()=>[W.default.getCurrentUserActiveStream(), W.default.getStreamerActiveStreamMetadata()])
              , C = (0,
            u.useStateFromStores)([_.default], ()=>_.default.useReducedMotion)
              , p = (0,
            u.useStateFromStores)([O.default], ()=>O.default.getActivityPanelTooltipAction())
              , {partnerGame: g, dropsActivityPanelExperienceBlocked: E, showDropsSparkles: S} = (0,
            y.useActivityPanelDrop)(eT.PartnerGame.FORTNITE, i, d.DismissibleContent.QUEST_2_ENROLLMENT_TOOLTIP, d.DismissibleContent.QUEST_2_COMPLETION_TOOLTIP)
              , I = (0,
            u.useStateFromStores)([N.default], ()=>null != c ? N.default.getSelfEmbeddedActivityForChannel(c.id) : null)
              , T = (0,
            u.useStateFromStores)([q.default, J.default, X.default], ()=>null != r ? U.canStreamInChannel(r, q.default, J.default, !1) : null != n && U.getStreamEligibleChannels(X.default.getChannels(n), q.default, J.default).length > 0)
              , [L] = (0,
            A.default)([null !== (t = function() {
                if (null != m && null != m.id)
                    return m.id;
                if (null != i && null != i.id)
                    return i.id;
                if (null != I)
                    return I.applicationId
            }()) && void 0 !== t ? t : ""])
              , x = (0,
            u.useStateFromStores)([Q.default], ()=>(0,
            w.default)(Q.default) && (0,
            eE.isWindows)())
              , M = (0,
            u.useStateFromStores)([$.default], ()=>null != s ? $.default.findActivity(s, e=>e.type === eI.ActivityTypes.PLAYING) : null)
              , b = null != h && h.ownerId === s && h.state !== eI.ApplicationStreamStates.ENDED
              , D = (0,
            u.useStateFromStores)([en.default], ()=>en.default.getBroadcast())
              , j = (0,
            v.default)() && null != i
              , G = (0,
            u.useStateFromStores)([el.default, ee.default], ()=>null != c ? (0,
            R.computeChannelName)(c, el.default, ee.default) : void 0)
              , B = (0,
            k.default)(null == r ? void 0 : r.id, s);
            return (0,
            l.jsx)(eR, {
                ...a,
                guildId: n,
                canGoLive: x,
                activity: M,
                embeddedActivity: I,
                showDropsSparkles: S,
                dropsPartnerGame: g,
                dropsActivityPanelExperienceBlocked: E,
                userId: s,
                runningGame: i,
                application: L,
                useReducedMotion: C,
                isStreaming: b,
                channel: c,
                canStream: T,
                dropsTooltipAction: p,
                stream: h,
                streamMetadata: m,
                broadcast: D,
                canStartBroadcast: j,
                channelName: G,
                guildForConnectedChannel: f,
                streamQualityIndicator: B
            })
        })
    },
    793224: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return M
            }
        }),
        n("653041");
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("704215")
          , i = n("481060")
          , r = n("872810")
          , o = n("367907")
          , u = n("67212")
          , d = n("770471")
          , c = n("757454")
          , f = n("286328")
          , h = n("493355")
          , m = n("134598")
          , C = n("243778")
          , p = n("594190")
          , g = n("569545")
          , E = n("989941")
          , S = n("199902")
          , _ = n("314897")
          , I = n("944486")
          , N = n("885110")
          , T = n("449224")
          , A = n("436088")
          , L = n("976401")
          , v = n("981631")
          , x = n("921944")
          , R = n("689938");
        function M() {
            let e = (0,
            a.useStateFromStores)([I.default], ()=>I.default.getVoiceChannelId())
              , t = (0,
            a.useStateFromStores)([_.default], ()=>_.default.getId())
              , n = (0,
            a.useStateFromStores)([p.default, T.default], ()=>(0,
            E.default)(p.default, T.default))
              , {canBroadcast: M} = d.default.useExperiment({
                location: "broadcast_button_rtc_panel_no_track"
            }, {
                autoTrackExposure: !1
            })
              , y = (0,
            c.default)() && null != n
              , O = (0,
            a.useStateFromStores)([N.default], ()=>null != N.default.getBroadcast())
              , b = (0,
            a.useStateFromStoresArray)([S.default], ()=>S.default.getAllActiveStreams());
            if (!y && !O)
                return null;
            if (d.default.trackExposure({
                location: "broadcast_button_rtc_panel"
            }),
            !M)
                return null;
            let D = [];
            y && D.push(s.DismissibleContent.BROADCASTING_BROADCASTER_TOOLTIP);
            let j = ()=>{
                o.default.trackWithMetadata(v.AnalyticEvents.BROADCAST_START_BUTTON_HOVERED, {
                    game_id: null == n ? void 0 : n.id
                })
            }
              , P = ()=>{
                if (y) {
                    let l = b.find(e=>e.ownerId === t);
                    null == l ? (0,
                    m.openBroadcastingPrivacySettingsModal)(R.default.Messages.START_BROADCASTING, R.default.Messages.START_BROADCASTING_CTA, ()=>{
                        (0,
                        r.createBroadcastChannelOrStartStream)({
                            pid: null == n ? void 0 : n.pid,
                            channelId: e
                        })
                    }
                    ) : (0,
                    u.startBroadcastForStream)((0,
                    g.encodeStreamKey)(l), null == n ? void 0 : n.pid)
                } else
                    (0,
                    u.stopBroadcast)()
            }
              , G = e=>(0,
            l.jsx)(L.default, {
                tooltipText: y ? R.default.Messages.START_BROADCASTING : R.default.Messages.STOP_BROADCASTING,
                onClick: ()=>{
                    P(),
                    null == e || e(x.ContentDismissActionType.UNKNOWN)
                }
                ,
                onMouseEnter: j,
                icon: y ? A.default : ()=>(0,
                l.jsx)(h.default, {
                    width: 20,
                    height: 20
                })
            })
              , U = e=>(0,
            l.jsx)(f.default, {
                markAsDismissed: e
            });
            return (0,
            l.jsx)(C.default, {
                contentTypes: D,
                bypassAutoDismiss: !0,
                children: e=>{
                    let {visibleContent: t, markAsDismissed: n} = e;
                    return t === s.DismissibleContent.BROADCASTING_BROADCASTER_TOOLTIP ? (0,
                    l.jsx)(i.Popout, {
                        position: "top",
                        align: "center",
                        renderPopout: ()=>U(n),
                        shouldShow: !0,
                        children: ()=>G(n)
                    }) : G()
                }
            })
        }
    },
    978769: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return c
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("481060")
          , i = n("709369")
          , r = n("885110")
          , o = n("937482")
          , u = n("976401")
          , d = n("689938");
        function c() {
            return null == (0,
            a.useStateFromStores)([r.default], ()=>r.default.getBroadcast()) ? null : (0,
            l.jsx)(s.Popout, {
                position: "top",
                renderPopout: e=>{
                    let {closePopout: t} = e;
                    return (0,
                    l.jsx)(i.default, {
                        onClose: t
                    })
                }
                ,
                animation: s.Popout.Animation.FADE,
                children: e=>(0,
                l.jsx)(u.default, {
                    ...e,
                    tooltipText: d.default.Messages.BROADCAST_SETTINGS,
                    icon: o.default
                })
            })
        }
    },
    970645: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            fetchCheckoutRecovery: function() {
                return u
            }
        });
        var l = n("544891")
          , a = n("570140")
          , s = n("355467")
          , i = n("853872")
          , r = n("995598")
          , o = n("981631");
        async function u() {
            try {
                let {body: e} = await l.HTTP.get({
                    url: o.Endpoints.CHECKOUT_RECOVERY
                })
                  , t = (null == e ? void 0 : e.is_eligible) === !0
                  , n = !1;
                t && (n = (0,
                r.isUserInCheckoutRecoveryNagbarExperiment)()),
                t && n && !i.default.hasFetchedPaymentSources && await (0,
                s.fetchPaymentSources)();
                let u = t && n;
                a.default.dispatch({
                    type: "CHECKOUT_RECOVERY_STATUS_FETCH",
                    isEligibleForNagbar: u
                })
            } catch (e) {
                a.default.dispatch({
                    type: "CHECKOUT_RECOVERY_STATUS_FETCH",
                    isEligibleForNagbar: !1
                })
            }
        }
    },
    231664: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        });
        var l = n("848246")
          , a = n("442837")
          , s = n("358221")
          , i = n("557457")
          , r = n("386542");
        function o(e, t) {
            let n = (0,
            a.useStateFromStores)([s.default], ()=>null != e ? s.default.getStreamParticipants(e).find(e=>e.user.id === t) : void 0, [e, t])
              , {activated: o, available: u, hqStreamingState: {hqStreamingIsEnabled: d}} = (0,
            r.usePerksDemo)(l.EntitlementFeatureNames.STREAM_HIGH_QUALITY);
            if (!o || !u || !d)
                return;
            let c = null != n ? (0,
            i.getMaxQuality)(n) : void 0;
            return null != c ? "".concat((0,
            i.getResolutionText)(c.maxResolution), " ").concat((0,
            i.getFPSText)(c.maxFrameRate)) : void 0
        }
    },
    841174: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return s
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("481060");
        function s(e) {
            (0,
            a.openModalLazy)(async()=>{
                let {default: t} = await n.e("16554").then(n.bind(n, "917314"));
                return n=>(0,
                l.jsx)(t, {
                    guildId: e,
                    ...n
                })
            }
            )
        }
    },
    995598: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            isUserInCheckoutRecoveryNagbarExperiment: function() {
                return a
            }
        });
        let l = (0,
        n("818083").createExperiment)({
            kind: "user",
            id: "2024-06_checkout_recovery_nagbar_test",
            label: "Testing",
            defaultConfig: {
                enabled: !1
            },
            treatments: [{
                id: 0,
                label: "Users will not see the nagbar",
                config: {
                    enabled: !1
                }
            }, {
                id: 1,
                label: "Users will see the nagbar",
                config: {
                    enabled: !0
                }
            }]
        })
          , a = ()=>{
            let {enabled: e} = l.getCurrentConfig({
                location: "checkout_recovery_nagbar_test"
            });
            return e
        }
    },
    367207: function(e, t, n) {
        "use strict";
        n.r(t),
        n("411104"),
        n("47120");
        var l = n("735250");
        n("470079");
        var a = n("392711")
          , s = n("848246")
          , i = n("481060")
          , r = n("570140")
          , o = n("904245")
          , u = n("317770")
          , d = n("100527")
          , c = n("358221")
          , f = n("963249")
          , h = n("592125")
          , m = n("430824")
          , C = n("594174")
          , p = n("295226")
          , g = n("626135")
          , E = n("74538")
          , S = n("557457")
          , _ = n("970645")
          , I = n("736871")
          , N = n("6242")
          , T = n("757692")
          , A = n("351742")
          , L = n("114064")
          , v = n("937579")
          , x = n("485731")
          , R = n("841174")
          , M = n("11352")
          , y = n("474936")
          , O = n("981631")
          , b = n("354459")
          , D = n("37113")
          , j = n("689938");
        function P(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        class G extends u.default {
            _initialize() {
                __OVERLAY__ ? r.default.subscribe("PREMIUM_PAYMENT_MODAL_OPEN", this._handlePremiumPaymentModalOpen) : (r.default.subscribe("PREMIUM_PAYMENT_MODAL_CLOSE", this._handlePremiumPaymentModalClose),
                r.default.subscribe("MESSAGE_LENGTH_UPSELL", this.handleMessageLengthUpsell),
                r.default.subscribe("POST_CONNECTION_OPEN", this._maybeFetchPremiumOffer),
                r.default.subscribe("POST_CONNECTION_OPEN", this._maybeFetchCheckoutRecovery),
                r.default.subscribe("POST_CONNECTION_OPEN", this._trackCustomNotificationSoundsExposure),
                r.default.subscribe("RTC_CONNECTION_STATE", this.maybeShowHDStreamingPerksDemoPostUpsellModal),
                r.default.subscribe("MEDIA_ENGINE_VIDEO_SOURCE_QUALITY_CHANGED", this.maybeShowHDStreamingViewerUpsellMessage),
                r.default.subscribe("VOICE_CHANNEL_SELECT", this.cleanupShowHDStreamingViewerUpsellMessage))
            }
            _terminate() {
                __OVERLAY__ ? r.default.unsubscribe("PREMIUM_PAYMENT_MODAL_OPEN", this._handlePremiumPaymentModalOpen) : (r.default.unsubscribe("PREMIUM_PAYMENT_MODAL_CLOSE", this._handlePremiumPaymentModalClose),
                r.default.unsubscribe("MESSAGE_LENGTH_UPSELL", this.handleMessageLengthUpsell),
                r.default.unsubscribe("POST_CONNECTION_OPEN", this._maybeFetchPremiumOffer),
                r.default.unsubscribe("POST_CONNECTION_OPEN", this._trackCustomNotificationSoundsExposure),
                r.default.unsubscribe("RTC_CONNECTION_STATE", this.maybeShowHDStreamingPerksDemoPostUpsellModal),
                r.default.unsubscribe("MEDIA_ENGINE_VIDEO_SOURCE_QUALITY_CHANGED", this.maybeShowHDStreamingViewerUpsellMessage),
                r.default.unsubscribe("VOICE_CHANNEL_SELECT", this.cleanupShowHDStreamingViewerUpsellMessage))
            }
            handleMessageLengthUpsell(e) {
                let {channel: t, content: a} = e;
                (0,
                i.openModalLazy)(async()=>{
                    let {default: e} = await n.e("33184").then(n.bind(n, "465836"));
                    return n=>(0,
                    l.jsx)(e, {
                        channel: t,
                        content: a,
                        ...n
                    })
                }
                )
            }
            openPremiumPaymentModalInApp(e) {
                if (__OVERLAY__)
                    throw Error("Should not use this function from the overlay, use ModalAPI.openModal instead");
                return new Promise((t,n)=>{
                    (0,
                    f.default)({
                        ...e,
                        onClose: e=>{
                            e ? t() : n()
                        }
                    })
                }
                )
            }
            openPremiumPaymentModalInOverlay(e) {
                if (__OVERLAY__)
                    throw Error("Should not use this function from the overlay, use ModalAPI.openModal instead");
                let {initialPlanId: t, subscriptionTier: n, followupSKUInfo: l, analyticsObject: a} = null != e ? e : {};
                return new Promise((e,s)=>{
                    this._premiumPaymentModalCloseResolve = e,
                    this._premiumPaymentModalCloseReject = s,
                    r.default.dispatch({
                        type: "PREMIUM_PAYMENT_MODAL_OPEN",
                        initialPlanId: t,
                        subscriptionTier: n,
                        followupSKUInfo: l,
                        analyticsObject: a
                    })
                }
                )
            }
            maybeShowHDStreamingPerksDemoPostUpsellModal(e) {
                var t;
                let {inPerksDemosExperiment: n} = I.default.getCurrentConfig({
                    location: "PremiumManager"
                }, {
                    autoTrackExposure: !1
                })
                  , {enabled: l} = A.default.getCurrentConfig({
                    location: "PremiumManager"
                }, {
                    autoTrackExposure: !1
                });
                if (!n || !l || e.state !== O.RTCConnectionStates.DISCONNECTED || e.willReconnect)
                    return;
                let a = h.default.getChannel(e.channelId);
                if (null == a || !(null === (t = L.default.getPerksDemos()) || void 0 === t ? void 0 : t[s.EntitlementFeatureNames.STREAM_HIGH_QUALITY]))
                    return;
                let i = L.default.getActivated()[s.EntitlementFeatureNames.STREAM_HIGH_QUALITY];
                i && r.default.dispatch({
                    type: "PREMIUM_PERKS_DEMO_COMPLETE",
                    perkType: s.EntitlementFeatureNames.STREAM_HIGH_QUALITY
                }),
                i && x.usePerksDemosUIStore.getState().hqStreamingDidEnable && (0,
                R.default)(a.guild_id)
            }
            constructor(...e) {
                super(...e),
                P(this, "_premiumPaymentModalCloseResolve", null),
                P(this, "_premiumPaymentModalCloseReject", null),
                P(this, "_lastStreamingChannelId", null),
                P(this, "_maybeFetchPremiumOffer", async()=>{
                    let e = C.default.getCurrentUser();
                    if (null != e && e.verified) {
                        let t = !(0,
                        E.isPremium)(e) && p.default.shouldFetchOffer();
                        await (0,
                        v.fetchUserOffer)(t)
                    }
                    r.default.dispatch({
                        type: "PREMIUM_MARKETING_DATA_READY"
                    })
                }
                ),
                P(this, "_maybeFetchCheckoutRecovery", async()=>{
                    let e = C.default.getCurrentUser();
                    null != e && e.verified && !(0,
                    E.isPremium)(e) && await (0,
                    _.fetchCheckoutRecovery)()
                }
                ),
                P(this, "_trackCustomNotificationSoundsExposure", ()=>{
                    M.CustomNotificationSoundExperiment.trackExposure({
                        location: "PremiumManager"
                    })
                }
                ),
                P(this, "_handlePremiumPaymentModalOpen", e=>{
                    (0,
                    f.default)({
                        ...e,
                        analyticsLocations: [d.default.OVERLAY],
                        onClose: e=>{
                            r.default.dispatch({
                                type: "PREMIUM_PAYMENT_MODAL_CLOSE",
                                didSucceed: e
                            })
                        }
                    })
                }
                ),
                P(this, "_handlePremiumPaymentModalClose", e=>{
                    let {didSucceed: t} = e;
                    t && null != this._premiumPaymentModalCloseResolve ? this._premiumPaymentModalCloseResolve() : null != this._premiumPaymentModalCloseReject && this._premiumPaymentModalCloseReject(),
                    this._premiumPaymentModalCloseResolve = null,
                    this._premiumPaymentModalCloseReject = null
                }
                ),
                P(this, "maybeShowHDStreamingViewerUpsellMessage", e=>{
                    let t = C.default.getCurrentUser();
                    (null == t ? void 0 : t.id) !== e.senderUserId && this._maybeSendViewerUpsellMessage(e.channelId, e.guildId, t)
                }
                ),
                P(this, "_maybeSendViewerUpsellMessage", (0,
                a.debounce)((e,t,n)=>{
                    var l, a;
                    let s = c.default.getSelectedParticipant(e)
                      , i = (0,
                    T.canStreamParticipantSetting)(s, n)
                      , {sendNitroMessage: r} = (0,
                    N.getHDStreamingViewerExperimentConfig)(i)
                      , u = null !== (a = null === (l = m.default.getGuild(t)) || void 0 === l ? void 0 : l.premiumTier) && void 0 !== a ? a : O.BoostedGuildTiers.NONE;
                    if (r && !(u >= O.BoostedGuildTiers.TIER_2) && (null == s ? void 0 : s.type) === b.ParticipantTypes.STREAM && (null == s ? void 0 : s.id) !== (null == n ? void 0 : n.id) && null != s.maxResolution && null != s.maxFrameRate && e !== this._lastStreamingChannelId) {
                        this._lastStreamingChannelId = e;
                        let n = j.default.Messages.STREAM_PREMIUM_VIEWER_UPSELL_MESSAGE.format({
                            nickname: s.userNick,
                            resolution: (0,
                            D.makeResolutionLabel)(s.maxResolution.height),
                            fps: (0,
                            S.getFPSText)(s.maxFrameRate)
                        });
                        o.default.sendNitroSystemMessage(e, n),
                        g.default.track(O.AnalyticEvents.PREMIUM_UPSELL_MESSAGE_SENT, {
                            type: y.PremiumUpsellTypes.HD_STREAMING_VIEWER_UPSELL,
                            location_section: null != t ? O.AnalyticsSections.TEXT_IN_VOICE : O.AnalyticsSections.CHANNEL_TEXT_AREA,
                            location_object: O.AnalyticsObjects.MESSAGE,
                            guild_id: t
                        })
                    }
                }
                , 200)),
                P(this, "cleanupShowHDStreamingViewerUpsellMessage", e=>{
                    null == e.channelId && (this._lastStreamingChannelId = null)
                }
                )
            }
        }
        t.default = new G
    },
    900085: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return Y
            }
        }),
        n("411104"),
        n("47120");
        var l, a = n("735250"), s = n("470079"), i = n("120356"), r = n.n(i), o = n("873546"), u = n("442837"), d = n("481060"), c = n("239091"), f = n("134616"), h = n("714338"), m = n("212819"), C = n("14429"), p = n("592125"), g = n("888369"), E = n("430824"), S = n("306680"), _ = n("944486"), I = n("938475"), N = n("387204"), T = n("107828"), A = n("153124"), L = n("585483"), v = n("63063"), x = n("51596"), R = n("823385"), M = n("670512"), y = n("981631"), O = n("689938"), b = n("216921");
        function D(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let j = {
            bottom: 10
        }
          , P = ()=>(0,
        a.jsxs)("div", {
            className: b.emptyState,
            children: [(0,
            a.jsx)("div", {
                className: b.emptyStateNote,
                children: O.default.Messages.QUICKSWITCHER_EMPTY_TEXT
            }), (0,
            a.jsx)("div", {
                className: b.emptyStateCTA,
                children: (0,
                a.jsx)(d.Anchor, {
                    href: v.default.getArticleURL(y.HelpdeskArticles.QUICK_SWITCHER_TUTORIAL),
                    children: O.default.Messages.QUICKSWITCHER_EMPTY_CTA
                })
            })]
        });
        class G extends (l = s.Component) {
            render() {
                let e = E.default.getGuild(this.props.channel.guild_id);
                return (0,
                a.jsx)(T.Channel, {
                    ...this.props,
                    children: (0,
                    a.jsx)("div", {
                        className: b.miscContainer,
                        children: null != e ? e.name : null
                    })
                })
            }
        }
        D(G, "defaultProps", {
            unread: !1
        });
        let U = u.default.connectStores([S.default, p.default], e=>{
            let {channel: t} = e;
            return {
                unread: S.default.hasUnread(t.id),
                mentions: S.default.getMentionCount(t.id),
                category: p.default.getChannel(t.parent_id)
            }
        }
        )(G)
          , w = u.default.connectStores([I.default], e=>{
            let {channel: t} = e;
            if (null == t.guild_id)
                throw Error("ConnectedVoiceChannel - somehow we got a voice channel with no guild_id...");
            return {
                voiceStates: I.default.getVoiceStates(t.guild_id)[t.id]
            }
        }
        )(G)
          , B = u.default.connectStores([g.default], e=>{
            let {guild: t} = e;
            return {
                unread: g.default.hasUnread(t.id)
            }
        }
        )(T.Guild)
          , F = u.default.connectStores([S.default], e=>{
            let {channel: t} = e;
            return {
                mentions: S.default.getMentionCount(t.id)
            }
        }
        )(T.GroupDM)
          , V = u.default.connectStores([p.default, S.default], e=>{
            let {user: t} = e
              , n = p.default.getDMFromUserId(t.id);
            return {
                mentions: null != n ? S.default.getMentionCount(n) : 0
            }
        }
        )(T.User);
        function H(e, t, n) {
            return (0,
            a.jsx)(d.Tooltip, {
                text: n,
                children: e=>(0,
                a.jsx)("span", {
                    ...e,
                    className: b.autocompleteQuerySymbol,
                    children: t
                })
            }, e)
        }
        class k extends s.PureComponent {
            componentDidMount() {
                h.default.disable(),
                h.default.enableTemp(f.SETTINGS_LAYERS_LAYOUT)
            }
            componentWillUnmount() {
                h.default.disableTemp(),
                h.default.enable()
            }
            componentDidUpdate(e, t) {
                let {mouseFocusDisabled: n, query: l} = this.state
                  , {selectedIndex: a} = this.props
                  , {current: s} = this.scrollerRef;
                null != s && (l !== t.query ? s.scrollTo({
                    to: 0
                }) : n && a >= 0 && s.scrollToIndex({
                    section: 0,
                    row: a,
                    padding: 10
                }))
            }
            close() {
                (0,
                x.hide)()
            }
            search(e) {
                this.setState({
                    query: e
                }),
                (0,
                x.search)(e)
            }
            renderInput() {
                let {selectedIndex: e, results: t} = this.props
                  , {query: n} = this.state
                  , l = t.length > 0 && "" !== n;
                return (0,
                a.jsx)(d.FocusRing, {
                    children: (0,
                    a.jsx)("input", {
                        className: b.input,
                        "aria-label": O.default.Messages.QUICK_SWITCHER,
                        ref: this.inputRef,
                        type: "text",
                        role: "combobox",
                        "aria-controls": this._listId,
                        "aria-expanded": l,
                        "aria-activedescendant": l ? this.getRowId(e) : void 0,
                        "aria-autocomplete": "list",
                        placeholder: O.default.Messages.QUICKSWITCHER_PLACEHOLDER,
                        onChange: this.handleInputChange,
                        onKeyDown: this.handleKeyDown,
                        value: this.state.query,
                        spellCheck: !1,
                        autoFocus: !0
                    })
                })
            }
            renderSection() {
                return null
            }
            renderResults() {
                let {query: e} = this.state
                  , {results: t} = this.props;
                return 0 === t.length && e.length > 0 ? (0,
                a.jsx)(P, {}) : 0 === t.length ? null : (0,
                a.jsx)(d.ListAuto, {
                    innerId: this._listId,
                    innerRole: "listbox",
                    "aria-label": O.default.Messages.QUICK_SWITCHER_RESULTS_LABEL,
                    ref: this.scrollerRef,
                    sectionHeight: 0,
                    rowHeight: 34,
                    paddingBottom: j.bottom,
                    sections: [t.length],
                    className: b.scroller,
                    renderRow: this.renderRow,
                    renderSection: this.renderSection
                })
            }
            focusNode(e) {
                L.ComponentDispatch.dispatch(y.ComponentActions.QUICKSWITCHER_RESULT_FOCUS, {
                    node: e
                })
            }
            getRowId(e) {
                return "quick-switcher-".concat(this._listId, "-item-").concat(e)
            }
            renderProtip() {
                return (0,
                a.jsx)(N.default, {
                    className: r()(b.protip, {
                        [b.hasContent]: this.state.query.length > 0
                    }),
                    type: N.default.Types.INLINE,
                    children: O.default.Messages.QUICKSWITCHER_PROTIP.format({
                        userSymbolHook: (e,t)=>H(t, m.AutocompleterQuerySymbols.USER, O.default.Messages.QUICKSWITCHER_PROTIP_USERNAMES),
                        textChannelSymbolHook: (e,t)=>H(t, m.AutocompleterQuerySymbols.TEXT_CHANNEL, O.default.Messages.QUICKSWITCHER_PROTIP_TEXT_CHANNELS),
                        voiceChannelSymbolHook: (e,t)=>H(t, m.AutocompleterQuerySymbols.VOICE_CHANNEL, O.default.Messages.QUICKSWITCHER_PROTIP_VOICE_CHANNELS),
                        guildSymbolHook: (e,t)=>H(t, m.AutocompleterQuerySymbols.GUILD, O.default.Messages.QUICKSWITCHER_PROTIP_GUILDS),
                        helpdeskArticle: v.default.getArticleURL(y.HelpdeskArticles.QUICK_SWITCHER_TUTORIAL)
                    })
                })
            }
            renderTutorial() {
                let {query: e} = this.state
                  , {seenTutorial: t, results: n} = this.props;
                return t ? null : (0,
                a.jsx)(M.default, {
                    hasQuery: e.length > 0 && n.length > 0
                })
            }
            render() {
                return (0,
                a.jsx)(d.ModalRoot, {
                    "aria-label": O.default.Messages.QUICK_SWITCHER,
                    size: d.ModalSize.DYNAMIC,
                    transitionState: this.props.transitionState,
                    className: r()(b.container, o.isMobile && b.mobileContainer),
                    fullscreenOnMobile: !1,
                    children: (0,
                    a.jsxs)("div", {
                        className: r()(b.quickswitcher, o.isMobile && b.mobileQuickswitcher),
                        onMouseMove: this.handleMouseMove,
                        children: [this.renderInput(), this.renderResults(), this.renderProtip(), this.renderTutorial()]
                    })
                })
            }
            constructor(...e) {
                super(...e),
                D(this, "scrollerRef", s.createRef()),
                D(this, "inputRef", s.createRef()),
                D(this, "_listId", (0,
                A.uid)()),
                D(this, "state", {
                    query: this.props.query,
                    mouseFocusDisabled: !0
                }),
                D(this, "handleInputChange", ()=>{
                    let {current: e} = this.inputRef;
                    null != e && this.search(e.value)
                }
                ),
                D(this, "handleMouseMove", ()=>{
                    let {mouseFocusDisabled: e} = this.state;
                    !1 !== e && this.setState({
                        mouseFocusDisabled: !1
                    })
                }
                ),
                D(this, "focusResult", e=>{
                    !this.state.mouseFocusDisabled && (0,
                    x.selectResult)(this.props.results.indexOf(e))
                }
                ),
                D(this, "selectResult", e=>{
                    (0,
                    x.switchToResult)(e, this.props.queryMode === m.AutocompleterResultTypes.TEXT_CHANNEL)
                }
                ),
                D(this, "handleContextMenu", e=>{
                    let t = this.props.results[this.props.selectedIndex];
                    switch (t.type) {
                    case m.AutocompleterResultTypes.GUILD:
                        return (0,
                        c.openContextMenuLazy)(e, async()=>{
                            let {default: e} = await Promise.all([n.e("49237"), n.e("99387"), n.e("96427"), n.e("7654"), n.e("33053"), n.e("32493"), n.e("75475"), n.e("85093"), n.e("85552"), n.e("58227"), n.e("43502"), n.e("83256"), n.e("90144"), n.e("69760"), n.e("33213"), n.e("19255")]).then(n.bind(n, "545135"));
                            return n=>(0,
                            a.jsx)(e, {
                                ...n,
                                guild: t.record,
                                onSelect: x.hide,
                                hideSettings: !0
                            })
                        }
                        );
                    case m.AutocompleterResultTypes.TEXT_CHANNEL:
                    case m.AutocompleterResultTypes.VOICE_CHANNEL:
                        let l = t.record
                          , s = E.default.getGuild(l.getGuildId());
                        if (null == s)
                            return;
                        switch (l.type) {
                        case y.ChannelTypes.GUILD_TEXT:
                        case y.ChannelTypes.GUILD_ANNOUNCEMENT:
                        case y.ChannelTypes.GUILD_FORUM:
                        case y.ChannelTypes.GUILD_MEDIA:
                            return (0,
                            c.openContextMenuLazy)(e, async()=>{
                                let {default: e} = await Promise.all([n.e("99387"), n.e("8137"), n.e("54310")]).then(n.bind(n, "373651"));
                                return t=>(0,
                                a.jsx)(e, {
                                    ...t,
                                    channel: l,
                                    guild: s,
                                    onSelect: x.hide
                                })
                            }
                            );
                        case y.ChannelTypes.GUILD_VOICE:
                        case y.ChannelTypes.GUILD_STAGE_VOICE:
                            return (0,
                            c.openContextMenuLazy)(e, async()=>{
                                let {default: e} = await Promise.all([n.e("8137"), n.e("83331")]).then(n.bind(n, "213202"));
                                return t=>(0,
                                a.jsx)(e, {
                                    ...t,
                                    channel: l,
                                    guild: s,
                                    onSelect: x.hide
                                })
                            }
                            );
                        case y.ChannelTypes.ANNOUNCEMENT_THREAD:
                        case y.ChannelTypes.PUBLIC_THREAD:
                        case y.ChannelTypes.PRIVATE_THREAD:
                            return (0,
                            c.openContextMenuLazy)(e, async()=>{
                                let {default: e} = await n.e("78650").then(n.bind(n, "422200"));
                                return t=>(0,
                                a.jsx)(e, {
                                    ...t,
                                    channel: l,
                                    onSelect: x.hide
                                })
                            }
                            );
                        case y.ChannelTypes.GUILD_STORE:
                            return (0,
                            c.openContextMenuLazy)(e, async()=>{
                                let {default: e} = await n.e("99905").then(n.bind(n, "649400"));
                                return t=>(0,
                                a.jsx)(e, {
                                    ...t,
                                    channel: l,
                                    guild: s,
                                    onSelect: x.hide
                                })
                            }
                            );
                        case y.ChannelTypes.GUILD_DIRECTORY:
                            return (0,
                            c.openContextMenuLazy)(e, async()=>{
                                let {default: e} = await n.e("70623").then(n.bind(n, "99334"));
                                return t=>(0,
                                a.jsx)(e, {
                                    ...t,
                                    channel: l
                                })
                            }
                            )
                        }
                        break;
                    case m.AutocompleterResultTypes.GROUP_DM:
                        return (0,
                        c.openContextMenuLazy)(e, async()=>{
                            let {default: e} = await Promise.all([n.e("99387"), n.e("25421")]).then(n.bind(n, "354741"));
                            return n=>(0,
                            a.jsx)(e, {
                                ...n,
                                channel: t.record,
                                selected: _.default.getChannelId() === t.record.id,
                                onSelect: x.hide
                            })
                        }
                        );
                    case m.AutocompleterResultTypes.USER:
                        return (0,
                        c.openContextMenuLazy)(e, async()=>{
                            let {default: e} = await Promise.all([n.e("99387"), n.e("36441"), n.e("69220")]).then(n.bind(n, "881351"));
                            return n=>(0,
                            a.jsx)(e, {
                                ...n,
                                user: t.record,
                                onSelect: x.hide
                            })
                        }
                        )
                    }
                }
                ),
                D(this, "handleKeyDown", e=>{
                    let {mouseFocusDisabled: t, query: n} = this.state
                      , {results: l} = this.props;
                    !1 === t && this.setState({
                        mouseFocusDisabled: !0
                    });
                    let a = e.key.toLowerCase()
                      , {selectedIndex: s} = this.props;
                    switch (a) {
                    case "escape":
                        e.preventDefault(),
                        e.stopPropagation(),
                        n.length > 0 ? this.search("") : (0,
                        x.hide)();
                        return;
                    case "k":
                        (!0 === e.ctrlKey || !0 === e.metaKey) && (e.preventDefault(),
                        e.stopPropagation(),
                        (0,
                        x.hide)());
                        return;
                    case "enter":
                        {
                            if (-1 === s)
                                return;
                            if (e.preventDefault(),
                            e.altKey)
                                return this.handleContextMenu(e);
                            let t = l[s];
                            null != t && this.selectResult(t);
                            return
                        }
                    case "arrowup":
                        s = (0,
                        m.findNextSelectedResult)(m.FindResultDirections.UP, s, l);
                        break;
                    case "arrowdown":
                        s = (0,
                        m.findNextSelectedResult)(m.FindResultDirections.DOWN, s, l);
                        break;
                    case "n":
                        if (!e.ctrlKey)
                            return;
                        s = (0,
                        m.findNextSelectedResult)(m.FindResultDirections.DOWN, s, l);
                        break;
                    case "p":
                        if (!e.ctrlKey)
                            return;
                        s = (0,
                        m.findNextSelectedResult)(m.FindResultDirections.UP, s, l);
                        break;
                    default:
                        return
                    }
                    e.preventDefault(),
                    (0,
                    x.selectResult)(s)
                }
                ),
                D(this, "renderRow", e=>{
                    let {row: t} = e
                      , n = this.props.results[t]
                      , {selectedIndex: l} = this.props
                      , {showScores: s} = C.default.getCurrentConfig({
                        location: "62f4be_1"
                    }, {
                        autoTrackExposure: !1
                    });
                    switch (n.type) {
                    case m.AutocompleterResultTypes.HEADER:
                        return (0,
                        a.jsx)(T.Header, {
                            children: n.record.text
                        }, "".concat(n.type, "-").concat(n.record.id));
                    case m.AutocompleterResultTypes.TEXT_CHANNEL:
                        return (0,
                        a.jsx)(U, {
                            id: this.getRowId(t),
                            focused: l >= 0 && t === l,
                            onClick: ()=>this.selectResult(n),
                            onMouseEnter: ()=>this.focusResult(n),
                            onFocus: this.focusNode,
                            onContextMenu: this.handleContextMenu,
                            channel: n.record,
                            score: s ? n.score : void 0
                        }, "".concat(n.type, "-").concat(n.record.id));
                    case m.AutocompleterResultTypes.VOICE_CHANNEL:
                        return (0,
                        a.jsx)(w, {
                            id: this.getRowId(t),
                            focused: l >= 0 && t === l,
                            onClick: ()=>this.selectResult(n),
                            onMouseEnter: ()=>this.focusResult(n),
                            onFocus: this.focusNode,
                            onContextMenu: this.handleContextMenu,
                            channel: n.record,
                            score: s ? n.score : void 0
                        }, "".concat(n.type, "-").concat(n.record.id));
                    case m.AutocompleterResultTypes.GUILD:
                        return (0,
                        a.jsx)(B, {
                            id: this.getRowId(t),
                            focused: l >= 0 && t === l,
                            onClick: ()=>this.selectResult(n),
                            onMouseEnter: ()=>this.focusResult(n),
                            onFocus: this.focusNode,
                            onContextMenu: this.handleContextMenu,
                            guild: n.record,
                            score: s ? n.score : void 0
                        }, "".concat(n.type, "-").concat(n.record.id));
                    case m.AutocompleterResultTypes.USER:
                        return (0,
                        a.jsx)(V, {
                            id: this.getRowId(t),
                            focused: l >= 0 && t === l,
                            onClick: ()=>this.selectResult(n),
                            onMouseEnter: ()=>this.focusResult(n),
                            onFocus: this.focusNode,
                            onContextMenu: this.handleContextMenu,
                            user: n.record,
                            comparator: n.comparator,
                            score: s ? n.score : void 0
                        }, "".concat(n.type, "-").concat(n.record.id));
                    case m.AutocompleterResultTypes.GROUP_DM:
                        return (0,
                        a.jsx)(F, {
                            id: this.getRowId(t),
                            focused: l >= 0 && t === l,
                            onClick: ()=>this.selectResult(n),
                            onMouseEnter: ()=>this.focusResult(n),
                            onFocus: this.focusNode,
                            onContextMenu: this.handleContextMenu,
                            channel: n.record,
                            score: s ? n.score : void 0
                        }, "".concat(n.type, "-").concat(n.record.id));
                    case m.AutocompleterResultTypes.APPLICATION:
                        return (0,
                        a.jsx)(T.Application, {
                            id: this.getRowId(t),
                            focused: l >= 0 && t === l,
                            onClick: ()=>this.selectResult(n),
                            onMouseEnter: ()=>this.focusResult(n),
                            onFocus: this.focusNode,
                            application: n.record
                        }, "".concat(n.type, "-").concat(n.record.id));
                    case m.AutocompleterResultTypes.LINK:
                        return (0,
                        a.jsx)(T.Link, {
                            focused: l >= 0 && t === l,
                            onClick: ()=>this.selectResult(n),
                            onMouseEnter: ()=>this.focusResult(n),
                            onFocus: this.focusNode,
                            onContextMenu: this.handleContextMenu,
                            link: n.record,
                            score: s ? n.score : void 0,
                            id: this.getRowId(t)
                        }, "".concat(n.type, "-").concat(n.record.id));
                    default:
                        return null
                    }
                }
                )
            }
        }
        function Y(e) {
            let t = (0,
            u.useStateFromStoresObject)([R.default], ()=>R.default.getProps());
            return (0,
            a.jsx)(k, {
                ...t,
                ...e
            })
        }
    },
    329557: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250");
        n("470079");
        var a = n("481060")
          , s = n("570140")
          , i = n("317770")
          , r = n("51596")
          , o = n("823385")
          , u = n("900085");
        let d = "QUICK_SWITCHER_MODAL_KEY";
        class c extends i.default {
            _initialize() {
                s.default.subscribe("QUICKSWITCHER_SHOW", this.handleShow),
                s.default.subscribe("QUICKSWITCHER_HIDE", this.handleHide)
            }
            _terminate() {
                s.default.unsubscribe("QUICKSWITCHER_SHOW", this.handleShow),
                s.default.unsubscribe("QUICKSWITCHER_HIDE", this.handleHide)
            }
            handleShow() {
                o.default.isOpen() && !(0,
                a.hasModalOpen)(d) && (0,
                a.openModal)(e=>(0,
                l.jsx)(u.default, {
                    ...e
                }), {
                    modalKey: d,
                    instant: !0,
                    onCloseCallback: r.hide
                })
            }
            handleHide() {
                (0,
                a.closeModal)(d)
            }
        }
        t.default = new c
    },
    670512: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("748780")
          , o = n("846519")
          , u = n("585483")
          , d = n("981631")
          , c = n("689938")
          , f = n("294394");
        function h(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let m = {
            friction: 15,
            tension: 100
        };
        class C extends a.PureComponent {
            componentDidMount() {
                this.setState({
                    shown: !0
                }),
                u.ComponentDispatch.subscribe(d.ComponentActions.QUICKSWITCHER_RESULT_FOCUS, this.handleResultFocus)
            }
            componentWillUnmount() {
                this.focusTimeout.stop(),
                u.ComponentDispatch.unsubscribe(d.ComponentActions.QUICKSWITCHER_RESULT_FOCUS, this.handleResultFocus)
            }
            componentDidUpdate() {
                let {hasQuery: e} = this.props;
                !e && this.springTo(0)
            }
            springTo(e) {
                r.default.spring(this.state.translateY, {
                    toValue: Math.min(e, 250),
                    ...m
                }).start()
            }
            renderArrowGroup(e) {
                return (0,
                l.jsxs)("div", {
                    className: i()(f.arrowGroup, e),
                    children: [(0,
                    l.jsx)(r.default.div, {
                        className: i()(f.arrowContainer, f.horizontal),
                        style: this.getStyle(),
                        children: (0,
                        l.jsx)("img", {
                            alt: "",
                            src: n("403756"),
                            className: f.arrowIcon
                        })
                    }), (0,
                    l.jsx)("div", {
                        className: i()(f.arrowContainer, f.diag1),
                        children: (0,
                        l.jsx)("img", {
                            alt: "",
                            src: n("536404"),
                            className: f.arrowIcon
                        })
                    }), (0,
                    l.jsx)("div", {
                        className: i()(f.arrowContainer, f.diag2),
                        children: (0,
                        l.jsx)("img", {
                            alt: "",
                            src: n("569347"),
                            className: f.arrowIcon
                        })
                    })]
                })
            }
            renderContent() {
                return (0,
                l.jsxs)("div", {
                    className: f.tutorialMessages,
                    children: [(0,
                    l.jsx)("div", {
                        className: f.searchMessage,
                        children: c.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SEARCH
                    }), (0,
                    l.jsx)("div", {
                        className: f.selectMessage,
                        children: c.default.Messages.QUICKSWITCHER_TUTORIAL_MESSAGE_SELECT
                    })]
                })
            }
            render() {
                let {hasQuery: e} = this.props
                  , {shown: t} = this.state;
                return (0,
                l.jsxs)("div", {
                    ref: this.rootRef,
                    className: i()(f.tutorial, {
                        [f.shown]: t,
                        [f.hasQuery]: e
                    }),
                    children: [this.renderContent(), this.renderArrowGroup(f.__invalid_left), this.renderArrowGroup(f.right)]
                })
            }
            getStyle() {
                return {
                    transform: [{
                        translateY: this.state.translateY.interpolate({
                            inputRange: [0, 250],
                            outputRange: ["0px", "".concat(250, "px")]
                        })
                    }, {
                        translateZ: 0
                    }]
                }
            }
            constructor(...e) {
                super(...e),
                h(this, "state", {
                    shown: !1,
                    translateY: new r.default.Value(0)
                }),
                h(this, "rootRef", a.createRef()),
                h(this, "focusTimeout", new o.Timeout),
                h(this, "handleResultFocus", e=>{
                    let {node: t} = e;
                    this.focusTimeout.start(1, ()=>{
                        if (this.props.hasQuery && null != t && null != this.rootRef.current) {
                            let {top: e} = this.rootRef.current.getBoundingClientRect()
                              , {top: n} = t.getBoundingClientRect();
                            this.springTo(Math.abs(e - n) - 118 + 9)
                        } else
                            this.springTo(0)
                    }
                    )
                }
                )
            }
        }
        t.default = C
    },
    893607: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            isValidChannelId: function() {
                return r
            },
            isValidGuildId: function() {
                return i
            }
        });
        var l = n("981631")
          , a = n("176505");
        let s = /^\d+$/;
        function i(e) {
            return null != e && (!!(e === l.ME || e === l.FAVORITES || e === l.EMPTY_NUX_SERVER || s.test(e)) || !1)
        }
        function r(e) {
            return !!(null == e || s.test(e) || (0,
            a.isStaticChannelRoute)(e)) || !1
        }
    },
    160038: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n.n(a)
          , i = n("120356")
          , r = n.n(i)
          , o = n("46973")
          , u = n("481060")
          , d = n("304680")
          , c = n("706619")
          , f = n("695346")
          , h = n("131951")
          , m = n("757206")
          , C = n("441957")
          , p = n("630641")
          , g = n("626135")
          , E = n("572004")
          , S = n("63063")
          , _ = n("476221")
          , I = n("981631")
          , N = n("65154")
          , T = n("689938")
          , A = n("569421");
        let L = ()=>{
            h.default.getMediaEngine().once(o.MediaEngineEvent.ConnectionStats, e=>{
                let t = Object.values(N.MediaEngineContextTypes).map(t=>{
                    let n = e.filter(e=>{
                        let {connection: n} = e;
                        return n.context === t
                    }
                    ).map((e,n)=>{
                        let l = e.stats;
                        return l.context = t,
                        l.index = n,
                        l
                    }
                    );
                    for (let e of n) {
                        var l;
                        (null == e ? void 0 : null === (l = e.transport) || void 0 === l ? void 0 : l.localAddress) != null && (e.transport.localAddress = "(redacted)")
                    }
                    return n
                }
                ).filter(e=>e.length > 0);
                (0,
                E.copy)(JSON.stringify(t, null, 2)),
                (0,
                u.showToast)((0,
                u.createToast)(T.default.Messages.COPIED, u.ToastType.SUCCESS))
            }
            )
        }
        ;
        t.default = function(e) {
            (0,
            a.useEffect)(()=>{
                g.default.track(I.AnalyticEvents.OPEN_POPOUT, {
                    type: "RTC Connection"
                })
            }
            , []);
            let t = (0,
            a.useCallback)(()=>{
                let {closePopout: t} = e;
                null != t && t(),
                d.open()
            }
            , [e])
              , n = (0,
            a.useCallback)(()=>{
                let {hostname: t, averagePing: n, lastPing: a, outboundLossRate: i} = e
                  , o = f.DeveloperMode.getSetting();
                return (0,
                l.jsxs)(s().Fragment, {
                    children: [o && (0,
                    l.jsxs)("div", {
                        children: [(0,
                        l.jsx)("div", {
                            className: A.graphContainer,
                            children: (0,
                            l.jsx)(c.default, {
                                dataPoints: e.pings,
                                width: 258,
                                height: 80
                            })
                        }), (0,
                        l.jsx)("div", {
                            className: A.popoutText,
                            children: (0,
                            l.jsx)("strong", {
                                children: _.default.getShortHostname(t)
                            })
                        })]
                    }), (0,
                    l.jsx)("div", {
                        className: A.popoutText,
                        children: T.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_AVERAGE_PING.format({
                            averagePing: n.toFixed(0)
                        })
                    }), null != a ? (0,
                    l.jsx)("div", {
                        className: A.popoutText,
                        children: T.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LAST_PING.format({
                            lastPing: a.toFixed(0)
                        })
                    }) : null, null != i ? (0,
                    l.jsx)("div", {
                        className: A.popoutText,
                        children: T.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_LOSS_VALUE.format({
                            outboundLossRate: i.toFixed(1)
                        })
                    }) : null, (0,
                    l.jsxs)("div", {
                        className: r()(A.popoutText, A.popoutTextDetails),
                        children: [null == i ? T.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_DETAILS.format({
                            badPing: 250
                        }) : null, null != i ? T.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTED_DETAILS_WITH_LOSS.format({
                            badPing: 250,
                            badLossRate: 10
                        }) : null]
                    })]
                })
            }
            , [e])
              , {connectionState: i, connectionTypeText: o} = e
              , E = f.DeveloperMode.getSetting()
              , v = {
                [I.RTCConnectionStates.AWAITING_ENDPOINT]: T.default.Messages.RTC_CONNECTION_STATE_AWAITING_ENDPOINT.format({
                    url: I.Links.STATUS
                }),
                [I.RTCConnectionStates.CONNECTING]: T.default.Messages.RTC_CONNECTION_STATE_CONNECTING,
                [I.RTCConnectionStates.AUTHENTICATING]: T.default.Messages.RTC_CONNECTION_STATE_AUTHENTICATING,
                [I.RTCConnectionStates.DISCONNECTED]: T.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED,
                [I.RTCConnectionStates.RTC_CONNECTING]: T.default.Messages.RTC_CONNECTION_STATE_RTC_CONNECTING,
                [I.RTCConnectionStates.ICE_CHECKING]: T.default.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({
                    url: S.default.getArticleURL(I.HelpdeskArticles.VOICE_CONNECTION_ERRORS)
                }),
                [I.RTCConnectionStates.DTLS_CONNECTING]: T.default.Messages.RTC_CONNECTION_STATE_ICE_CHECKING.format({
                    url: S.default.getArticleURL(I.HelpdeskArticles.VOICE_CONNECTION_ERRORS)
                }),
                [I.RTCConnectionStates.RTC_CONNECTED]: n,
                [I.RTCConnectionStates.NO_ROUTE]: T.default.Messages.RTC_CONNECTION_STATE_NO_ROUTE.format({
                    url: S.default.getArticleURL(I.HelpdeskArticles.VOICE_CONNECTION_ERRORS)
                }),
                [I.RTCConnectionStates.RTC_DISCONNECTED]: T.default.Messages.RTC_CONNECTION_STATE_DISCONNECTED
            }[i];
            return (0,
            l.jsxs)(l.Fragment, {
                children: ["function" == typeof v ? v() : (0,
                l.jsx)("p", {
                    className: r()(A.popoutText, A.popoutTextDetails),
                    children: v
                }), (0,
                l.jsx)("hr", {
                    className: A.separator
                }), (0,
                l.jsxs)("div", {
                    className: A.popoutBottom,
                    children: [(0,
                    l.jsxs)("span", {
                        className: r()(A.secured, A.textWithIcon),
                        children: [(0,
                        l.jsx)(p.default, {
                            width: 12,
                            height: 12,
                            color: u.tokens.colors.TEXT_POSITIVE.css,
                            className: A.__invalid_icon
                        }), o]
                    }), E && h.default.supports(N.Features.DIAGNOSTICS) && !__OVERLAY__ && (0,
                    l.jsxs)(l.Fragment, {
                        children: [(0,
                        l.jsxs)(u.Anchor, {
                            className: r()(A.debugButton, A.textWithIcon),
                            onClick: t,
                            children: [T.default.Messages.DEBUG, (0,
                            l.jsx)(C.default, {
                                className: A.__invalid_icon,
                                width: 12,
                                height: 12
                            })]
                        }), (0,
                        l.jsxs)(u.Anchor, {
                            className: r()(A.copyStatsButton, A.textWithIcon),
                            onClick: L,
                            title: "Copy to clipboard",
                            children: [T.default.Messages.COPY_STATS, (0,
                            l.jsx)(m.default, {
                                className: A.__invalid_icon,
                                width: 12,
                                height: 12
                            })]
                        })]
                    }), !E && !__OVERLAY__ && (0,
                    l.jsx)(u.Anchor, {
                        className: A.debugButton,
                        href: S.default.getArticleURL(I.HelpdeskArticles.VOICE_VIDEO_TROUBLESHOOTING),
                        children: T.default.Messages.LEARN_MORE
                    })]
                })]
            })
        }
    },
    873596: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return S
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("442837")
          , i = n("481060")
          , r = n("436592")
          , o = n("202124")
          , u = n("19780")
          , d = n("362446")
          , c = n("153124")
          , f = n("160038")
          , h = n("689938")
          , m = n("713172");
        function C(e) {
            let {lobbyId: t, connectionTypeText: n, closePopout: a} = e
              , i = (0,
            s.useStateFromStoresObject)([d.default], ()=>({
                connectionState: d.default.getConnectionState(t),
                hostname: d.default.getHostname(t),
                averagePing: d.default.getAveragePing(t),
                lastPing: d.default.getLastPing(t),
                pings: d.default.getPings(),
                outboundLossRate: d.default.getOutboundLossRate(t)
            }));
            return (0,
            l.jsx)(f.default, {
                ...i,
                closePopout: a,
                connectionTypeText: n
            })
        }
        function p(e) {
            let {closePopout: t, connectionTypeText: n} = e
              , a = (0,
            s.useStateFromStoresObject)([u.default], ()=>({
                connectionState: u.default.getState(),
                hostname: u.default.getHostname(),
                averagePing: u.default.getAveragePing(),
                lastPing: u.default.getLastPing(),
                outboundLossRate: u.default.getOutboundLossRate(),
                pings: u.default.getPings()
            }));
            return (0,
            l.jsx)(f.default, {
                ...a,
                closePopout: t,
                connectionTypeText: n
            })
        }
        function g(e) {
            let {channelId: t, isOverlay: n, lobbyId: a, closePopout: s} = e
              , i = (0,
            r.useIsSecureFramesUIEnabled)(t) ? h.default.Messages.E2EE_END_TO_END_ENCRYPTED : h.default.Messages.SECURE_CONNECTION;
            return n ? (0,
            l.jsx)(C, {
                lobbyId: a,
                closePopout: s,
                connectionTypeText: i
            }) : (0,
            l.jsx)(p, {
                closePopout: s,
                connectionTypeText: i
            })
        }
        function E(e) {
            let[t,n] = a.useState("rtc_debug_panel")
              , s = (0,
            c.useUID)()
              , r = a.useMemo(()=>{
                switch (t) {
                case "rtc_debug_panel":
                    return (0,
                    l.jsx)(g, {
                        ...e
                    });
                case "rtc_secure_frames":
                    return (0,
                    l.jsx)(o.default, {})
                }
            }
            , [e, t]);
            return (0,
            l.jsxs)("div", {
                className: m.container,
                children: [(0,
                l.jsx)(i.Heading, {
                    className: m.title,
                    variant: "heading-lg/bold",
                    color: "header-primary",
                    children: h.default.Messages.E2EE_VOICE_DETAILS
                }), (0,
                l.jsxs)(i.TabBar, {
                    className: m.tabs,
                    selectedItem: t,
                    type: "top",
                    look: "brand",
                    onItemSelect: n,
                    children: [(0,
                    l.jsx)(i.TabBar.Item, {
                        id: "rtc_debug_panel",
                        className: m.tabBarItem,
                        children: h.default.Messages.E2EE_CONNECTION
                    }), (0,
                    l.jsx)(i.TabBar.Item, {
                        id: "rtc_secure_frames",
                        className: m.tabBarItem,
                        children: h.default.Messages.E2EE_PRIVACY
                    })]
                }), (0,
                l.jsx)(i.TabBar.Panel, {
                    id: t,
                    "aria-labelledby": s,
                    children: r
                })]
            })
        }
        function S(e) {
            return (0,
            r.useIsSecureFramesUIEnabled)(e.channelId) ? (0,
            l.jsx)(E, {
                ...e
            }) : (0,
            l.jsx)("div", {
                className: m.debugPanelStandalone,
                children: (0,
                l.jsx)("section", {
                    className: m.debugPanelSection,
                    children: (0,
                    l.jsx)(g, {
                        ...e
                    })
                })
            })
        }
    },
    706619: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("311308")
          , i = n("692547")
          , r = n("481060");
        function o(e) {
            let t = (0,
            a.useRef)(null)
              , [n,o] = (0,
            a.useState)(null)
              , [u] = (0,
            a.useState)(()=>new s.TimelineDataSeries)
              , d = (0,
            r.useToken)(i.default.colors.BACKGROUND_PRIMARY).hsl()
              , c = (0,
            r.useToken)(i.default.colors.TEXT_NORMAL).hsl()
              , f = (0,
            r.useToken)(i.default.colors.BACKGROUND_ACCENT).hsl()
              , h = (0,
            r.useToken)(i.default.unsafe_rawColors.BRAND_500).hsl();
            (0,
            a.useEffect)(()=>{
                var e;
                let n = t.current;
                if (null == n)
                    return;
                let l = new s.TimelineGraphView(n,null !== (e = window.devicePixelRatio) && void 0 !== e ? e : 1);
                l.backgroundColor = d,
                l.textColor = c,
                l.gridColor = f,
                l.timeOptions = {
                    timeStyle: "short"
                },
                l.fontFamily = "gg sans",
                l.fontSize = 11,
                u.setColor(h),
                l.addDataSeries(u),
                l.updateEndDate(),
                o(l)
            }
            , [t, d, h, f, c, u]),
            u.setPoints(e.dataPoints),
            null == n || n.updateEndDate();
            let m = {
                width: e.width,
                height: e.height
            };
            return (0,
            l.jsx)("canvas", {
                style: m,
                width: e.width,
                height: e.height,
                ref: t
            }, "canvas")
        }
    },
    436592: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            useIsSecureFramesUIEnabled: function() {
                return i
            }
        });
        var l = n("442837")
          , a = n("19780")
          , s = n("229502");
        function i(e) {
            let {enabled: t} = s.SecureFramesUIExperiment.useExperiment({
                location: "useIsSecureFramesUIEnabled"
            })
              , n = (0,
            l.useStateFromStores)([a.default], ()=>{
                var t;
                if (a.default.getChannelId() !== e)
                    return !1;
                let n = null === (t = a.default.getSecureFramesState()) || void 0 === t ? void 0 : t.version;
                return null != n && n > 100
            }
            );
            return t && n
        }
    },
    840467: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            useReadableSecureFramesCode: function() {
                return i
            }
        });
        var l = n("470079")
          , a = n("250683")
          , s = n("253135");
        function i(e) {
            let {codeBase64: t, chunkSize: n, desiredLength: i} = e;
            return l.useMemo(()=>{
                if (null == t)
                    return null;
                let e = a.toByteArray(t)
                  , l = (0,
                s.generateDisplayableCode)(e, i, n);
                if (null == l)
                    return null;
                let r = RegExp(".{1,".concat(n, "}"), "g")
                  , o = l.match(r);
                return null == o ? null : Array.from(o)
            }
            , [n, t, i])
        }
    },
    202124: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return m
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("442837")
          , s = n("824385")
          , i = n("481060")
          , r = n("19780")
          , o = n("840467")
          , u = n("71328")
          , d = n("498126")
          , c = n("63454")
          , f = n("689938")
          , h = n("213807");
        function m() {
            let e = (0,
            a.useStateFromStores)([r.default], ()=>{
                var e;
                return null === (e = r.default.getSecureFramesState()) || void 0 === e ? void 0 : e.epochAuthenticator
            }
            )
              , t = (0,
            o.useReadableSecureFramesCode)({
                codeBase64: e,
                chunkSize: c.EPOCH_AUTHENTICATOR_CHUNK_SIZE,
                desiredLength: c.EPOCH_AUTHENTICATOR_LENGTH
            });
            return (0,
            l.jsxs)("div", {
                className: h.container,
                children: [(0,
                l.jsxs)("div", {
                    className: h.tag,
                    children: [(0,
                    l.jsx)(s.LockIcon, {
                        height: 12,
                        width: 12,
                        color: i.tokens.colors.STATUS_POSITIVE
                    }), (0,
                    l.jsx)(i.Text, {
                        variant: "text-xs/medium",
                        color: "status-positive",
                        children: f.default.Messages.E2EE_END_TO_END_ENCRYPTED
                    })]
                }), (0,
                l.jsx)(i.Text, {
                    variant: "text-xs/normal",
                    color: "text-secondary",
                    children: f.default.Messages.E2EE_CALL_DETAILS_SUBTITLE
                }), (0,
                l.jsxs)("div", {
                    className: h.header,
                    children: [(0,
                    l.jsx)(i.Heading, {
                        variant: "text-sm/bold",
                        color: "header-primary",
                        children: f.default.Messages.E2EE_VOICE_PRIVACY_CODE
                    }), null != t && (0,
                    l.jsx)(d.SecureFramesCopyIcon, {
                        chunks: t,
                        color: i.tokens.colors.INTERACTIVE_NORMAL
                    })]
                }), null != t && (0,
                l.jsx)(u.SecureFramesCode, {
                    className: h.code,
                    chunks: t,
                    columns: c.EPOCH_AUTHENTICATOR_COLUMNS
                }), (0,
                l.jsx)(i.Text, {
                    variant: "text-xs/normal",
                    color: "text-secondary",
                    children: f.default.Messages.E2EE_CALL_DETAILS_FOOTER_TEXT.format({
                        helpArticle: c.E2EE_HELPDESK_ARTICLE
                    })
                })]
            })
        }
    },
    71328: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            SecureFramesCode: function() {
                return u
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("481060")
          , o = n("16140");
        function u(e) {
            let {chunks: t, columns: n, className: s} = e
              , u = a.useMemo(()=>({
                "--secure-frames-columns": n
            }), [n]);
            return (0,
            l.jsx)("div", {
                style: u,
                className: i()(o.code, s),
                children: t.map((e,t)=>(0,
                l.jsx)("div", {
                    className: i()(o.chunk, {
                        [o.divider]: t > n - 1
                    }),
                    children: (0,
                    l.jsx)(r.Text, {
                        className: o.codeText,
                        variant: "code",
                        color: "text-normal",
                        children: e
                    })
                }, "".concat(e, "-").concat(t)))
            })
        }
    },
    498126: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            SecureFramesCopyIcon: function() {
                return h
            }
        }),
        n("47120");
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("903788")
          , o = n("939298")
          , u = n("481060")
          , d = n("572004")
          , c = n("689938")
          , f = n("782836");
        function h(e) {
            let {chunks: t, className: n, ...s} = e
              , h = a.useMemo(()=>null == t ? void 0 : t.join(" "), [t])
              , [m,C] = a.useState(!1)
              , p = a.useCallback(()=>{
                C(!0),
                (0,
                d.copy)(h)
            }
            , [h])
              , g = m ? r.CircleCheckIcon : o.CopyIcon;
            return (0,
            l.jsx)(u.Clickable, {
                className: i()(f.container, n),
                onClick: p,
                children: (0,
                l.jsx)(u.Tooltip, {
                    text: m ? c.default.Messages.COPIED : c.default.Messages.COPY,
                    children: e=>(0,
                    l.jsx)(g, {
                        ...s,
                        ...e,
                        height: 12,
                        width: 12,
                        color: m ? u.tokens.colors.TEXT_POSITIVE : u.tokens.colors.INTERACTIVE_NORMAL
                    })
                })
            })
        }
    },
    802718: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            useSignUpButton: function() {
                return S
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("924826")
          , i = n("652335")
          , r = n("481060")
          , o = n("442837")
          , u = n("239091")
          , d = n("410030")
          , c = n("377171")
          , f = n("682662")
          , h = n("662146")
          , m = n("678513")
          , C = n("981631")
          , p = n("689938")
          , g = n("211005");
        function E(e) {
            let {target: t} = e
              , o = (0,
            s.useTreeItem)("fakedoor")
              , m = a.useCallback(()=>{
                (0,
                r.openModalLazy)(async()=>{
                    let {default: e} = await Promise.all([n.e("99387"), n.e("22862"), n.e("88870")]).then(n.bind(n, "646202"));
                    return n=>(0,
                    l.jsx)(e, {
                        ...n,
                        target: t
                    })
                }
                )
            }
            , [t])
              , E = a.useCallback(e=>{
                (0,
                u.openContextMenuLazy)(e, async()=>{
                    let {default: e} = await n.e("39612").then(n.bind(n, "761624"));
                    return n=>(0,
                    l.jsx)(e, {
                        ...n,
                        signupTarget: t
                    })
                }
                )
            }
            , [t])
              , S = "url(".concat(t.backgroundAssetUrl, ") black top / cover no-repeat")
              , _ = (0,
            l.jsxs)("div", {
                className: g.tooltipContainer,
                children: [(0,
                l.jsx)("div", {
                    className: g.tooltipBackground,
                    style: {
                        background: S
                    }
                }), (0,
                l.jsx)(r.Heading, {
                    variant: "heading-sm/medium",
                    children: t.tooltipHeader
                }), (0,
                l.jsx)(r.Text, {
                    variant: "text-xs/normal",
                    children: p.default.Messages.SIGNUP_BUTTON_TOOLTIP_CTA
                })]
            })
              , I = (0,
            d.useTheme)();
            return (0,
            l.jsxs)(f.ListItem, {
                children: [(0,
                l.jsx)(r.ThemeContextProvider, {
                    theme: C.ThemeTypes.DARK,
                    children: (0,
                    l.jsx)(h.default, {
                        text: _,
                        tooltipClass: g.tooltip,
                        tooltipContentClass: g.tooltipContent,
                        children: (0,
                        l.jsx)(r.ThemeContextProvider, {
                            theme: I,
                            children: (0,
                            l.jsx)(r.BlobMask, {
                                lowerBadge: (0,
                                l.jsx)(r.NumberBadge, {
                                    count: 1,
                                    color: c.default.BG_BRAND
                                }),
                                children: (0,
                                l.jsx)(r.NavItem, {
                                    ...o,
                                    onClick: m,
                                    onContextMenu: E,
                                    children: (0,
                                    l.jsx)(i.BellIcon, {
                                        color: c.default.TEXT_NORMAL
                                    })
                                })
                            })
                        })
                    })
                }), (0,
                l.jsx)("div", {
                    style: {
                        background: S,
                        width: 0,
                        height: 0
                    }
                })]
            })
        }
        function S() {
            let e = (0,
            o.useStateFromStores)([m.default], ()=>m.default.getActiveUserSignUp());
            return null == e ? null : (0,
            l.jsx)(E, {
                target: e
            })
        }
    },
    445507: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            GENSHIN_ADMIN_SIGNUP: function() {
                return d
            },
            GENSHIN_USER_SIGNUP: function() {
                return u
            },
            VALORANT_GUILD_SIGNUP: function() {
                return o
            },
            VALORANT_USER_SIGNUP: function() {
                return r
            },
            extractMetadata: function() {
                return i
            },
            getClanOptions: function() {
                return c
            },
            isGuildTarget: function() {
                return s
            },
            isUserTarget: function() {
                return a
            }
        });
        var l = n("704215");
        function a(e) {
            return "user" === e.type
        }
        function s(e) {
            return "guild" === e.type
        }
        function i(e) {
            return JSON.stringify({
                playstyle: e.playstyle,
                acknowledgeCap: e.acknowledgeCap,
                acknowledgeScreen: e.acknowledgeScreen
            })
        }
        let r = {
            key: "valorant-user",
            type: "user",
            title: "Preview new features for Valorant players on Discord",
            subtitle: "Get notified about new features we're building to help Valorant players connect and play together on Discord.",
            tooltipHeader: "Want a preview of new features for Valorant players?",
            question: "Which feature are you interested in the most?",
            questionMargin: 150,
            backgroundAssetUrl: "https://cdn.discordapp.com/assets/signups/Valorant_Background.png",
            dismissibleContent: l.DismissibleContent.GAME_ONE_USER_SIGNUPS,
            options: [{
                key: "clan",
                icon: "compass",
                title: "Gaming Guilds",
                description: "Small, organized servers with similar vibes, play styles, or skill levels who hang out and play regularly.",
                type: "email"
            }, {
                key: "missions",
                icon: "gamepad",
                title: "Missions",
                description: "Join one-time groups of players trying to achieve the same goal as you, like ranking up or beating a raid boss.",
                type: "email"
            }, {
                key: "gamenight",
                icon: "controller",
                title: "Game Nights",
                description: "Get matched with other players on specific criteria like play style or skill and get invited to a scheduled gaming session.",
                type: "email"
            }]
        }
          , o = {
            key: "valorant-admin",
            type: "guild",
            title: "Want to recruit more Valorant players for your server?",
            subtitle: "Your server is exclusively invited to sign up for future Discovery features.",
            noticeHeader: "Want to recruit more people to play Valorant in your server?",
            question: "Interested? Pick one to sign up for updates and early access:",
            questionMargin: 110,
            backgroundAssetUrl: "https://cdn.discordapp.com/assets/signups/Valorant_Background.png",
            dismissibleContent: l.DismissibleContent.GAME_ONE_USER_SIGNUPS,
            options: [{
                key: "clan",
                icon: "compass",
                title: "Gaming Guilds",
                description: "Become a Gaming Guild, where players with similar vibes or skill hang out and play regularly. You'll be discoverable among other guilds and approve member applications to join.",
                type: "clan"
            }, {
                key: "voice-hub",
                icon: "microphone",
                title: "Gaming Voice Hub",
                description: "A hub that houses a large selection of voice channels dedicated to gaming, each holding up to 10 people. Join an existing channel or create your own and set the game you're playing, goals, or vibes.",
                type: "email"
            }, {
                key: "hub",
                icon: "controller",
                title: "Game Hub",
                description: "Dedicated discovery pages for popular games. Admins can choose to have their server’s text channel activity displayed in the hubs so users can see the conversations happening across Discord for a specific game.",
                type: "email"
            }]
        }
          , u = {
            key: "genshin-user",
            type: "user",
            title: "Preview new features for Genshin Impact players on Discord",
            subtitle: "Get notified about new features we're building to help Genshin Impact players connect on Discord.",
            tooltipHeader: "Want a preview of new features for Genshin Impact players?",
            question: "Which feature are you interested in the most?",
            questionMargin: 150,
            backgroundAssetUrl: "https://cdn.discordapp.com/assets/signups/Genshin_Background.png",
            dismissibleContent: l.DismissibleContent.GENSHIN_USER_SIGNUPS,
            options: [{
                key: "clan",
                icon: "compass",
                title: "Gaming Guilds",
                description: "Small, organized servers with similar vibes, play styles, or skill levels who chat, hang out, or play together regularly.",
                type: "email"
            }, {
                key: "missions",
                icon: "gamepad",
                title: "Missions",
                description: "Join one-time groups of players trying to achieve the same goal as you, like farming or beating a raid boss.",
                type: "email"
            }, {
                key: "gamenight",
                icon: "controller",
                title: "Game Nights",
                description: "Get matched with other players on specific criteria like play style or skill and get invited to a scheduled gaming session.",
                type: "email"
            }]
        }
          , d = {
            key: "genshin-admin",
            type: "guild",
            title: "Interested in recruiting more Genshin Impact players for your server?",
            subtitle: "Your server is exclusively invited to sign up for future Discovery features.",
            noticeHeader: "Want to recruit more Genshin Impact players for your server?",
            question: "Interested? Pick one to sign up for updates and early access:",
            questionMargin: 80,
            backgroundAssetUrl: "https://cdn.discordapp.com/assets/signups/Genshin_Background.png",
            dismissibleContent: l.DismissibleContent.GENSHIN_USER_SIGNUPS,
            options: [{
                key: "clan",
                icon: "compass",
                title: "Gaming Guilds",
                description: "Become a Gaming Guild, where players with similar vibes or skill chat, hang out, and play regularly. You’ll be discoverable among other guilds and approve new member applications.",
                type: "clan"
            }, {
                key: "voice-hub",
                icon: "microphone",
                title: "Gaming Voice Hub",
                description: "A hub that houses a large selection of voice channels dedicated to gaming, each holding up to 10 people. Join an existing channel or create your own and set the game you're playing, goals, or vibes.",
                type: "email"
            }, {
                key: "hub",
                icon: "controller",
                title: "Game Hub",
                description: "Dedicated discovery pages for popular games. Admins can choose to have their server’s text channel activity displayed in the hubs so users can see the conversations happening across Discord for a specific game.",
                type: "email"
            }]
        };
        function c(e) {
            return [{
                value: "very-casual",
                title: e.Messages.SIGNUP_CLAN_OPTION_VERY_CASUAL_TITLE,
                description: e.Messages.SIGNUP_CLAN_OPTION_VERY_CASUAL_DESCRIPTION
            }, {
                value: "casual",
                title: e.Messages.SIGNUP_CLAN_OPTION_CASUAL_TITLE,
                description: e.Messages.SIGNUP_CLAN_OPTION_CASUAL_DESCRIPTION
            }, {
                value: "hardcore",
                title: e.Messages.SIGNUP_CLAN_OPTION_HARDCORE_TITLE,
                description: e.Messages.SIGNUP_CLAN_OPTION_HARDCORE_DESCRIPTION
            }, {
                value: "very-hardcore",
                title: e.Messages.SIGNUP_CLAN_OPTION_VERY_HARDCORE_TITLE,
                description: e.Messages.SIGNUP_CLAN_OPTION_VERY_HARDCORE_DESCRIPTION
            }]
        }
    },
    678513: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l, a, s, i, r = n("442837"), o = n("570140"), u = n("445507");
        let d = {
            "valorant-user": u.VALORANT_USER_SIGNUP,
            "valorant-admin": u.VALORANT_GUILD_SIGNUP,
            "genshin-user": u.GENSHIN_USER_SIGNUP,
            "genshin-admin": u.GENSHIN_ADMIN_SIGNUP
        }
          , c = null
          , f = {}
          , h = new Set;
        function m() {
            for (let e in c = null,
            f)
                delete f[e]
        }
        class C extends (l = r.default.Store) {
            getActiveUserSignUp() {
                return c
            }
            getActiveGuildSignUp(e) {
                var t;
                return null !== (t = f[e]) && void 0 !== t ? t : null
            }
            hasCompletedTarget(e) {
                return h.has(e)
            }
        }
        i = "SignUpStore",
        (s = "displayName")in (a = C) ? Object.defineProperty(a, s, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : a[s] = i,
        t.default = new C(o.default,{
            ENABLE_USER_SIGN_UP: function(e) {
                let {key: t} = e
                  , n = d[t];
                (0,
                u.isUserTarget)(n) && 0 === Object.keys(f).length && (c = n)
            },
            ENABLE_GUILD_SIGN_UP: function(e) {
                let {key: t, guildId: n} = e
                  , l = d[t];
                (0,
                u.isGuildTarget)(l) && (f[n] = l,
                c = null)
            },
            COMPLETE_SIGN_UP: function(e) {
                let {targetKey: t} = e;
                h.add(t),
                m()
            },
            DISMISS_SIGN_UP: m
        })
    },
    964398: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120"),
        n("411104");
        var l = n("735250")
          , a = n("470079")
          , s = n("392711")
          , i = n.n(s)
          , r = n("481060")
          , o = n("65205")
          , u = n("689938")
          , d = n("12954");
        function c(e) {
            let {className: t} = e;
            return (0,
            l.jsxs)("svg", {
                className: t,
                fill: "none",
                xmlns: "http://www.w3.org/2000/svg",
                viewBox: "0 0 48 48",
                children: [(0,
                l.jsx)("g", {
                    filter: "url(#a)",
                    children: (0,
                    l.jsx)("path", {
                        d: "M30.4 8 24 14.4 17.6 8 16 9.6l6.4 6.4-6.4 6.4 1.6 1.6 6.4-6.4 6.4 6.4 1.6-1.6-6.4-6.4L32 9.6 30.4 8Z",
                        fill: "currentColor"
                    })
                }), (0,
                l.jsx)("defs", {
                    children: (0,
                    l.jsxs)("filter", {
                        id: "a",
                        x: "0",
                        y: "0",
                        width: "48",
                        height: "48",
                        filterUnits: "userSpaceOnUse",
                        colorInterpolationFilters: "sRGB",
                        children: [(0,
                        l.jsx)("feFlood", {
                            floodOpacity: "0",
                            result: "BackgroundImageFix"
                        }), (0,
                        l.jsx)("feColorMatrix", {
                            in: "SourceAlpha",
                            values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
                            result: "hardAlpha"
                        }), (0,
                        l.jsx)("feOffset", {
                            dy: "8"
                        }), (0,
                        l.jsx)("feGaussianBlur", {
                            stdDeviation: "8"
                        }), (0,
                        l.jsx)("feColorMatrix", {
                            values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"
                        }), (0,
                        l.jsx)("feBlend", {
                            in2: "BackgroundImageFix",
                            result: "effect1_dropShadow_605_72103"
                        }), (0,
                        l.jsx)("feBlend", {
                            in: "SourceGraphic",
                            in2: "effect1_dropShadow_605_72103",
                            result: "shape"
                        })]
                    })
                })]
            })
        }
        let f = [{
            x: .5,
            y: .05
        }, {
            x: .95,
            y: .2
        }, {
            x: 1,
            y: .5
        }, {
            x: .95,
            y: .8
        }, {
            x: .5,
            y: .95
        }, {
            x: .05,
            y: .8
        }, {
            x: 0,
            y: .5
        }, {
            x: .05,
            y: .2
        }]
          , h = f.length;
        function m(e, t, n) {
            let l = e * t;
            return e > .5 ? l - n : e < .5 ? l : l - n / 2
        }
        let C = (e,t)=>{
            let n = Math.abs(t.x)
              , l = 180 / Math.PI * Math.atan2(Math.abs(t.y), n)
              , a = e / 2 - 28.8;
            return {
                x: Math.max(a * Math.cos(2 * Math.PI * l / 360), 0),
                y: Math.max(a * Math.sin(2 * Math.PI * l / 360), 0)
            }
        }
        ;
        t.default = a.memo(function(e) {
            let {wheelWidth: t, wheelHeight: n, itemWidth: p, itemHeight: g, showDeadZoneIndicator: E, activeItem: S, onItemSelect: _, onItemAction: I, interactive: N=!0, children: T} = e
              , A = a.useRef(null)
              , L = a.useRef([])
              , v = a.useRef(!1)
              , x = a.useRef(null)
              , [R,M] = a.useState(0)
              , [y,O] = a.useState({
                x: 0,
                y: 0
            })
              , b = Math.abs(y.x) + Math.abs(y.y) > 0
              , D = a.useMemo(()=>i().chunk(T, h), [T])
              , j = a.useCallback((e,t)=>{
                null == L.current[R] ? L.current[R] = [] : L.current[R][t] = e
            }
            , [R])
              , P = a.useCallback((e,t)=>{
                x.current = t,
                _(h * e + t)
            }
            , [_])
              , G = a.useCallback(()=>{
                x.current = null,
                _(null)
            }
            , [_])
              , U = a.useCallback(e=>{
                G(),
                v.current = e
            }
            , [G])
              , w = a.useCallback((e,t,n)=>{
                if (v.current) {
                    O({
                        x: 0,
                        y: 0
                    });
                    return
                }
                let l = {
                    x: e.x - t.x,
                    y: e.y - t.y
                }
                  , a = l.x < 0
                  , s = l.y < 0
                  , i = C(n, l)
                  , r = a ? Math.max(l.x, -i.x) : Math.min(l.x, i.x);
                O({
                    x: r / 2,
                    y: (s ? Math.max(l.y, -i.y) : Math.min(l.y, i.y)) / 2
                })
            }
            , [])
              , B = a.useCallback(e=>{
                null != x.current && (e.preventDefault(),
                e.stopPropagation(),
                null == I || I(h * R + x.current))
            }
            , [I, R])
              , F = a.useMemo(()=>(0,
            s.throttle)(e=>{
                if (null == A.current)
                    return;
                let l = A.current.getBoundingClientRect()
                  , a = l.left + l.width / 2
                  , s = {
                    x: a,
                    y: l.top + l.height / 2
                }
                  , i = {
                    x: e.clientX,
                    y: e.clientY
                };
                if (w(i, s, Math.max(t, n)),
                v.current) {
                    null != S && G();
                    return
                }
                let r = (0,
                o.extendLineSegment)(s, i, Math.max(t, n));
                for (let e = 0; e < L.current[R].length; e++) {
                    let t = L.current[R][e];
                    if (null == t)
                        continue;
                    let n = t.getBoundingClientRect();
                    if ((0,
                    o.doesLineSegmentIntersectRectangle)(s, r, n)) {
                        P(R, e);
                        return
                    }
                }
                G()
            }
            , 16), [S, w, G, P, R, n, t])
              , V = a.useCallback(e=>{
                if (!N)
                    return;
                let t = R + (e.deltaY > 0 ? 1 : -1);
                t >= 0 && t < D.length && (null != x.current && (D[t].length > x.current ? P(t, x.current) : G()),
                M(t))
            }
            , [N, R, D, P, G])
              , H = a.useMemo(()=>D[R].map((e,a)=>{
                let s = f[a];
                if (null == s)
                    throw Error("Too many items supplied ".concat(T.length, " expected max of ").concat(f.length));
                let i = m(s.x, t, p)
                  , r = m(s.y, n, g);
                return (0,
                l.jsx)("div", {
                    ref: e=>j(e, a),
                    className: d.chatWheelItem,
                    style: {
                        left: i,
                        top: r,
                        width: p,
                        height: g
                    },
                    children: e
                }, a)
            }
            ), [D, R, t, p, n, g, T.length, j]);
            return (0,
            l.jsx)(r.Clickable, {
                className: d.chatWheelMouseInput,
                onMouseMove: F,
                onWheel: V,
                onClick: B,
                children: (0,
                l.jsxs)("div", {
                    ref: A,
                    className: d.chatWheel,
                    style: {
                        width: t,
                        height: n
                    },
                    children: [(0,
                    l.jsxs)("svg", {
                        className: d.chatWheelBackground,
                        viewBox: "0 0 288 288",
                        xmlns: "http://www.w3.org/2000/svg",
                        children: [(0,
                        l.jsxs)("filter", {
                            id: "soundboard-wheel-background-shadow",
                            x: "0",
                            y: "0",
                            width: "288",
                            height: "288",
                            filterUnits: "userSpaceOnUse",
                            colorInterpolationFilters: "sRGB",
                            children: [(0,
                            l.jsx)("feFlood", {
                                floodOpacity: "0",
                                result: "BackgroundImageFix"
                            }), (0,
                            l.jsx)("feColorMatrix", {
                                in: "SourceAlpha",
                                values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",
                                result: "hardAlpha"
                            }), (0,
                            l.jsx)("feOffset", {
                                dy: "8"
                            }), (0,
                            l.jsx)("feGaussianBlur", {
                                stdDeviation: "8"
                            }), (0,
                            l.jsx)("feColorMatrix", {
                                values: "0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.16 0"
                            }), (0,
                            l.jsx)("feBlend", {
                                in2: "BackgroundImageFix",
                                result: "effect1_dropShadow_489_60382"
                            }), (0,
                            l.jsx)("feBlend", {
                                in: "SourceGraphic",
                                in2: "effect1_dropShadow_489_60382",
                                result: "shape"
                            })]
                        }), (0,
                        l.jsxs)("g", {
                            filter: "url(#soundboard-wheel-background-shadow)",
                            children: [(0,
                            l.jsx)("circle", {
                                className: d.chatWheelBackground,
                                cx: "144",
                                cy: "144",
                                r: "103.68",
                                strokeWidth: "40.32"
                            }), E && (0,
                            l.jsx)("circle", {
                                className: d.chatWheelDeadZone,
                                onMouseEnter: ()=>U(!0),
                                onMouseLeave: ()=>U(!1),
                                cx: 144,
                                cy: 144,
                                r: 28.8
                            }), b && (0,
                            l.jsx)("circle", {
                                className: d.chatWheelCenter,
                                cx: 144 + y.x,
                                cy: 144 + y.y,
                                r: 28.8
                            })]
                        }), E && (0,
                        l.jsx)("circle", {
                            className: d.chatWheelDeadZone,
                            onMouseEnter: ()=>U(!0),
                            onMouseLeave: ()=>U(!1),
                            cx: 144,
                            cy: 144,
                            r: 28.8,
                            stroke: "none"
                        })]
                    }), (0,
                    l.jsxs)("div", {
                        className: d.innerContent,
                        children: [E && (0,
                        l.jsx)(c, {
                            className: d.chatWheelDeadZoneIcon
                        }), N && D.length > 1 ? (0,
                        l.jsx)("div", {
                            className: d.paginationHint,
                            children: u.default.Messages.CHAT_WHEEL_PAGINATION_HINT
                        }) : null]
                    }), H]
                })
            })
        })
    },
    183584: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            closeSoundboardInOverlay: function() {
                return o
            },
            openSoundboardInOverlay: function() {
                return r
            }
        }),
        n("735250"),
        n("470079");
        var l = n("570140");
        n("238246"),
        n("788983"),
        n("592125"),
        n("19780");
        var a = n("808506");
        n("998502"),
        n("487029");
        var s = n("710111");
        n("981631"),
        n("689938");
        let i = {
            width: s.SoundboardWheelSize.width,
            height: s.SoundboardWheelSize.height,
            resizable: !1,
            movable: !1,
            alwaysOnTop: !0,
            frame: !1,
            transparent: !0,
            hasShadow: !1,
            skipTaskbar: !0,
            menubar: !0,
            backgroundColor: "#00000000",
            titleBarStyle: null
        };
        function r(e, t) {
            l.default.dispatch({
                type: "OVERLAY_SET_INPUT_LOCKED",
                locked: !1,
                pid: t
            }),
            l.default.dispatch({
                type: "SOUNDBOARD_SET_OVERLAY_ENABLED",
                pid: t,
                enabled: !0,
                keepOpen: e
            })
        }
        function o(e) {
            l.default.dispatch({
                type: "SOUNDBOARD_SET_OVERLAY_ENABLED",
                pid: e,
                enabled: !1
            }),
            !a.default.isInputLocked(e) && l.default.dispatch({
                type: "OVERLAY_SET_INPUT_LOCKED",
                locked: !0,
                pid: e
            })
        }
        s.SoundboardWheelSize.padding,
        i.width,
        i.height
    },
    487029: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return N
            }
        }),
        n("47120"),
        n("653041");
        var l = n("735250")
          , a = n("470079")
          , s = n("990547")
          , i = n("442837")
          , r = n("100527")
          , o = n("906732")
          , u = n("213609")
          , d = n("675478")
          , c = n("19780")
          , f = n("709054")
          , h = n("208049")
          , m = n("763296")
          , C = n("242291")
          , p = n("174470")
          , g = n("549771")
          , E = n("964398")
          , S = n("409673")
          , _ = n("710111")
          , I = n("599046");
        function N(e) {
            let {guildId: t, channel: n, width: N, height: T, keepOpen: A, interactive: L=!0, analyticsSource: v, onClose: x} = e
              , R = function(e) {
                let[t,n] = (0,
                i.useStateFromStoresArray)([m.default], ()=>[m.default.getSounds(), m.default.getFavorites()]);
                return a.useMemo(()=>{
                    let l = []
                      , a = [...e, _.DEFAULT_SOUND_GUILD_ID]
                      , s = (e,a)=>{
                        var s, i;
                        for (let r of null !== (i = null === (s = t.get(e)) || void 0 === s ? void 0 : s.sort((e,t)=>f.default.compare(e.soundId, t.soundId))) && void 0 !== i ? i : []) {
                            let e = n.has(r.soundId);
                            (e && a || !e && !a) && r.available && l.push(r)
                        }
                    }
                    ;
                    return a.forEach(e=>s(e, !0)),
                    a.forEach(e=>s(e, !1)),
                    l
                }
                , [t, n, e])
            }((0,
            g.useSortedGuildIdsForSoundboard)(n, !0))
              , M = (0,
            p.useGuildIdsToFetchSoundsFor)()
              , y = a.useRef(null)
              , [O,b] = a.useState(void 0)
              , D = (0,
            i.useStateFromStores)([c.default], ()=>c.default.getMediaSessionId())
              , {analyticsLocations: j} = (0,
            o.default)(r.default.SOUNDBOARD_WHEEL)
              , P = a.useCallback(e=>{
                (0,
                C.playSound)(e, n.id, j),
                x()
            }
            , [j, n.id, x]);
            a.useEffect(()=>{
                h.maybeFetchSoundboardSounds(),
                d.FrecencyUserSettingsActionCreators.loadIfNecessary()
            }
            , []),
            a.useEffect(()=>{
                0 === R.length && 0 === M.length && x()
            }
            , [R.length, M, x]),
            a.useEffect(()=>()=>{
                let e = y.current;
                !A && null != e && P(e)
            }
            , [A, P]),
            (0,
            u.default)({
                type: s.ImpressionTypes.POPOUT,
                name: s.ImpressionNames.SOUNDBOARD_POPOUT,
                properties: {
                    source: v,
                    guild_id: t,
                    media_session_id: D
                }
            }, {
                disableTrack: !L
            });
            let G = a.useCallback(e=>{
                y.current = e,
                b(null == e ? void 0 : e.soundId)
            }
            , [])
              , U = a.useCallback(e=>{
                if (null == e) {
                    G(null);
                    return
                }
                let t = R[e];
                null != t && G(t)
            }
            , [G, R])
              , w = a.useCallback(e=>{
                if (null == e)
                    return;
                let t = R[e];
                null != t && P(t)
            }
            , [R, P])
              , B = a.useMemo(()=>R.map(e=>(0,
            l.jsx)(S.default, {
                interactive: L,
                className: I.soundButton,
                sound: e,
                focused: O === e.soundId,
                channel: n
            }, e.soundId)), [O, n, L, R]);
            return 0 === R.length ? null : (0,
            l.jsx)(o.AnalyticsLocationProvider, {
                value: j,
                children: (0,
                l.jsx)(E.default, {
                    wheelWidth: N,
                    wheelHeight: T,
                    itemWidth: 96,
                    itemHeight: 52,
                    showDeadZoneIndicator: !A,
                    activeItem: O,
                    onItemSelect: U,
                    onItemAction: w,
                    interactive: L,
                    children: B
                })
            })
        }
    },
    833845: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return i
            }
        });
        var l = n("442837")
          , a = n("314897")
          , s = n("88751");
        function i(e) {
            let t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            return (0,
            l.useStateFromStoresObject)([s.default, a.default], ()=>{
                let n = a.default.getId();
                return s.default.getPermissionsForUser(n, e, t)
            }
            , [e, t])
        }
    },
    201469: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return r
            }
        });
        var l, a, s = n("833845"), i = n("643632");
        function r(e) {
            let t = (0,
            i.default)(e)
              , n = (0,
            s.default)(e, !0).moderator;
            return !t && n ? 1 : 0
        }
        (l = a || (a = {}))[l.NORMAL = 0] = "NORMAL",
        l[l.START_EVENT = 1] = "START_EVENT"
    },
    31022: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return m
            }
        }),
        n("47120"),
        n("724458");
        var l = n("442837")
          , a = n("853856")
          , s = n("592125")
          , i = n("938475")
          , r = n("823379")
          , o = n("136015")
          , u = n("709054")
          , d = n("565799")
          , c = n("501655")
          , f = n("981631");
        function h(e) {
            let {voiceState: t, userNick: n, user: l} = e
              , a = (0,
            i.getComparator)(t, n);
            return {
                user: l,
                voiceState: t,
                nick: n,
                comparator: a
            }
        }
        function m(e) {
            let[t] = (0,
            l.useStateFromStores)([d.default, s.default, a.default], ()=>{
                let t;
                let n = (t = e === f.FAVORITES ? u.default.keys(a.default.getFavoriteChannels()).map(e=>s.default.getChannel(e)).filter(r.isNotNullish).filter(e=>e.isGuildStageVoice()) : d.default.getChannels(e)).reduce((e,t)=>{
                    let n = d.default.getMutableParticipants(t.id, c.StageChannelParticipantNamedIndex.SPEAKER);
                    return e[t.id] = n.filter(e=>e.type === c.StageChannelParticipantTypes.VOICE).map(h),
                    e
                }
                , {});
                return [n, t.reduce((e,t)=>{
                    let {id: n} = t;
                    return e + d.default.getParticipantsVersion(n)
                }
                , 0)]
            }
            , [e], o.isVersionEqual);
            return t
        }
    },
    261600: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            StageChannelNowPlayingDelegate: function() {
                return h
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("399606")
          , i = n("481060")
          , r = n("592125")
          , o = n("922482")
          , u = n("750154")
          , d = n("427679")
          , c = n("689938");
        function f(e) {
            var t, n;
            let {activity: f} = e
              , {channelId: h} = null !== (t = (0,
            u.unpackStageChannelParty)(f)) && void 0 !== t ? t : {}
              , m = (0,
            s.useStateFromStores)([d.default], ()=>d.default.getStageInstanceByChannel(h), [h])
              , C = a.useRef(null)
              , p = a.useCallback(()=>{
                let e = r.default.getChannel(h);
                null != e && o.connectAndOpen(e)
            }
            , [h])
              , g = null !== (n = null == m ? void 0 : m.topic) && void 0 !== n ? n : f.name
              , E = c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_JOIN.format({
                channel: g
            });
            return (0,
            l.jsx)("div", {
                ref: C,
                children: (0,
                l.jsx)(i.Clickable, {
                    onClick: p,
                    focusProps: {
                        ringTarget: C
                    },
                    children: (0,
                    l.jsx)(i.Heading, {
                        variant: "heading-sm/semibold",
                        children: E
                    })
                })
            })
        }
        class h {
            shouldShow(e) {
                return (0,
                u.shouldShowActivity)(e)
            }
            createHeader(e) {
                return {
                    subtitle: c.default.Messages.STAGE_CHANNEL_ACTIVITY_FEED_DEFAULT,
                    icon: null
                }
            }
            constructor() {
                var e, t, n;
                e = this,
                t = "body",
                n = f,
                t in e ? Object.defineProperty(e, t, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0
                }) : e[t] = n
            }
        }
    },
    630186: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            TWITCH_APPLICATION_ID_PREFIX: function() {
                return i
            },
            default: function() {
                return r
            }
        });
        var l = n("726542")
          , a = n("973616")
          , s = n("689938");
        let i = "twitch:";
        class r extends a.default {
            getIconURL() {
                return l.default.get("twitch").icon.lightPNG
            }
            constructor(e) {
                super(e),
                this.id = "".concat(i).concat(e.url),
                this.name = s.default.Messages.GAME_FEED_ACTIVITY_STREAMING_TWITCH
            }
        }
    },
    250889: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            XBOX_APPLICATION_ID_PREFIX: function() {
                return s
            },
            default: function() {
                return i
            }
        });
        var l = n("726542")
          , a = n("973616");
        let s = "xbox:";
        class i extends a.default {
            getIconURL() {
                return l.default.get("xbox").icon.lightPNG
            }
            constructor(e) {
                super(e),
                this.id = "".concat(s).concat(e.name),
                this.name = e.name
            }
        }
    },
    358652: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120");
        var l, a, s, i, r = n("442837"), o = n("570140"), u = n("131704"), d = n("251625"), c = n("592125"), f = n("306680"), h = n("944486"), m = n("55589");
        let C = [];
        function p() {
            let e = m.default.getPrivateChannelIds().filter(e=>f.default.getMentionCount(e) > 0);
            return e.length > 20 && (e.length = 20),
            !(0,
            d.areArraysShallowlyEqual)(e, C) && (C = e,
            !0)
        }
        function g() {
            return p()
        }
        function E(e) {
            let {channelId: t} = e
              , n = c.default.getChannel(t);
            return !!(null != n && (0,
            u.isPrivate)(n.type)) && p()
        }
        class S extends (l = r.default.Store) {
            initialize() {
                this.waitFor(m.default, c.default, h.default, f.default)
            }
            getUnreadPrivateChannelIds() {
                return C
            }
        }
        i = "PrivateChannelReadStateStore",
        (s = "displayName")in (a = S) ? Object.defineProperty(a, s, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : a[s] = i,
        t.default = new S(o.default,{
            CONNECTION_OPEN: g,
            OVERLAY_INITIALIZE: g,
            MESSAGE_CREATE: E,
            MESSAGE_ACK: E,
            CHANNEL_SELECT: function(e) {
                let {channelId: t} = e
                  , n = c.default.getChannel(t);
                return !!(null != n && (0,
                u.isPrivate)(n.type)) && p()
            },
            CHANNEL_DELETE: function(e) {
                let {channel: {id: t}} = e
                  , n = c.default.getChannel(t);
                return !!(null != n && (0,
                u.isPrivate)(n.type)) && p()
            },
            WINDOW_FOCUS: function() {
                let e = c.default.getChannel(h.default.getChannelId());
                return !!(null != e && (0,
                u.isPrivate)(e.type)) && p()
            },
            CHANNEL_CREATE: function(e) {
                let {channel: {id: t}} = e
                  , n = c.default.getChannel(t);
                return !!(null != n && (0,
                u.isPrivate)(n.type)) && p()
            },
            CHANNEL_UPDATES: function(e) {
                let {channels: t} = e
                  , n = !1;
                for (let {id: e} of t) {
                    let t = c.default.getChannel(e);
                    null != t && (0,
                    u.isPrivate)(t.type) && (n = !0)
                }
                return !!n && p()
            }
        })
    },
    613060: function(e, t, n) {
        "use strict";
        n.r(t);
        var l, a = n("442837"), s = n("570140");
        function i(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let r = {};
        class o extends (l = a.default.PersistedStore) {
            initialize(e) {
                null != e && Object.keys(e).forEach(t=>{
                    "number" == typeof e[t] && (r[t] = e[t])
                }
                )
            }
            getState() {
                return r
            }
            hasViewed(e) {
                return null != r[e]
            }
        }
        i(o, "displayName", "ViewHistoryStore"),
        i(o, "persistKey", "ViewHistoryStore"),
        t.default = new o(s.default,{
            VIEW_HISTORY_MARK_VIEW: function(e) {
                let {key: t} = e;
                r[t] = Date.now()
            }
        })
    },
    241890: function(e, t, n) {
        "use strict";
        let l, a;
        n.r(t);
        var s = n("735250");
        n("470079");
        var i = n("481060")
          , r = n("570140")
          , o = n("341382")
          , u = n("981631");
        let d = null;
        function c(e) {
            null != l && e ? l() : null != a && a(),
            l = null,
            a = null
        }
        t.default = {
            init() {
                r.default.subscribe("PREMIUM_REQUIRED_MODAL_OPEN", e=>{
                    if (c(!1),
                    d = e.context,
                    l = e.resolve,
                    a = e.reject,
                    u.CURRENT_APP_CONTEXT === e.context) {
                        let e;
                        e = !1,
                        (0,
                        i.openModalLazy)(async()=>{
                            let {default: t} = await Promise.all([n.e("99387"), n.e("39305")]).then(n.bind(n, "134817"));
                            return n=>{
                                let {onClose: l, ...a} = n;
                                return (0,
                                s.jsx)(t, {
                                    ...a,
                                    onClose: t=>{
                                        e = t,
                                        l()
                                    }
                                })
                            }
                        }
                        , {
                            onCloseCallback: ()=>{
                                (0,
                                o.closeModal)(e)
                            }
                        })
                    }
                }
                ),
                r.default.subscribe("PREMIUM_REQUIRED_MODAL_CLOSE", e=>{
                    let {shouldContinue: t} = e;
                    d = null,
                    c(t)
                }
                ),
                r.default.subscribe("OVERLAY_SET_INPUT_LOCKED", e=>{
                    let {locked: t} = e;
                    t && null != d && (d = null,
                    c(!1))
                }
                )
            }
        }
    },
    362446: function(e, t, n) {
        "use strict";
        n.r(t),
        n("724458");
        var l, a, s, i, r = n("442837"), o = n("570140"), u = n("981631");
        let d = {};
        function c(e) {
            let t = d[e = null != e ? e : "null"];
            return null == t && (t = d[e] = {
                state: u.RTCConnectionStates.DISCONNECTED,
                quality: u.RTCConnectionQuality.UNKNOWN,
                pings: [],
                hostname: null,
                lossRate: null
            }),
            t
        }
        function f(e, t, n) {
            let l = d[e = null != e ? e : "null"];
            return null != l ? t(l) : n
        }
        class h extends (l = r.default.Store) {
            getConnectionState(e) {
                return f(e, e=>{
                    let {state: t} = e;
                    return t
                }
                , u.RTCConnectionStates.DISCONNECTED)
            }
            getQuality(e) {
                return f(e, e=>{
                    let {quality: t} = e;
                    return t
                }
                , u.RTCConnectionQuality.UNKNOWN)
            }
            getHostname(e) {
                return f(e, e=>{
                    let {hostname: t} = e;
                    return t
                }
                , null)
            }
            getPings(e) {
                return f(e, e=>{
                    let {pings: t} = e;
                    return t
                }
                , [])
            }
            getAveragePing(e) {
                let t = this.getPings(e);
                return 0 === t.length ? 0 : t.reduce((e,t)=>e + t.value, 0) / t.length
            }
            getLastPing(e) {
                var t;
                let n = this.getPings(e);
                if (0 === n.length)
                    return 0;
                return null === (t = n[n.length - 1]) || void 0 === t ? void 0 : t.value
            }
            getOutboundLossRate(e) {
                return f(e, e=>{
                    let {lossRate: t} = e;
                    return t
                }
                , null)
            }
        }
        i = "OverlayRTCConnectionStore",
        (s = "displayName")in (a = h) ? Object.defineProperty(a, s, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : a[s] = i,
        t.default = new h(o.default,{
            OVERLAY_INITIALIZE: function(e) {
                d = e.rtcConnectionStates
            },
            RTC_CONNECTION_STATE: function(e) {
                if (null != e.streamKey)
                    return !1;
                let t = c(e.lobbyId);
                t.state = e.state,
                t.hostname = e.hostname
            },
            RTC_CONNECTION_PING: function(e) {
                let t = c(e.lobbyId);
                t.pings = e.pings,
                t.quality = e.quality
            },
            RTC_CONNECTION_LOSS_RATE: function(e) {
                c(e.lobbyId).lossRate = e.lossRate
            }
        })
    },
    801077: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120"),
        n("653041"),
        n("724458");
        var l, a, s, i, r = n("392711"), o = n.n(r), u = n("442837"), d = n("570140"), c = n("782769"), f = n("527805"), h = n("841784"), m = n("503438"), C = n("802856"), p = n("420660"), g = n("728345"), E = n("812206"), S = n("710845"), _ = n("38618"), I = n("656063"), N = n("761282"), T = n("814443"), A = n("789407"), L = n("630186"), v = n("250889"), x = n("199902"), R = n("592125"), M = n("480294"), y = n("831506"), O = n("731290"), b = n("430824"), D = n("496675"), j = n("158776"), P = n("699516"), G = n("594174"), U = n("979651"), w = n("823379"), B = n("981631");
        let F = !1
          , V = !1
          , H = []
          , k = []
          , Y = {}
          , K = {}
          , W = new Set
          , z = new Set;
        function Z() {
            let e = P.default.getFriendIDs();
            return M.default.hasConsented(B.Consents.PERSONALIZATION) ? new Set([...T.default.getUserAffinitiesUserIds(), ...e]) : new Set(e)
        }
        function X(e) {
            return j.default.findActivity(e, e=>e.type !== B.ActivityTypes.CUSTOM_STATUS)
        }
        function q(e) {
            return null == Y[e] && (Y = {
                ...Y,
                [e]: new v.default({
                    name: e
                })
            }),
            Y[e]
        }
        function Q(e) {
            return null == K[e] && (K = {
                ...K,
                [e]: new L.default({
                    url: e
                })
            }),
            K[e]
        }
        function J(e) {
            !z.has(e) && W.add(e)
        }
        function $(e) {
            if ((0,
            m.default)(e))
                return A.SpotifyApplication;
            let t = null != e.application_id ? E.default.getApplication(e.application_id) : null;
            return null != t ? t : (0,
            C.default)(e) ? q(e.name) : (0,
            p.default)(e) && null != e.url ? Q(e.url) : (null != e.application_id && J(e.application_id),
            t)
        }
        function ee(e) {
            let t = U.default.getVoiceStateForUser(e);
            return (null == t ? void 0 : t.channelId) != null && D.default.canWithPartialContext(B.Permissions.VIEW_CHANNEL, {
                channelId: t.channelId
            }) ? t.channelId : null
        }
        function et(e) {
            return P.default.isFriend(e.id)
        }
        function en(e, t, n) {
            var l, a, s, i, r, u;
            let d;
            let m = G.default.getCurrentUser()
              , C = null !== (l = null == m ? void 0 : m.nsfwAllowed) && void 0 !== l && l
              , p = t.map(e=>e.id)
              , g = t.filter(t=>e.has(t.id))
              , _ = !1
              , T = []
              , M = new Set
              , P = !1
              , B = [];
            for (let e of t) {
                let n = x.default.getAnyStreamForUser(e.id)
                  , l = R.default.getChannel(null == n ? void 0 : n.channelId);
                if ((null == l ? void 0 : l.isNSFW()) && (!C || !O.default.didAgree(null == l ? void 0 : l.getGuildId())))
                    continue;
                let r = X(e.id);
                if (null != n && B.push({
                    stream: n,
                    streamUser: e,
                    activity: r
                }),
                null == r)
                    continue;
                let u = (0,
                I.default)(r);
                if (null == u)
                    continue;
                P = u === A.SPOTIFY_APPLICATION_ID;
                let d = function(e) {
                    let t = E.default.getApplication(e);
                    return null != t ? t : "string" != typeof e ? (new S.default("NowPlayingViewStore").error("Unknown type for applicationId: ".concat(typeof e, ", value: ").concat(e), {
                        tags: {
                            source: "ACTIVITIES"
                        }
                    }),
                    null) : e === A.SPOTIFY_APPLICATION_ID ? A.SpotifyApplication : e.startsWith(v.XBOX_APPLICATION_ID_PREFIX) ? q(e.slice(v.XBOX_APPLICATION_ID_PREFIX.length)) : e.startsWith(L.TWITCH_APPLICATION_ID_PREFIX) ? Q(e.slice(L.TWITCH_APPLICATION_ID_PREFIX.length)) : (J(e),
                    null)
                }(u)
                  , p = null === (a = r.timestamps) || void 0 === a ? void 0 : a.start;
                if ((0,
                h.default)(r)) {
                    let t = (0,
                    c.getIsActivitiesEnabledForCurrentPlatform)();
                    if ((0,
                    f.default)({
                        activity: r,
                        userId: e.id,
                        application: d,
                        channelId: null === (s = U.default.getVoiceStateForUser(e.id)) || void 0 === s ? void 0 : s.channelId,
                        currentUser: m,
                        isActivitiesEnabledForCurrentPlatform: t,
                        ChannelStore: R.default,
                        VoiceStateStore: U.default,
                        PermissionStore: D.default,
                        GuildStore: b.default
                    }) !== f.EmbeddedActivityJoinability.CAN_JOIN)
                        continue
                } else if (null == p)
                    continue;
                if (!N.shouldShowActivity(r) || null == d || M.has(d.id))
                    continue;
                let g = null != r ? $(r) : null;
                (null == g || g.id !== d.id) && (r = null);
                let j = [];
                j = null != r && null != r.party && null != r.party.id ? Array.from(null !== (i = y.default.getParty(r.party.id)) && void 0 !== i ? i : []).reduce((e,t)=>{
                    let n = G.default.getUser(t);
                    return null != n && e.push(n),
                    e
                }
                , []) : t.filter(e=>{
                    let t = X(e.id)
                      , n = null != t ? $(t) : null;
                    return null != n && n.id === d.id
                }
                ),
                (j = o().orderBy(j, [et], ["desc"])).length !== t.length && (_ = !0),
                M.add(d.id),
                T.push({
                    game: d,
                    activity: r,
                    activityUser: e,
                    startedPlayingTime: p,
                    playingMembers: j
                })
            }
            let F = 1 === g.length
              , V = []
              , H = new Set
              , k = new Set;
            for (let e of t) {
                let n = ee(e.id)
                  , l = R.default.getChannel(n)
                  , a = null != l ? l.getGuildId() : null
                  , s = b.default.getGuild(a);
                if (k.has(a) && H.has(n) || null == l || null == s || l.id === s.afkChannelId)
                    null == l && (d = null,
                    F = !0);
                else {
                    let e = o()(U.default.getVoiceStatesForChannel(l.id)).map(e=>{
                        let {userId: t} = e;
                        return G.default.getUser(t)
                    }
                    ).filter(w.isNotNullish).orderBy([et], ["desc"]).value();
                    e.filter(e=>!p.includes(e.id)).forEach(e=>t.push(e)),
                    F ? !k.has(a) && (d = null) : (d = s,
                    F = !0),
                    k.add(a),
                    H.add(n),
                    V.push({
                        channel: l,
                        guild: s,
                        members: e
                    })
                }
            }
            return {
                id: n,
                voiceChannels: V,
                isSpotifyActivity: P,
                priorityMembers: g.map(e=>({
                    user: e,
                    status: j.default.getStatus(e.id)
                })),
                partiedMembers: t,
                showPlayingMembers: _,
                guildContext: d,
                currentActivities: (r = T,
                u = e=>{
                    var t;
                    return null !== (t = e.startedPlayingTime) && void 0 !== t ? t : 0
                }
                ,
                o()(r).orderBy([u, e=>e.game.name], ["desc", "asc"])).value(),
                applicationStreams: B
            }
        }
        function el() {
            return F && _.default.isConnected()
        }
        let ea = o().throttle(()=>{
            !function() {
                var e;
                if (!el())
                    return;
                W.clear(),
                k = (H = (function(e) {
                    let t = Z()
                      , n = en.bind(null, t);
                    return o()(e).mapValues(n)
                }
                )((e = Array.from(Z()).reduce((e,t)=>{
                    let n = G.default.getUser(t);
                    return null != n && !n.bot && e.push(n),
                    e
                }
                , []),
                o()(e).groupBy(e=>{
                    var t;
                    let n = ee(e.id)
                      , l = X(e.id);
                    return null != n ? "".concat("channel-", "-").concat(n) : (null == l ? void 0 : null === (t = l.party) || void 0 === t ? void 0 : t.id) != null ? "".concat("party-", "-").concat(l.party.id) : "".concat("user-", "-").concat(e.id)
                }
                ))).values().orderBy([e=>e.partiedMembers.length > 1, e=>e.applicationStreams.length > 0, e=>e.voiceChannels.length > 0, e=>e.currentActivities.length > 0, e=>e.isSpotifyActivity, e=>e.priorityMembers.map(e=>e.user.username.toLowerCase()).join(" ")], ["desc", "desc", "desc", "desc", "asc", "asc"]).value().filter(e=>e.voiceChannels.length >= 1 || e.currentActivities.length > 0 || e.applicationStreams.length > 0)).map(e=>({
                    type: B.ActivityCardTypes.USER,
                    party: e
                })),
                !function() {
                    if (W.size > 0) {
                        let e = Array.from(W);
                        g.default.fetchApplications(e),
                        e.forEach(e=>z.add(e)),
                        W.clear()
                    }
                }(),
                V = !0
            }(),
            er.emitChange()
        }
        , 1e3);
        function es() {
            return !!el() && (ea(),
            !1)
        }
        class ei extends (l = u.default.Store) {
            initialize() {
                this.syncWith([G.default, E.default, j.default, y.default, U.default, x.default, P.default, M.default, T.default], es),
                this.waitFor(_.default, b.default, E.default, G.default, T.default)
            }
            get currentActivityParties() {
                return H
            }
            get nowPlayingCards() {
                return k
            }
            get isMounted() {
                return F
            }
            get loaded() {
                return V
            }
        }
        i = "NowPlayingViewStore",
        (s = "displayName")in (a = ei) ? Object.defineProperty(a, s, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : a[s] = i;
        let er = new ei(d.default,{
            LOGOUT: function() {
                F = !1,
                H = [],
                k = [],
                W.clear()
            },
            NOW_PLAYING_MOUNTED: function() {
                F = !0,
                ea()
            },
            NOW_PLAYING_UNMOUNTED: function() {
                F = !1
            }
        });
        t.default = er
    },
    816779: function(e, t, n) {
        "use strict";
        n.r(t),
        n("47120"),
        n("653041");
        var l, a = n("735250"), s = n("470079"), i = n("120356"), r = n.n(i), o = n("954955"), u = n.n(o), d = n("748780"), c = n("902704"), f = n("481060"), h = n("306016");
        function m(e, t, n) {
            return t in e ? Object.defineProperty(e, t, {
                value: n,
                enumerable: !0,
                configurable: !0,
                writable: !0
            }) : e[t] = n,
            e
        }
        let C = {
            friction: 10,
            tension: 300
        };
        class p extends s.Component {
            shouldComponentUpdate(e, t) {
                return !(0,
                c.default)(this.props, e, ["animate"]) || !(0,
                c.default)(this.state, t)
            }
            componentDidMount() {
                let {hide: e} = this.props;
                e ? this.state.translateY.setValue(1) : this.state.translateY.setValue(0)
            }
            componentDidUpdate(e) {
                let {hide: t} = e
                  , {hide: n} = this.props;
                n && !t ? this.animateOut() : !n && t && this.animateIn()
            }
            componentWillUnmount() {
                null != this._timeout && clearTimeout(this._timeout)
            }
            animateIn() {
                let {translateY: e} = this.state;
                if (null != this._timeout && clearTimeout(this._timeout),
                !this.props.animate) {
                    e.setValue(0);
                    return
                }
                this._timeout = setTimeout(()=>{
                    d.default.spring(e, {
                        toValue: 0,
                        ...C
                    }).start()
                }
                , 100)
            }
            animateOut() {
                let {translateY: e} = this.state;
                if (null != this._timeout && clearTimeout(this._timeout),
                !this.props.animate) {
                    e.setValue(1);
                    return
                }
                d.default.spring(e, {
                    toValue: 1,
                    ...C
                }).start()
            }
            render() {
                let {className: e, text: t, hide: n, onClick: l} = this.props;
                return (0,
                a.jsx)(d.default.div, {
                    className: r()(h.bar, e),
                    onClick: l,
                    style: this.getAnimatedStyle(),
                    "aria-hidden": n,
                    children: (0,
                    a.jsx)("span", {
                        className: h.text,
                        children: t
                    })
                })
            }
            getAnimatedStyle() {
                let {translateY: e} = this.state
                  , {reverse: t} = this.props;
                return {
                    transform: [{
                        translateY: e.interpolate({
                            inputRange: [0, 1],
                            outputRange: ["0%", t ? "180%" : "-180%"]
                        })
                    }]
                }
            }
            constructor(e) {
                super(e),
                m(this, "_timeout", void 0),
                this.state = {
                    translateY: new d.default.Value,
                    reduceMotion: !1
                }
            }
        }
        class g extends (l = s.PureComponent) {
            componentDidMount() {
                this.calculateState()
            }
            componentDidUpdate() {
                this.calculateState()
            }
            componentWillUnmount() {
                this.calculateState.cancel()
            }
            render() {
                let {unread: e, mention: t} = this.state
                  , {textMention: n, textUnread: l, reverse: s, className: i, barClassName: o, hide: u, animate: d} = this.props
                  , {reducedMotion: c} = this.context;
                return (0,
                a.jsx)("div", {
                    className: null != i ? i : void 0,
                    children: (0,
                    a.jsx)(p, {
                        hide: !0 === u || null == e && null == t,
                        className: r()(o, null != t ? h.mention : h.unread),
                        text: null != t ? n : l,
                        reverse: s,
                        animate: d && !c.enabled,
                        onClick: this.handleClick
                    })
                })
            }
            constructor(...e) {
                super(...e),
                m(this, "state", {
                    unread: null,
                    mention: null
                }),
                m(this, "calculateState", u()(()=>{
                    let {items: e, expandedFolders: t, isVisible: n, isUnread: l, isMentioned: a, reverse: s, onCalculate: i} = this.props
                      , r = null
                      , o = null
                      , u = [];
                    e.forEach(e=>{
                        "string" == typeof e ? u.push(e) : "object" == typeof e && null != e.folderId ? null != t && t.has(e.folderId) ? (u.push("folder:".concat(e.folderId)),
                        e.guildIds.forEach(e=>u.push(e))) : u.push(e.guildIds) : u.push(e.guildIds[0])
                    }
                    );
                    let d = e=>{
                        null == r && a(e, s, u) && (r = e),
                        null == o && l(e, s, u) && (o = e)
                    }
                      , c = s ? u.length - 1 : 0
                      , f = u[c];
                    for (; null != f; ) {
                        if ("string" == typeof f) {
                            if (n(f, s, u))
                                break;
                            d(f)
                        } else {
                            let e = !1;
                            for (let t of f) {
                                if (n(t, s, u)) {
                                    e = !0;
                                    break
                                }
                                d(t)
                            }
                            if (e)
                                break
                        }
                        c += s ? -1 : 1,
                        f = u[c]
                    }
                    null != i && i(r, o, s),
                    this.setState({
                        mention: r,
                        unread: o
                    })
                }
                , 200)),
                m(this, "handleClick", e=>{
                    e.preventDefault(),
                    e.stopPropagation();
                    let {unread: t, mention: n} = this.state
                      , {onJumpTo: l} = this.props
                      , a = null != n ? n : t;
                    null != a && l(a, [n, t])
                }
                )
            }
        }
        m(g, "contextType", f.AccessibilityPreferencesContext),
        m(g, "defaultProps", {
            className: h.container,
            reverse: !1,
            hide: !1,
            animate: !0
        }),
        t.default = g
    },
    28718: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return r
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("649420");
        function r(e) {
            let {selected: t, muted: n=!1, highlighted: a=!1, wrapContent: r=!1, avatar: o, decorators: u, name: d, subText: c, avatarClassName: f, innerClassName: h} = e;
            return (0,
            l.jsxs)("div", {
                className: s()(h, i.layout, {
                    [i.muted]: !t && n,
                    [i.highlighted]: a,
                    [i.wrappedLayout]: r
                }),
                children: [(0,
                l.jsx)("div", {
                    className: s()(i.avatar, f),
                    children: o
                }), (0,
                l.jsxs)("div", {
                    className: i.content,
                    children: [(0,
                    l.jsxs)("div", {
                        className: i.nameAndDecorators,
                        children: [(0,
                        l.jsx)("div", {
                            className: s()(i.name, {
                                [i.wrappedName]: r
                            }),
                            children: d
                        }), u]
                    }), null != c ? (0,
                    l.jsx)("div", {
                        className: i.subText,
                        children: c
                    }) : null]
                })]
            })
        }
    },
    733880: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("481060")
          , o = n("595408");
        let u = a.forwardRef(function(e, t) {
            let {className: n, focusProps: a, ...s} = e;
            return (0,
            l.jsx)(r.FocusRing, {
                ...a,
                children: (0,
                l.jsx)("li", {
                    className: i()(n, o.container),
                    ...s,
                    ref: t
                })
            })
        });
        t.default = u
    },
    291082: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250");
        n("470079");
        var a = n("960259")
          , s = n("596440")
          , i = n("325767");
        t.default = (0,
        a.replaceIcon)(function(e) {
            let {width: t=48, height: n=48, color: a="currentColor", ...s} = e;
            return (0,
            l.jsxs)("svg", {
                ...(0,
                i.default)(s),
                width: t,
                height: n,
                fill: a,
                viewBox: "0 0 48 48",
                xmlns: "http://www.w3.org/2000/svg",
                children: [(0,
                l.jsx)("path", {
                    d: "M19 6H13C11.9 6 11 6.9 11 8V40C11 41.1 11.9 42 13 42H19C20.1 42 21 41.1 21 40V8C21 6.9 20.1 6 19 6Z",
                    fill: "white"
                }), (0,
                l.jsx)("path", {
                    d: "M35 6H29C27.9 6 27 6.9 27 8V40C27 41.1 27.9 42 29 42H35C36.1 42 37 41.1 37 40V8C37 6.9 36.1 6 35 6Z",
                    fill: "white"
                })]
            })
        }, s.PauseIcon, void 0, {
            size: 48
        })
    },
    729565: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("735250");
        n("470079");
        var a = n("960259")
          , s = n("292975")
          , i = n("325767");
        t.default = (0,
        a.replaceIcon)(function(e) {
            let {width: t=16, height: n=16, color: a="currentColor", foreground: s, ...r} = e;
            return (0,
            l.jsx)("svg", {
                ...(0,
                i.default)(r),
                width: t,
                height: n,
                viewBox: "0 0 24 24",
                children: (0,
                l.jsx)("path", {
                    className: s,
                    fill: a,
                    d: "M7 1C6.73479 1.00003 6.48045 1.10539 6.29292 1.29292C6.10539 1.48045 6.00003 1.73479 6 2V6C6.00009 6.23417 6.08234 6.46088 6.23242 6.64062L10.6992 12L6.23242 17.3594C6.08234 17.5391 6.00009 17.7658 6 18V22C6.00003 22.2652 6.10539 22.5195 6.29292 22.7071C6.48045 22.8946 6.73479 23 7 23H17C17.2652 23 17.5195 22.8946 17.7071 22.7071C17.8946 22.5195 18 22.2652 18 22V18C17.9999 17.7658 17.9177 17.5391 17.7676 17.3594L13.3008 12L17.7676 6.64062C17.9177 6.46088 17.9999 6.23417 18 6V2C18 1.73479 17.8946 1.48045 17.7071 1.29292C17.5195 1.10539 17.2652 1.00003 17 1H7ZM12 13.5625L16 18.3613V21H8V18.3613L12 13.5625Z"
                })
            })
        }, s.HourglassIcon, void 0, {
            size: 16
        })
    },
    72416: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return s
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("325767");
        function s(e) {
            let {width: t=24, height: n=24, color: s="currentColor", foreground: i, ...r} = e;
            return (0,
            l.jsxs)("svg", {
                ...(0,
                a.default)(r),
                width: t,
                height: n,
                viewBox: "0 0 24 24",
                children: [(0,
                l.jsx)("path", {
                    d: "M7.19999 18C7.19999 17.3364 6.77 16.8 6.24019 16.8H3.3598C2.82999 16.8 2.39999 17.3364 2.39999 18V20.4C2.39999 21.0636 2.82999 21.6 3.3598 21.6H6.23923C6.76904 21.6 7.19903 21.0636 7.19903 20.4V18H7.19999Z",
                    fill: s,
                    className: i
                }), (0,
                l.jsx)("path", {
                    d: "M14.4 10.6909C14.4 10.0876 13.9699 9.6 13.44 9.6H10.56C10.0301 9.6 9.60001 10.0876 9.60001 10.6909V20.5091C9.60001 21.1124 10.0301 21.6 10.56 21.6H13.44C13.9699 21.6 14.4 21.1124 14.4 20.5091V10.6909Z",
                    fill: s,
                    className: i
                }), (0,
                l.jsx)("path", {
                    d: "M21.6 3.46667C21.6 2.8768 21.1699 2.4 20.64 2.4H17.76C17.2301 2.4 16.8 2.8768 16.8 3.46667V20.5333C16.8 21.1232 17.2301 21.6 17.76 21.6H20.64C21.1699 21.6 21.6 21.1232 21.6 20.5333V3.46667Z",
                    fill: s,
                    className: i
                })]
            })
        }
    },
    976401: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return d
            }
        });
        var l = n("735250")
          , a = n("470079")
          , s = n("120356")
          , i = n.n(s)
          , r = n("481060")
          , o = n("806519")
          , u = n("201113");
        function d(e) {
            let {tooltipText: t, children: n, onContextMenu: s, onClick: d, disabled: c, icon: f, iconForeground: h, innerClassName: m, tooltipClassName: C, onMouseEnter: p, onMouseLeave: g, "aria-label": E, "aria-checked": S, role: _, tooltipColor: I, tooltipForceOpen: N} = e
              , T = a.isValidElement(f) ? f : (0,
            l.jsx)(f, {
                width: 20,
                height: 20,
                size: "custom",
                foreground: h
            });
            return (0,
            l.jsx)(r.Tooltip, {
                tooltipClassName: C,
                text: t,
                "aria-label": E,
                color: I,
                forceOpen: N,
                children: e=>{
                    let {onClick: t, onMouseEnter: a, onMouseLeave: f, ...h} = e;
                    return (0,
                    l.jsxs)(r.Button, {
                        ...h,
                        look: r.Button.Looks.BLANK,
                        size: r.Button.Sizes.NONE,
                        disabled: c,
                        innerClassName: m,
                        wrapperClassName: u.button,
                        className: i()(u.button, {
                            [u.disabled]: c,
                            [u.enabled]: !c
                        }),
                        onClick: e=>{
                            null != t && t(),
                            null != d && d(e)
                        }
                        ,
                        onMouseEnter: ()=>{
                            null == a || a(),
                            null == p || p()
                        }
                        ,
                        onMouseLeave: ()=>{
                            null == f || f(),
                            null == g || g()
                        }
                        ,
                        onContextMenu: s,
                        role: _,
                        "aria-checked": S,
                        children: [null != n ? (0,
                        l.jsx)(o.default, {
                            width: 20,
                            height: 20,
                            mask: o.default.Masks.PANEL_BUTTON,
                            children: T
                        }) : T, n]
                    })
                }
            })
        }
    },
    333454: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("481060")
          , r = n("258813");
        function o(e) {
            let {children: t, className: n} = e;
            return (0,
            l.jsx)(i.Text, {
                color: "none",
                className: s()(r.subtext, n),
                variant: "text-xs/normal",
                children: t
            })
        }
    },
    864441: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            default: function() {
                return o
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("120356")
          , s = n.n(a)
          , i = n("481060")
          , r = n("388912");
        function o(e) {
            let {children: t, className: n} = e;
            return (0,
            l.jsx)(i.Text, {
                color: "none",
                className: s()(r.title, n),
                variant: "text-sm/normal",
                children: t
            })
        }
    },
    281029: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            areTypesInSameSection: function() {
                return r
            },
            getDnDUpdates: function() {
                return f
            },
            getDropData: function() {
                return c
            }
        }),
        n("47120"),
        n("733860"),
        n("653041");
        var l = n("740504")
          , a = n("131704")
          , s = n("990492")
          , i = n("981631");
        function r(e, t) {
            return null != e && null != t && (e === t || (0,
            a.isGuildSelectableChannelType)(e) && (0,
            a.isGuildSelectableChannelType)(t) || (0,
            a.isGuildVocalChannelType)(e) && (0,
            a.isGuildVocalChannelType)(t))
        }
        function o(e, t, n, l) {
            let a = -1;
            if (l.find((e,n)=>{
                let {channel: l} = e;
                return l.id === t && (a = n,
                !0)
            }
            ),
            a < 0)
                return null;
            for (let t = a; t >= 0 && t < l.length; t += e) {
                let e = l[t];
                if (r(e.channel.type, n))
                    return e
            }
            return null
        }
        function u(e, t) {
            let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];
            if (null == e)
                return 0;
            let l = null;
            return t.filter(t=>{
                let {channel: {type: l}} = t;
                return null != e && (n || r(e.type, l))
            }
            ).find((t,n)=>{
                let {channel: {id: a}} = t;
                return null != e && a === e.id && (l = n,
                !0)
            }
            ),
            l
        }
        function d(e) {
            return {
                referenceId: e.id,
                parentId: e.parent_id
            }
        }
        function c(e, t, n, l, s) {
            if (null == e || null == n)
                return null;
            let {GUILD_CATEGORY: c} = i.ChannelTypes;
            if (e.type === c)
                return l === t || l < t && e.type === n.type ? d(n) : l > t ? function(e, t, n) {
                    var l;
                    let {GUILD_CATEGORY: a} = i.ChannelTypes
                      , s = n[(null !== (l = u(t, n, !0)) && void 0 !== l ? l : 0) + 1]
                      , r = o(-1, t.id, e.type, n);
                    return null == r || r.channel.id === e.id ? null : null == s || s.channel.type === a ? {
                        referenceId: r.channel.id,
                        parentId: null
                    } : null
                }(e, n, s) : null;
            if (r(e.type, n.type))
                return d(n);
            if (l < t)
                return n.type === c ? function(e, t, n) {
                    var l;
                    let s = n[(null !== (l = u(t, n, !0)) && void 0 !== l ? l : 0) - 1]
                      , i = o(1, t.id, e.type, n);
                    if (null == s)
                        return {
                            referenceId: null,
                            parentId: null
                        };
                    if (null != i) {
                        if (r(s.channel.type, e.type) || e.isGuildVocal() && (0,
                        a.isGuildSelectableChannelType)(s.channel.type))
                            return {
                                referenceId: i.channel.id,
                                parentId: s.channel.parent_id
                            };
                        if (s.channel.isCategory())
                            return {
                                referenceId: i.channel.id,
                                parentId: s.channel.id
                            }
                    }
                    return null
                }(e, n, s) : function(e, t, n) {
                    var l;
                    let s = n[(null !== (l = u(t, n, !0)) && void 0 !== l ? l : 0) - 1]
                      , i = o(1, t.id, e.type, n);
                    return null != s || e.isGuildVocal() ? (0,
                    a.isGuildSelectableChannelType)(e.type) && null != i && ((0,
                    a.isGuildSelectableChannelType)(s.channel.type) || s.channel.isCategory()) ? {
                        referenceId: i.channel.id,
                        parentId: t.parent_id
                    } : null : {
                        referenceId: null != i ? i.channel.id : null,
                        parentId: null
                    }
                }(e, n, s);
            return n.type === c ? function(e, t, n) {
                var l;
                let s = n[(null !== (l = u(t, n, !0)) && void 0 !== l ? l : 0) + 1]
                  , i = o(-1, t.id, e.type, n);
                if (null != i) {
                    if (null == s)
                        return {
                            referenceId: i.channel.id,
                            parentId: t.id
                        };
                    if (r(s.channel.type, e.type) || (0,
                    a.isGuildSelectableChannelType)(e.type) && s.channel.isGuildVocal())
                        return {
                            referenceId: i.channel.id,
                            parentId: s.channel.parent_id
                        };
                    if (s.channel.isCategory())
                        return {
                            referenceId: i.channel.id,
                            parentId: t.id
                        }
                }
                return null
            }(e, n, s) : function(e, t, n) {
                var l;
                let a = n[(null !== (l = u(t, n, !0)) && void 0 !== l ? l : 0) + 1]
                  , s = o(-1, t.id, e.type, n);
                if (null == s)
                    return null;
                if (e.isGuildVocal()) {
                    if (null == a || a.channel.isCategory())
                        return {
                            referenceId: s.channel.id,
                            parentId: t.parent_id
                        };
                    if (a.channel.isGuildVocal())
                        return {
                            referenceId: s.channel.id,
                            parentId: a.channel.parent_id
                        }
                }
                return e.isCategory() && (null == a || a.channel.isCategory()) ? {
                    referenceId: s.channel.id,
                    parentId: null
                } : null
            }(e, n, s)
        }
        function f(e, t, n, i) {
            let r, o, d = [], c = [], f = i._categories, h = t=>{
                var n, l, a, i;
                let u;
                if (null == r || null == o || (n = e,
                l = r,
                a = o,
                i = t,
                null != l && null != a && null != i[l] && i[l].channel === n && null != i[a] ? 0 : 1))
                    u = [...t];
                else
                    u = s.default.moveItemFromTo(t, r, o);
                return d = d.concat(s.default.calculatePositionDeltas({
                    oldOrdering: t,
                    newOrdering: u,
                    idGetter: e=>{
                        let {channel: t} = e;
                        return t.id
                    }
                    ,
                    existingPositionGetter: e=>{
                        let {channel: t} = e;
                        return t.position
                    }
                })),
                u
            }
            ;
            if (e.isCategory()) {
                let n = [...f].slice(1);
                r = u(e, n),
                o = u(t, n),
                (c = h(n)).unshift(f[0])
            }
            if ((0,
            a.isGuildSelectableChannelType)(e.type) || e.isCategory()) {
                let n = (0,
                l.default)(c.length > 0 ? c : f, i, e=>{
                    let {channel: {type: t}} = e;
                    return (0,
                    a.isGuildSelectableChannelType)(t)
                }
                );
                r = u(e, n),
                o = u(t, n),
                h(n)
            }
            if (e.isGuildVocal() || e.isCategory()) {
                let n = (0,
                l.default)(c.length > 0 ? c : f, i, e=>{
                    let {channel: t} = e;
                    return t.isGuildVocal()
                }
                );
                r = u(e, n),
                o = u(t, n),
                h(n)
            }
            if (e.parent_id !== n) {
                let t = !1;
                d.find(l=>l.id === e.id && (l.parent_id = n,
                t = !0)),
                !t && d.push({
                    id: e.id,
                    parent_id: n
                })
            }
            return d
        }
    },
    65205: function(e, t, n) {
        "use strict";
        function l(e, t, n) {
            return (n.y - e.y) * (t.x - e.x) > (t.y - e.y) * (n.x - e.x)
        }
        function a(e, t, n, a) {
            return l(e, n, a) !== l(t, n, a) && l(e, t, n) !== l(e, t, a)
        }
        function s(e, t, n) {
            let l = Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
            return {
                x: t.x + (t.x - e.x) / l * n,
                y: t.y + (t.y - e.y) / l * n
            }
        }
        function i(e, t, n) {
            let l = {
                x: n.x,
                y: n.y
            }
              , s = {
                x: n.x + n.width,
                y: n.y
            }
              , i = {
                x: n.x,
                y: n.y + n.height
            }
              , r = {
                x: n.x + n.width,
                y: n.y + n.height
            };
            return a(e, t, l, s) || a(e, t, s, r) || a(e, t, r, i) || a(e, t, i, l)
        }
        n.r(t),
        n.d(t, {
            doesLineSegmentIntersectRectangle: function() {
                return i
            },
            extendLineSegment: function() {
                return s
            }
        })
    },
    476221: function(e, t, n) {
        "use strict";
        n.r(t);
        var l = n("981631")
          , a = n("689938");
        t.default = {
            getStatus: function(e) {
                let t, n, s = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
                switch (e) {
                case l.RTCConnectionStates.CONNECTING:
                    t = l.ConnectionStatus.CONNECTING,
                    n = a.default.Messages.CONNECTION_STATUS_CONNECTING;
                    break;
                case l.RTCConnectionStates.AUTHENTICATING:
                    t = l.ConnectionStatus.CONNECTING,
                    n = a.default.Messages.CONNECTION_STATUS_AUTHENTICATING;
                    break;
                case l.RTCConnectionStates.AWAITING_ENDPOINT:
                    t = l.ConnectionStatus.CONNECTING,
                    n = a.default.Messages.CONNECTION_STATUS_AWAITING_ENDPOINT;
                    break;
                case l.RTCConnectionStates.RTC_CONNECTED:
                    t = l.ConnectionStatus.CONNECTED,
                    n = s ? a.default.Messages.CONNECTION_STATUS_VIDEO_CONNECTED : a.default.Messages.CONNECTION_STATUS_VOICE_CONNECTED;
                    break;
                case l.RTCConnectionStates.RTC_CONNECTING:
                    t = l.ConnectionStatus.CONNECTING,
                    n = a.default.Messages.CONNECTION_STATUS_RTC_CONNECTING;
                    break;
                case l.RTCConnectionStates.ICE_CHECKING:
                    t = l.ConnectionStatus.CONNECTING,
                    n = a.default.Messages.CONNECTION_STATUS_ICE_CHECKING;
                    break;
                case l.RTCConnectionStates.DTLS_CONNECTING:
                    t = l.ConnectionStatus.CONNECTING,
                    n = a.default.Messages.CONNECTION_STATUS_DTLS_CONNECTING;
                    break;
                case l.RTCConnectionStates.NO_ROUTE:
                    t = l.ConnectionStatus.ERROR,
                    n = a.default.Messages.CONNECTION_STATUS_NO_ROUTE;
                    break;
                case l.RTCConnectionStates.RTC_DISCONNECTED:
                    t = l.ConnectionStatus.ERROR,
                    n = a.default.Messages.CONNECTION_STATUS_RTC_DISCONNECTED;
                    break;
                case l.RTCConnectionStates.DISCONNECTED:
                default:
                    t = l.ConnectionStatus.ERROR,
                    n = a.default.Messages.CONNECTION_STATUS_DISCONNECTED
                }
                return {
                    connectionStatus: t,
                    connectionStatusText: n
                }
            },
            getShortHostname: function(e) {
                return null == e ? "" : e.split(".")[0]
            }
        }
    },
    567453: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            ConnectionAverageIcon: function() {
                return i
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("692547")
          , s = n("331595");
        let i = e=>{
            let {width: t=24, height: n=24, color: i=a.default.colors.STATUS_WARNING, colorClass: r="", ...o} = e;
            return (0,
            l.jsxs)("svg", {
                ...(0,
                s.default)(o),
                xmlns: "http://www.w3.org/2000/svg",
                width: t,
                height: n,
                fill: "none",
                viewBox: "0 0 24 24",
                children: [(0,
                l.jsx)("path", {
                    fill: "string" == typeof i ? i : i.css,
                    d: "M3 7a1 1 0 0 0 0 2 12 12 0 0 1 12 12 1 1 0 1 0 2 0A14 14 0 0 0 3 7Z",
                    className: r
                }), (0,
                l.jsx)("path", {
                    fill: "string" == typeof i ? i : i.css,
                    d: "M3 12a1 1 0 1 0 0 2 7 7 0 0 1 7 7 1 1 0 1 0 2 0 9 9 0 0 0-9-9ZM2 17.83c0-.46.37-.83.83-.83C5.13 17 7 18.87 7 21.17c0 .46-.37.83-.83.83H3a1 1 0 0 1-1-1v-3.17Z",
                    className: r
                })]
            })
        }
    },
    486081: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            ConnectionBadIcon: function() {
                return i
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("692547")
          , s = n("331595");
        let i = e=>{
            let {width: t=24, height: n=24, color: i=a.default.colors.STATUS_DANGER, colorClass: r="", ...o} = e;
            return (0,
            l.jsx)("svg", {
                ...(0,
                s.default)(o),
                xmlns: "http://www.w3.org/2000/svg",
                width: t,
                height: n,
                fill: "none",
                viewBox: "0 0 24 24",
                children: (0,
                l.jsx)("path", {
                    fill: "string" == typeof i ? i : i.css,
                    d: "M2 13a1 1 0 0 1 1-1 9 9 0 0 1 9 9 1 1 0 1 1-2 0 7 7 0 0 0-7-7 1 1 0 0 1-1-1ZM2 17.83c0-.46.37-.83.83-.83C5.13 17 7 18.87 7 21.17c0 .46-.37.83-.83.83H3a1 1 0 0 1-1-1v-3.17Z",
                    className: r
                })
            })
        }
    },
    135616: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            ConnectionFineIcon: function() {
                return i
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("692547")
          , s = n("331595");
        let i = e=>{
            let {width: t=24, height: n=24, color: i=a.default.colors.STATUS_POSITIVE, colorClass: r="", ...o} = e;
            return (0,
            l.jsxs)("svg", {
                ...(0,
                s.default)(o),
                xmlns: "http://www.w3.org/2000/svg",
                width: t,
                height: n,
                fill: "none",
                viewBox: "0 0 24 24",
                children: [(0,
                l.jsx)("path", {
                    fill: "string" == typeof i ? i : i.css,
                    d: "M2 3a1 1 0 0 1 1-1 19 19 0 0 1 19 19 1 1 0 1 1-2 0A17 17 0 0 0 3 4a1 1 0 0 1-1-1Z",
                    className: r
                }), (0,
                l.jsx)("path", {
                    fill: "string" == typeof i ? i : i.css,
                    d: "M2 8a1 1 0 0 1 1-1 14 14 0 0 1 14 14 1 1 0 1 1-2 0A12 12 0 0 0 3 9a1 1 0 0 1-1-1Z",
                    className: r
                }), (0,
                l.jsx)("path", {
                    fill: "string" == typeof i ? i : i.css,
                    d: "M3 12a1 1 0 1 0 0 2 7 7 0 0 1 7 7 1 1 0 1 0 2 0 9 9 0 0 0-9-9ZM2 17.83c0-.46.37-.83.83-.83C5.13 17 7 18.87 7 21.17c0 .46-.37.83-.83.83H3a1 1 0 0 1-1-1v-3.17Z",
                    className: r
                })]
            })
        }
    },
    34104: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            ConnectionUnknownIcon: function() {
                return i
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("692547")
          , s = n("331595");
        let i = e=>{
            let {width: t=24, height: n=24, color: i=a.default.colors.INTERACTIVE_NORMAL, colorClass: r="", ...o} = e;
            return (0,
            l.jsxs)("svg", {
                ...(0,
                s.default)(o),
                xmlns: "http://www.w3.org/2000/svg",
                width: t,
                height: n,
                fill: "none",
                viewBox: "0 0 24 24",
                children: [(0,
                l.jsx)("path", {
                    fill: "string" == typeof i ? i : i.css,
                    d: "M2 3a1 1 0 0 1 1-1c6.92 0 12.97 3.7 16.3 9.22.22.37-.15.86-.6.9-.2.02-.4.06-.6.12a.58.58 0 0 1-.67-.22C14.43 7.2 9.1 4 3 4a1 1 0 0 1-1-1ZM15.48 15.15a.5.5 0 0 0 .02-.47A14 14 0 0 0 3 7a1 1 0 0 0 0 2 12 12 0 0 1 10.95 7.09c.18.39.74.44.96.07l.57-1.01ZM2 13a1 1 0 0 1 1-1 9 9 0 0 1 9 9 1 1 0 1 1-2 0 7 7 0 0 0-7-7 1 1 0 0 1-1-1ZM2 17.83c0-.46.37-.83.83-.83C5.13 17 7 18.87 7 21.17c0 .46-.37.83-.83.83H3a1 1 0 0 1-1-1v-3.17Z",
                    className: r
                }), (0,
                l.jsx)("path", {
                    fill: "string" == typeof i ? i : i.css,
                    fillRule: "evenodd",
                    d: "M18.09 14.63c.4-.7 1.43-.7 1.82 0l3.96 6.9c.38.66-.12 1.47-.91 1.47h-7.92c-.79 0-1.3-.81-.91-1.48l3.96-6.9Zm.46 1.87h.9c.3 0 .52.26.5.55l-.22 2.02c-.01.16-.17.26-.33.23a1.93 1.93 0 0 0-.8 0c-.16.03-.32-.07-.33-.23l-.21-2.02a.5.5 0 0 1 .5-.55ZM19 22a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",
                    clipRule: "evenodd",
                    className: r
                })]
            })
        }
    },
    393548: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            PlusMediumIcon: function() {
                return i
            }
        });
        var l = n("735250");
        n("470079");
        var a = n("692547")
          , s = n("331595");
        let i = e=>{
            let {width: t=24, height: n=24, color: i=a.default.colors.INTERACTIVE_NORMAL, colorClass: r="", ...o} = e;
            return (0,
            l.jsx)("svg", {
                ...(0,
                s.default)(o),
                xmlns: "http://www.w3.org/2000/svg",
                width: t,
                height: n,
                fill: "none",
                viewBox: "0 0 24 24",
                children: (0,
                l.jsx)("path", {
                    fill: "string" == typeof i ? i : i.css,
                    d: "M13 5a1 1 0 1 0-2 0v6H5a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V5Z",
                    className: r
                })
            })
        }
    },
    438882: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            generateDisplayableCode: function() {
                return l
            }
        }),
        n("411104");
        function l(e, t, n) {
            if (e.byteLength < t)
                throw Error("data.byteLength must be greater than or equal to desiredLength");
            if (t % n != 0)
                throw Error("desiredLength must be a multiple of groupSize");
            if (n > 8)
                throw Error("groupSize must be less than or equal to ".concat(8));
            let l = BigInt(10 ** n)
              , a = "";
            for (let s = 0; s < t; s += n) {
                let t = BigInt(0);
                for (let l = n; l > 0; --l)
                    t = t << 8n | BigInt(e[s + (n - l)]);
                t %= l,
                a += t.toString().padStart(n, "0")
            }
            return a
        }
    },
    253135: function(e, t, n) {
        "use strict";
        n.r(t),
        n.d(t, {
            generateDisplayableCode: function() {
                return l.generateDisplayableCode
            }
        });
        var l = n("438882")
    }
}]);
//# sourceMappingURL=39e933c1264e4dd3bdd4.js.map
